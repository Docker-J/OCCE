import{f,g,u as v,h as x,d as k,i as D,a as P,r as A,j as l,e,T as S,k as b,F as w}from"./index-C7O2x3CB.js";import{P as d}from"./PushPin-C_3Dfyrw.js";import{E as I}from"./EditNote-wgPgoosz.js";import{D as N}from"./Delete-oBVr0A8D.js";import{F as E,D as M}from"./FullScreenLoading-pB3fpmLT.js";import{A as T}from"./AdminComponent-Kuz2ZndF.js";import{A as j,p as C,d as L}from"./AnnouncementPostModal-DiRhYTIJ.js";import{S as B,a as F,b as H}from"./SpeedDialIcon-DZq59-g9.js";import"./CircularProgress-BYsvZrSQ.js";import"./Popper-ChBmnHWW.js";const O=f(g.jsx("path",{d:"M14 4v5c0 1.12.37 2.16 1 3H9c.65-.86 1-1.9 1-3V4zm3-2H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3V4h1c.55 0 1-.45 1-1s-.45-1-1-1"}),"PushPinOutlined"),R={backgroundImage:'url("/img/News/Announcements/Announcements.jpg")'},Y=()=>{let s=v();const m=x(),{openModal:p}=k(),{openSnackbar:t}=D(),{id:i,title:r,body:c,timestamp:u,pin:n}=P(),[h,o]=A.useState(!1),y=[{icon:e(I,{}),name:"Edit",onClick:()=>p(j,{revalidator:s.revalidate,id:i,origTitle:r,origBody:c})},{icon:n?e(d,{}):e(O,{}),name:n?"Unpin":"Pin",onClick:async()=>{o(!0);try{await C(i,n),s.revalidate(),t("success",`The announcement is successfully ${n?"unpinned":"pinned"}`)}catch{t("error","Error Occured. Please contact to the administrator.")}finally{o(!1)}}},{icon:e(N,{}),name:"Delete",onClick:async()=>{o(!0);try{await L(i),t("success","The announcement is successfully deleted!"),m("/announcements")}catch{t("error","Error Occured. Please contact to the administrator.")}finally{o(!1)}}}];return l(w,{children:[h&&e(E,{}),e("div",{className:"title-wrapper",style:R,children:e("div",{className:"title",children:e(S,{variant:"h4",fontWeight:830,sx:{letterSpacing:"0.4em",pl:"0.4em",color:"white"},children:"공지사항"})})}),e("div",{className:"container-wrapper",children:l("div",{className:"container",style:{display:"flex",flexDirection:"column"},children:[n===1&&e(d,{sx:{opacity:n?1:0,mr:2}}),e("h1",{style:{textAlign:"left",wordBreak:"break-all"},children:r}),e("p",{style:{textAlign:"right"},children:b(new Date(u),"yyyy/MM/dd")}),e(M,{}),e("div",{className:"ck-content",dangerouslySetInnerHTML:{__html:c},style:{wordBreak:"break-word"}}),e(T,{children:e(B,{ariaLabel:"SpeedDial basic example",sx:{position:"fixed",bottom:16,right:16},icon:e(F,{}),children:y.map(a=>e(H,{icon:a.icon,tooltipTitle:a.name,onClick:a.onClick},a.name))})})]})})]})};export{Y as default};
