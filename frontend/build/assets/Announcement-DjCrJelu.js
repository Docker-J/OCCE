import{k as j,j as e,q as f,y as g,x as v,z as k,t as D,r as A,T as P,D as S}from"./index-uE9LYbJv.js";import{P as l}from"./PushPin-DKcpyEK3.js";import{E as b}from"./EditNote-CJgsdAj6.js";import{D as w}from"./Delete-aE1bRAUb.js";import{F as I,D as N}from"./FullScreenLoading-Bb6G0aUv.js";import{A as E}from"./AdminComponent-B_OtG8VC.js";import{A as M,p as T,d as C}from"./AnnouncementPostModal-BjZchbDQ.js";import{S as L,a as B,b as H}from"./SpeedDialIcon-Cj4bKGqQ.js";import"./Popper-BtgmcoVB.js";const O=j(e.jsx("path",{d:"M14 4v5c0 1.12.37 2.16 1 3H9c.65-.86 1-1.9 1-3V4zm3-2H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3V4h1c.55 0 1-.45 1-1s-.45-1-1-1"}),"PushPinOutlined"),F={backgroundImage:'url("/img/News/Announcements/Announcements.jpg")'},J=()=>{let i=f();const d=g(),{openModal:m}=v(),{openSnackbar:s}=k(),{id:o,title:r,body:c,timestamp:p,pin:n}=D(),[u,a]=A.useState(!1),x=async()=>{a(!0);try{await T(o,n),i.revalidate(),s("success",`The announcement is successfully ${n?"unpinned":"pinned"}`)}catch{s("error","Error Occured. Please contact to the administrator.")}finally{a(!1)}},h=async()=>{a(!0);try{await C(o),s("success","The announcement is successfully deleted!"),d("/announcements")}catch{s("error","Error Occured. Please contact to the administrator.")}finally{a(!1)}},y=[{icon:e.jsx(b,{}),name:"Edit",onClick:()=>m(M,{revalidator:i.revalidate,id:o,origTitle:r,origBody:c})},{icon:n?e.jsx(l,{}):e.jsx(O,{}),name:n?"Unpin":"Pin",onClick:x},{icon:e.jsx(w,{}),name:"Delete",onClick:h}];return e.jsxs(e.Fragment,{children:[u&&e.jsx(I,{}),e.jsx("div",{className:"title-wrapper",style:F,children:e.jsx("div",{className:"title",children:e.jsx(P,{variant:"h4",fontWeight:830,sx:{letterSpacing:"0.4em",pl:"0.4em",color:"white"},children:"공지사항"})})}),e.jsx("div",{className:"container-wrapper",children:e.jsxs("div",{className:"container",style:{display:"flex",flexDirection:"column"},children:[n===1&&e.jsx(l,{sx:{opacity:n?1:0,mr:2}}),e.jsx("h1",{style:{textAlign:"left",wordBreak:"break-all"},children:r}),e.jsx("p",{style:{textAlign:"right"},children:S(new Date(p),"yyyy/MM/dd")}),e.jsx(N,{}),e.jsx("div",{className:"ck-content",dangerouslySetInnerHTML:{__html:c},style:{wordBreak:"break-word"}}),e.jsx(E,{children:e.jsx(L,{ariaLabel:"SpeedDial basic example",sx:{position:"fixed",bottom:16,right:16},icon:e.jsx(H,{}),children:y.map(t=>e.jsx(B,{icon:t.icon,tooltipTitle:t.name,onClick:t.onClick},t.name))})})]})})]})};export{J as default};
