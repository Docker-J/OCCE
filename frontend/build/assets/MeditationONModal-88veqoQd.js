import{t as S,r as a,j as e,C as b,B as u}from"./index-Dpe0VgRM.js";import{I as w,u as U}from"./ImagePreviews-hxOEp-pD.js";import{u as y}from"./meditationon-Cl8eBScD.js";import{C as D}from"./CustomModal-DRs39O5f.js";import{F as E}from"./FileUploadComponent-CVKZuUSx.js";import{B as I}from"./ButtonDatePicker-BhItiynx.js";import{M as k}from"./WeeklyUpdate-BDcOdyBl.js";import"./useThemeProps-i1XxAxbL.js";import"./addDays-_A4UCdTH.js";import"./format-C9vNfFN1.js";import"./getDate-DAKJtapI.js";import"./parse-Dy24crQe.js";import"./index-CzonQV5b.js";import"./useControlled-DMYIctAX.js";import"./TextField-Ki15uBnB.js";import"./isMuiElement-B9XaYWqk.js";import"./Popper-DfQcvNUX.js";import"./DialogContent-CVrPa3uP.js";import"./ListItem-DDXjvLPx.js";const Q=({isOpen:h,onClose:g})=>{const{openSnackbar:l}=S(),n=()=>{d(),g()},[r,s]=a.useState([]),[m,i]=a.useState([]),[c,f]=a.useState(new Date),x=t=>{s(o=>[...o,...t]),t.forEach(o=>{i(C=>U(C,{$push:[URL.createObjectURL(o)]}))})},j=async()=>{const t=new FormData;r.forEach(o=>{t.append("images",o)});try{p(!0),await y(t,c.toISOString()),l("success","Uploaded Succesfully!"),n()}catch(o){console.log(o),l("error","Error Occured. Please contact to the administrator.")}finally{p(!1)}},d=()=>{m.forEach(t=>URL.revokeObjectURL(t)),s([]),i([])},[v,p]=a.useState(!1);return e.jsx(D,{isOpen:h,onClose:n,maxHeight:"85vh",maxWidth:"1300px",children:v?e.jsx(b,{}):e.jsxs(e.Fragment,{children:[e.jsx(w,{imagesPreview:m,setImagesPreview:i,setFilesToUpload:s}),e.jsx("div",{style:{width:"100%",height:"12.75svh"},children:e.jsx(E,{accept:{"image/*":[]},handleChangeFile:x,multiple:!0})}),e.jsx(I,{value:c,minDate:k,onChange:f}),e.jsxs("div",{style:{display:"flex",marginTop:"1.5em",width:"100%"},children:[e.jsx(u,{variant:"outlined",disabled:r.length<=0,onClick:j,fullWidth:!0,children:"Submit"}),e.jsx(u,{variant:"outlined",onClick:d,disabled:r.length<=0,fullWidth:!0,children:"Clear All"})]})]})})};export{Q as default};
