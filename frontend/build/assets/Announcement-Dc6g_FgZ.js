import{o as f,j as g,v,C as x,z as k,D,w as P,r as A,k as l,n as e,T as S,E as w,F as b}from"./index-Dwj7peSb.js";import{P as d}from"./PushPin-ojLIELJo.js";import{E as I}from"./EditNote-4iKm8_QD.js";import{D as E}from"./Delete-oDFvUjsY.js";import{F as N,D as C}from"./FullScreenLoading-jB0vR-hl.js";import{A as M}from"./AdminComponent-DID4qE_L.js";import{A as T,p as j,d as L}from"./AnnouncementPostModal-CmEVyfP4.js";import{S as B,a as F,b as H}from"./SpeedDialIcon-6s49PW21.js";import"./CircularProgress-CcMbAy8M.js";import"./Popper-_TSd6uww.js";const O=f(g.jsx("path",{d:"M14 4v5c0 1.12.37 2.16 1 3H9c.65-.86 1-1.9 1-3V4zm3-2H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3V4h1c.55 0 1-.45 1-1s-.45-1-1-1"}),"PushPinOutlined"),z={backgroundImage:'url("/img/News/Announcements/Announcements.jpg")'},Y=()=>{let i=v();const m=x(),{openModal:p}=k(),{openSnackbar:t}=D(),{id:s,title:r,body:c,timestamp:u,pin:n}=P(),[h,o]=A.useState(!1),y=[{icon:e(I,{}),name:"Edit",onClick:()=>p(T,{revalidator:i.revalidate,id:s,origTitle:r,origBody:c})},{icon:n?e(d,{}):e(O,{}),name:n?"Unpin":"Pin",onClick:async()=>{o(!0);try{await j(s,n),i.revalidate(),t("success",`The announcement is successfully ${n?"unpinned":"pinned"}`)}catch{t("error","Error Occured. Please contact to the administrator.")}finally{o(!1)}}},{icon:e(E,{}),name:"Delete",onClick:async()=>{o(!0);try{await L(s),t("success","The announcement is successfully deleted!"),m("/announcements")}catch{t("error","Error Occured. Please contact to the administrator.")}finally{o(!1)}}}];return l(b,{children:[h&&e(N,{}),e("div",{className:"title-wrapper",style:z,children:e("div",{className:"title",children:e(S,{variant:"h4",fontWeight:830,sx:{letterSpacing:"0.4em",pl:"0.4em",color:"white"},children:"공지사항"})})}),e("div",{className:"container-wrapper",children:l("div",{className:"container",style:{display:"flex",flexDirection:"column"},children:[n===1&&e(d,{sx:{opacity:n?1:0,mr:2}}),e("h1",{style:{textAlign:"left",wordBreak:"break-all"},children:r}),e("p",{style:{textAlign:"right"},children:w(new Date(u),"yyyy/MM/dd")}),e(C,{}),e("div",{className:"ck-content",dangerouslySetInnerHTML:{__html:c},style:{wordBreak:"break-word"}}),e(M,{children:e(B,{ariaLabel:"SpeedDial basic example",sx:{position:"fixed",bottom:16,right:16},icon:e(F,{}),children:y.map(a=>e(H,{icon:a.icon,tooltipTitle:a.name,onClick:a.onClick},a.name))})})]})})]})};export{Y as default};
