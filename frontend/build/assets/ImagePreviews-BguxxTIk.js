import{ak as q,r as y,i as Je,j as x,a$ as Ze,k as Ke,aX as et}from"./index-BRxhbGLV.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ie=function(r,e){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},ie(r,e)};function tt(r,e){ie(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var U=function(){return U=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},U.apply(this,arguments)};function rt(r,e,t,n){var i,o=!1,s=0;function u(){i&&clearTimeout(i)}function l(){u(),o=!0}typeof e!="boolean"&&(n=t,t=e,e=void 0);function d(){var g=this,m=Date.now()-s,T=arguments;if(o)return;function f(){s=Date.now(),t.apply(g,T)}function O(){i=void 0}n&&!i&&f(),u(),n===void 0&&m>r?f():e!==!0&&(i=setTimeout(n?O:f,n===void 0?r-m:r))}return d.cancel=l,d}var H={Pixel:"Pixel",Percent:"Percent"},ve={unit:H.Percent,value:.8};function me(r){return typeof r=="number"?{unit:H.Percent,value:r*100}:typeof r=="string"?r.match(/^(\d*(\.\d+)?)px$/)?{unit:H.Pixel,value:parseFloat(r)}:r.match(/^(\d*(\.\d+)?)%$/)?{unit:H.Percent,value:parseFloat(r)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),ve):(console.warn("scrollThreshold should be string or number"),ve)}var vn=function(r){tt(e,r);function e(t){var n=r.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:typeof n.props.scrollableTarget=="string"?document.getElementById(n.props.scrollableTarget):(n.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},n.onStart=function(i){n.lastScrollTop||(n.dragging=!0,i instanceof MouseEvent?n.startY=i.pageY:i instanceof TouchEvent&&(n.startY=i.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(i){n.dragging&&(i instanceof MouseEvent?n.currentY=i.pageY:i instanceof TouchEvent&&(n.currentY=i.touches[0].pageY),!(n.currentY<n.startY)&&(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),!(n.currentY-n.startY>n.maxPullDownDistance*1.5)&&n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")})},n.onScrollListener=function(i){typeof n.props.onScroll=="function"&&setTimeout(function(){return n.props.onScroll&&n.props.onScroll(i)},0);var o=n.props.height||n._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!n.actionTriggered){var s=n.props.inverse?n.isElementAtTop(o,n.props.scrollThreshold):n.isElementAtBottom(o,n.props.scrollThreshold);s&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=o.scrollTop}},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=rt(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(t){this.props.dataLength!==t.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(t,n){var i=t.dataLength!==n.prevDataLength;return i?U(U({},n),{prevDataLength:t.dataLength}):null},e.prototype.isElementAtTop=function(t,n){n===void 0&&(n=.8);var i=t===document.body||t===document.documentElement?window.screen.availHeight:t.clientHeight,o=me(n);return o.unit===H.Pixel?t.scrollTop<=o.value+i-t.scrollHeight+1:t.scrollTop<=o.value/100+i-t.scrollHeight+1},e.prototype.isElementAtBottom=function(t,n){n===void 0&&(n=.8);var i=t===document.body||t===document.documentElement?window.screen.availHeight:t.clientHeight,o=me(n);return o.unit===H.Pixel?t.scrollTop+i>=t.scrollHeight-o.value:t.scrollTop+i>=o.value/100*t.scrollHeight},e.prototype.render=function(){var t=this,n=U({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return q.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},q.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(s){return t._infScroll=s},style:n},this.props.pullDownToRefresh&&q.createElement("div",{style:{position:"relative"},ref:function(s){return t._pullDown=s}},q.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(y.Component),B={exports:{}},De;function nt(){return De||(De=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0});function t(a){return typeof a=="object"&&!("toString"in a)?Object.prototype.toString.call(a).slice(8,-1):a}var n=typeof process=="object"&&!0;function i(a,c){if(!a)throw n?new Error("Invariant failed"):new Error(c())}e.invariant=i;var o=Object.prototype.hasOwnProperty,s=Array.prototype.splice,u=Object.prototype.toString;function l(a){return u.call(a).slice(8,-1)}var d=Object.assign||function(a,c){return g(c).forEach(function(v){o.call(c,v)&&(a[v]=c[v])}),a},g=typeof Object.getOwnPropertySymbols=="function"?function(a){return Object.keys(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.keys(a)};function m(a){return Array.isArray(a)?d(a.constructor(a.length),a):l(a)==="Map"?new Map(a):l(a)==="Set"?new Set(a):a&&typeof a=="object"?d(Object.create(Object.getPrototypeOf(a)),a):a}var T=function(){function a(){this.commands=d({},f),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(c,v){return c===v},this.update.newContext=function(){return new a().update}}return Object.defineProperty(a.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(c){this.update.isEquals=c},enumerable:!0,configurable:!0}),a.prototype.extend=function(c,v){this.commands[c]=v},a.prototype.update=function(c,v){var E=this,D=typeof v=="function"?{$apply:v}:v;Array.isArray(c)&&Array.isArray(D)||i(!Array.isArray(D),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),i(typeof D=="object"&&D!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(E.commands).join(", ")+".")});var C=c;return g(D).forEach(function(b){if(o.call(E.commands,b)){var Ve=c===C;C=E.commands[b](D[b],C,D,c),Ve&&E.isEquals(C,c)&&(C=c)}else{var F=l(c)==="Map"?E.update(c.get(b),D[b]):E.update(c[b],D[b]),Qe=l(C)==="Map"?C.get(b):C[b];(!E.isEquals(F,Qe)||typeof F>"u"&&!o.call(c,b))&&(C===c&&(C=m(c)),l(C)==="Map"?C.set(b,F):C[b]=F)}}),C},a}();e.Context=T;var f={$push:function(a,c,v){return p(c,v,"$push"),a.length?c.concat(a):c},$unshift:function(a,c,v){return p(c,v,"$unshift"),a.length?a.concat(c):c},$splice:function(a,c,v,E){return w(c,v),a.forEach(function(D){I(D),c===E&&D.length&&(c=m(E)),s.apply(c,D)}),c},$set:function(a,c,v){return M(v),a},$toggle:function(a,c){S(a,"$toggle");var v=a.length?m(c):c;return a.forEach(function(E){v[E]=!c[E]}),v},$unset:function(a,c,v,E){return S(a,"$unset"),a.forEach(function(D){Object.hasOwnProperty.call(c,D)&&(c===E&&(c=m(E)),delete c[D])}),c},$add:function(a,c,v,E){return k(c,"$add"),S(a,"$add"),l(c)==="Map"?a.forEach(function(D){var C=D[0],b=D[1];c===E&&c.get(C)!==b&&(c=m(E)),c.set(C,b)}):a.forEach(function(D){c===E&&!c.has(D)&&(c=m(E)),c.add(D)}),c},$remove:function(a,c,v,E){return k(c,"$remove"),S(a,"$remove"),a.forEach(function(D){c===E&&c.has(D)&&(c=m(E)),c.delete(D)}),c},$merge:function(a,c,v,E){return L(c,a),g(a).forEach(function(D){a[D]!==c[D]&&(c===E&&(c=m(E)),c[D]=a[D])}),c},$apply:function(a,c){return N(a),a(c)}},O=new T;e.isEquals=O.update.isEquals,e.extend=O.extend,e.default=O.update,e.default.default=r.exports=d(e.default,e);function p(a,c,v){i(Array.isArray(a),function(){return"update(): expected target of "+t(v)+" to be an array; got "+t(a)+"."}),S(c[v],v)}function S(a,c){i(Array.isArray(a),function(){return"update(): expected spec of "+t(c)+" to be an array; got "+t(a)+". Did you forget to wrap your parameter in an array?"})}function w(a,c){i(Array.isArray(a),function(){return"Expected $splice target to be an array; got "+t(a)}),I(c.$splice)}function I(a){i(Array.isArray(a),function(){return"update(): expected spec of $splice to be an array of arrays; got "+t(a)+". Did you forget to wrap your parameters in an array?"})}function N(a){i(typeof a=="function",function(){return"update(): expected spec of $apply to be a function; got "+t(a)+"."})}function M(a){i(Object.keys(a).length===1,function(){return"Cannot have more than one key in an object with $set"})}function L(a,c){i(c&&typeof c=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+t(c)}),i(a&&typeof a=="object",function(){return"update(): $merge expects a target of type 'object'; got "+t(a)})}function k(a,c){var v=l(a);i(v==="Map"||v==="Set",function(){return"update(): "+t(c)+" expects a target of type Set or Map; got "+t(v)})}}(B,B.exports)),B.exports}var it=nt();const G=Je(it),xe=y.createContext({dragDropManager:void 0});function P(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var ye=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Z=function(){return Math.random().toString(36).substring(7).split("").join(".")},Se={INIT:"@@redux/INIT"+Z(),REPLACE:"@@redux/REPLACE"+Z(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Z()}};function ot(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function Me(r,e,t){var n;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(P(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(P(1));return t(Me)(r,e)}if(typeof r!="function")throw new Error(P(2));var i=r,o=e,s=[],u=s,l=!1;function d(){u===s&&(u=s.slice())}function g(){if(l)throw new Error(P(3));return o}function m(p){if(typeof p!="function")throw new Error(P(4));if(l)throw new Error(P(5));var S=!0;return d(),u.push(p),function(){if(S){if(l)throw new Error(P(6));S=!1,d();var I=u.indexOf(p);u.splice(I,1),s=null}}}function T(p){if(!ot(p))throw new Error(P(7));if(typeof p.type>"u")throw new Error(P(8));if(l)throw new Error(P(9));try{l=!0,o=i(o,p)}finally{l=!1}for(var S=s=u,w=0;w<S.length;w++){var I=S[w];I()}return p}function f(p){if(typeof p!="function")throw new Error(P(10));i=p,T({type:Se.REPLACE})}function O(){var p,S=m;return p={subscribe:function(I){if(typeof I!="object"||I===null)throw new Error(P(11));function N(){I.next&&I.next(g())}N();var M=S(N);return{unsubscribe:M}}},p[ye]=function(){return this},p}return T({type:Se.INIT}),n={dispatch:T,subscribe:m,getState:g,replaceReducer:f},n[ye]=O,n}function h(r,e,...t){if(st()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return t[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function st(){return typeof process<"u"&&!0}function at(r,e,t){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:t,r)}function ct(r,e){return r.filter(t=>t!==e)}function _e(r){return typeof r=="object"}function ut(r,e){const t=new Map,n=o=>{t.set(o,t.has(o)?t.get(o)+1:1)};r.forEach(n),e.forEach(n);const i=[];return t.forEach((o,s)=>{o===1&&i.push(s)}),i}function lt(r,e){return r.filter(t=>e.indexOf(t)>-1)}const le="dnd-core/INIT_COORDS",X="dnd-core/BEGIN_DRAG",de="dnd-core/PUBLISH_DRAG_SOURCE",z="dnd-core/HOVER",V="dnd-core/DROP",Q="dnd-core/END_DRAG";function Te(r,e){return{type:le,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const dt={type:le,payload:{clientOffset:null,sourceClientOffset:null}};function ft(r){return function(t=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=n,u=r.getMonitor(),l=r.getRegistry();r.dispatch(Te(o)),ht(t,u,l);const d=vt(t,u);if(d==null){r.dispatch(dt);return}let g=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");gt(s),g=s(d)}r.dispatch(Te(o,g));const T=l.getSource(d).beginDrag(u,d);if(T==null)return;pt(T),l.pinSource(d);const f=l.getSourceType(d);return{type:X,payload:{itemType:f,item:T,sourceId:d,clientOffset:o||null,sourceClientOffset:g||null,isSourcePublic:!!i}}}}function ht(r,e,t){h(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(n){h(t.getSource(n),"Expected sourceIds to be registered.")})}function gt(r){h(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function pt(r){h(_e(r),"Item must be an object.")}function vt(r,e){let t=null;for(let n=r.length-1;n>=0;n--)if(e.canDragSource(r[n])){t=r[n];break}return t}function mt(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Dt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){mt(r,i,t[i])})}return r}function yt(r){return function(t={}){const n=r.getMonitor(),i=r.getRegistry();St(n),Ot(n).forEach((s,u)=>{const l=Tt(s,u,i,n),d={type:V,payload:{dropResult:Dt({},t,l)}};r.dispatch(d)})}}function St(r){h(r.isDragging(),"Cannot call drop while not dragging."),h(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function Tt(r,e,t,n){const i=t.getTarget(r);let o=i?i.drop(n,r):void 0;return Et(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function Et(r){h(typeof r>"u"||_e(r),"Drop result must either be an object or undefined.")}function Ot(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function wt(r){return function(){const t=r.getMonitor(),n=r.getRegistry();It(t);const i=t.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(t,i),n.unpinSource()),{type:Q}}}function It(r){h(r.isDragging(),"Cannot call endDrag while not dragging.")}function oe(r,e){return e===null?r===null:Array.isArray(r)?r.some(t=>t===e):r===e}function Ct(r){return function(t,{clientOffset:n}={}){bt(t);const i=t.slice(0),o=r.getMonitor(),s=r.getRegistry(),u=o.getItemType();return Rt(i,s,u),Pt(i,o,s),Nt(i,o,s),{type:z,payload:{targetIds:i,clientOffset:n||null}}}}function bt(r){h(Array.isArray(r),"Expected targetIds to be an array.")}function Pt(r,e,t){h(e.isDragging(),"Cannot call hover while not dragging."),h(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<r.length;n++){const i=r[n];h(r.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const o=t.getTarget(i);h(o,"Expected targetIds to be registered.")}}function Rt(r,e,t){for(let n=r.length-1;n>=0;n--){const i=r[n],o=e.getTargetType(i);oe(o,t)||r.splice(n,1)}}function Nt(r,e,t){r.forEach(function(n){t.getTarget(n).hover(e,n)})}function xt(r){return function(){if(r.getMonitor().isDragging())return{type:de}}}function Mt(r){return{beginDrag:ft(r),publishDragSource:xt(r),hover:Ct(r),drop:yt(r),endDrag:wt(r)}}class _t{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function n(o){return(...s)=>{const u=o.apply(e,s);typeof u<"u"&&t(u)}}const i=Mt(this);return Object.keys(i).reduce((o,s)=>{const u=i[s];return o[s]=n(u),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function Lt(r,e){return{x:r.x+e.x,y:r.y+e.y}}function Le(r,e){return{x:r.x-e.x,y:r.y-e.y}}function At(r){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:n}=r;return!e||!t||!n?null:Le(Lt(e,n),t)}function Ht(r){const{clientOffset:e,initialClientOffset:t}=r;return!e||!t?null:Le(e,t)}const Y=[],fe=[];Y.__IS_NONE__=!0;fe.__IS_ALL__=!0;function $t(r,e){return r===Y?!1:r===fe||typeof e>"u"?!0:lt(e,r).length>0}class kt{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;h(typeof e=="function","listener must be a function."),h(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),u=s.stateId;try{u===i||u===i+1&&!$t(s.dirtyHandlerIds,n)||e()}finally{i=u}};return this.store.subscribe(o)}subscribeToOffsetChange(e){h(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==t&&(t=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return h(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(h(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return oe(n,i)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(h(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!oe(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const u=s.indexOf(e);return n?u===s.length-1:u>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return At(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Ht(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const Ee=typeof global<"u"?global:self,Ae=Ee.MutationObserver||Ee.WebKitMutationObserver;function He(r){return function(){const t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),r()}}}function Ut(r){let e=1;const t=new Ae(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const Yt=typeof Ae=="function"?Ut:He;class Ft{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Yt(this.flush),this.requestErrorThrow=He(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class qt{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class Bt{create(e){const t=this.freeTasks,n=t.length?t.pop():new qt(this.onError,i=>t[t.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const $e=new Ft,Gt=new Bt($e.registerPendingError);function jt(r){$e.enqueueTask(Gt.create(r))}const he="dnd-core/ADD_SOURCE",ge="dnd-core/ADD_TARGET",pe="dnd-core/REMOVE_SOURCE",J="dnd-core/REMOVE_TARGET";function Wt(r){return{type:he,payload:{sourceId:r}}}function Xt(r){return{type:ge,payload:{targetId:r}}}function zt(r){return{type:pe,payload:{sourceId:r}}}function Vt(r){return{type:J,payload:{targetId:r}}}function Qt(r){h(typeof r.canDrag=="function","Expected canDrag to be a function."),h(typeof r.beginDrag=="function","Expected beginDrag to be a function."),h(typeof r.endDrag=="function","Expected endDrag to be a function.")}function Jt(r){h(typeof r.canDrop=="function","Expected canDrop to be a function."),h(typeof r.hover=="function","Expected hover to be a function."),h(typeof r.drop=="function","Expected beginDrag to be a function.")}function se(r,e){if(e&&Array.isArray(r)){r.forEach(t=>se(t,!1));return}h(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var R;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(R||(R={}));let Zt=0;function Kt(){return Zt++}function er(r){const e=Kt().toString();switch(r){case R.SOURCE:return`S${e}`;case R.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function Oe(r){switch(r[0]){case"S":return R.SOURCE;case"T":return R.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function we(r,e){const t=r.entries();let n=!1;do{const{done:i,value:[,o]}=t.next();if(o===e)return!0;n=!!i}while(!n);return!1}class tr{addSource(e,t){se(e),Qt(t);const n=this.addHandler(R.SOURCE,e,t);return this.store.dispatch(Wt(n)),n}addTarget(e,t){se(e,!0),Jt(t);const n=this.addHandler(R.TARGET,e,t);return this.store.dispatch(Xt(n)),n}containsHandler(e){return we(this.dragSources,e)||we(this.dropTargets,e)}getSource(e,t=!1){return h(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return h(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return h(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return h(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Oe(e)===R.SOURCE}isTargetId(e){return Oe(e)===R.TARGET}removeSource(e){h(this.getSource(e),"Expected an existing source."),this.store.dispatch(zt(e)),jt(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){h(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Vt(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);h(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){h(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const i=er(e);return this.types.set(i,t),e===R.SOURCE?this.dragSources.set(i,n):e===R.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const rr=(r,e)=>r===e;function nr(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function ir(r,e,t=rr){if(r.length!==e.length)return!1;for(let n=0;n<r.length;++n)if(!t(r[n],e[n]))return!1;return!0}function or(r=Y,e){switch(e.type){case z:break;case he:case ge:case J:case pe:return Y;case X:case de:case Q:case V:default:return fe}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,i=ut(t,n);if(!(i.length>0||!ir(t,n)))return Y;const s=n[n.length-1],u=t[t.length-1];return s!==u&&(s&&i.push(s),u&&i.push(u)),i}function sr(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ar(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){sr(r,i,t[i])})}return r}const Ie={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function cr(r=Ie,e){const{payload:t}=e;switch(e.type){case le:case X:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case z:return nr(r.clientOffset,t.clientOffset)?r:ar({},r,{clientOffset:t.clientOffset});case Q:case V:return Ie;default:return r}}function ur(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function A(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){ur(r,i,t[i])})}return r}const lr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function dr(r=lr,e){const{payload:t}=e;switch(e.type){case X:return A({},r,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case de:return A({},r,{isSourcePublic:!0});case z:return A({},r,{targetIds:t.targetIds});case J:return r.targetIds.indexOf(t.targetId)===-1?r:A({},r,{targetIds:ct(r.targetIds,t.targetId)});case V:return A({},r,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case Q:return A({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function fr(r=0,e){switch(e.type){case he:case ge:return r+1;case pe:case J:return r-1;default:return r}}function hr(r=0){return r+1}function gr(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function pr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){gr(r,i,t[i])})}return r}function vr(r={},e){return{dirtyHandlerIds:or(r.dirtyHandlerIds,{type:e.type,payload:pr({},e.payload,{prevTargetIds:at(r,"dragOperation.targetIds",[])})}),dragOffset:cr(r.dragOffset,e),refCount:fr(r.refCount,e),dragOperation:dr(r.dragOperation,e),stateId:hr(r.stateId)}}function mr(r,e=void 0,t={},n=!1){const i=Dr(n),o=new kt(i,new tr(i)),s=new _t(i,o),u=r(s,e,t);return s.receiveBackend(u),s}function Dr(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Me(vr,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function yr(r,e){if(r==null)return{};var t=Sr(r,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Sr(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}let Ce=0;const W=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Tr=y.memo(function(e){var{children:t}=e,n=yr(e,["children"]);const[i,o]=Er(n);return y.useEffect(()=>{if(o){const s=ke();return++Ce,()=>{--Ce===0&&(s[W]=null)}}},[]),x.jsx(xe.Provider,{value:i,children:t})});function Er(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=Or(r.backend,r.context,r.options,r.debugMode),t=!r.context;return[e,t]}function Or(r,e=ke(),t,n){const i=e;return i[W]||(i[W]={dragDropManager:mr(r,e,t,n)}),i[W]}function ke(){return typeof global<"u"?global:window}const _=typeof window<"u"?y.useLayoutEffect:y.useEffect;function wr(r,e,t){const[n,i]=y.useState(()=>e(r)),o=y.useCallback(()=>{const s=e(r);Ze(n,s)||(i(s),t())},[n,r,t]);return _(o),[n,o]}function Ir(r,e,t){const[n,i]=wr(r,e,t);return _(function(){const s=r.getHandlerId();if(s!=null)return r.subscribeToStateChange(i,{handlerIds:[s]})},[r,i]),n}function Ue(r,e,t){return Ir(e,r||(()=>({})),()=>t.reconnect())}function Ye(r,e){const t=[];return typeof r!="function"&&t.push(r),y.useMemo(()=>typeof r=="function"?r():r,t)}function Cr(r){return y.useMemo(()=>r.hooks.dragSource(),[r])}function br(r){return y.useMemo(()=>r.hooks.dragPreview(),[r])}let K=!1,ee=!1;class Pr{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){h(!K,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return K=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{K=!1}}isDragging(){if(!this.sourceId)return!1;h(!ee,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ee=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{ee=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let te=!1;class Rr{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;h(!te,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return te=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{te=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Nr(r,e,t){const n=t.getRegistry(),i=n.addTarget(r,e);return[i,()=>n.removeTarget(i)]}function xr(r,e,t){const n=t.getRegistry(),i=n.addSource(r,e);return[i,()=>n.removeSource(i)]}function ae(r,e,t,n){let i;if(i!==void 0)return!!i;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const o=Object.keys(r),s=Object.keys(e);if(o.length!==s.length)return!1;const u=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<o.length;l++){const d=o[l];if(!u(d))return!1;const g=r[d],m=e[d];if(i=void 0,i===!1||i===void 0&&g!==m)return!1}return!0}function ce(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Mr(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function _r(r){return(e=null,t=null)=>{if(!y.isValidElement(e)){const o=e;return r(o,t),o}const n=e;return Mr(n),Lr(n,t?o=>r(o,t):r)}}function Fe(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];if(t.endsWith("Ref"))e[t]=r[t];else{const i=_r(n);e[t]=()=>i}}),e}function be(r,e){typeof r=="function"?r(e):r.current=e}function Lr(r,e){const t=r.ref;return h(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?y.cloneElement(r,{ref:n=>{be(t,n),be(e,n)}}):y.cloneElement(r,{ref:e})}class Ar{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!ae(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!ae(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Fe({dragSource:(t,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,ce(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,ce(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Hr{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!ae(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Fe({dropTarget:(t,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,ce(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function $(){const{dragDropManager:r}=y.useContext(xe);return h(r!=null,"Expected drag drop context"),r}function $r(r,e){const t=$(),n=y.useMemo(()=>new Ar(t.getBackend()),[t]);return _(()=>(n.dragSourceOptions=r||null,n.reconnect(),()=>n.disconnectDragSource()),[n,r]),_(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function kr(){const r=$();return y.useMemo(()=>new Pr(r),[r])}class Ur{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(t):n={},n??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const n=this.spec,i=this.monitor,{isDragging:o}=n;return o?o(i):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:i}=e;i&&i(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function Yr(r,e,t){const n=y.useMemo(()=>new Ur(r,e,t),[e,t]);return y.useEffect(()=>{n.spec=r},[r]),n}function Fr(r){return y.useMemo(()=>{const e=r.type;return h(e!=null,"spec.type must be defined"),e},[r])}function qr(r,e,t){const n=$(),i=Yr(r,e,t),o=Fr(r);_(function(){if(o!=null){const[u,l]=xr(o,i,n);return e.receiveHandlerId(u),t.receiveHandlerId(u),l}},[n,e,t,i,o])}function Br(r,e){const t=Ye(r);h(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=kr(),i=$r(t.options,t.previewOptions);return qr(t,n,i),[Ue(t.collect,n,i),Cr(i),br(i)]}function Gr(r){return y.useMemo(()=>r.hooks.dropTarget(),[r])}function jr(r){const e=$(),t=y.useMemo(()=>new Hr(e.getBackend()),[e]);return _(()=>(t.dropTargetOptions=r||null,t.reconnect(),()=>t.disconnectDropTarget()),[r]),t}function Wr(){const r=$();return y.useMemo(()=>new Rr(r),[r])}function Xr(r){const{accept:e}=r;return y.useMemo(()=>(h(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class zr{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function Vr(r,e){const t=y.useMemo(()=>new zr(r,e),[e]);return y.useEffect(()=>{t.spec=r},[r]),t}function Qr(r,e,t){const n=$(),i=Vr(r,e),o=Xr(r);_(function(){const[u,l]=Nr(o,i,n);return e.receiveHandlerId(u),t.receiveHandlerId(u),l},[n,e,i,t,o.map(s=>s.toString()).join("|")])}function Jr(r,e){const t=Ye(r),n=Wr(),i=jr(t.options);return Qr(t,n,i),[Ue(t.collect,n,i),Gr(i)]}function qe(r){let e=null;return()=>(e==null&&(e=r()),e)}function Zr(r,e){return r.filter(t=>t!==e)}function Kr(r,e){const t=new Set,n=o=>t.add(o);r.forEach(n),e.forEach(n);const i=[];return t.forEach(o=>i.push(o)),i}class en{enter(e){const t=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Kr(this.entered.filter(n),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=Zr(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class tn{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(t[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Be="__NATIVE_FILE__",Ge="__NATIVE_URL__",je="__NATIVE_TEXT__",We="__NATIVE_HTML__",Pe=Object.freeze(Object.defineProperty({__proto__:null,FILE:Be,HTML:We,TEXT:je,URL:Ge},Symbol.toStringTag,{value:"Module"}));function re(r,e,t){const n=e.reduce((i,o)=>i||r.getData(o),"");return n??t}const ue={[Be]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[We]:{exposeProperties:{html:(r,e)=>re(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[Ge]:{exposeProperties:{urls:(r,e)=>re(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[je]:{exposeProperties:{text:(r,e)=>re(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function rn(r,e){const t=ue[r];if(!t)throw new Error(`native type ${r} has no configuration`);const n=new tn(t);return n.loadDataTransfer(e),n}function ne(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(ue).filter(t=>{const n=ue[t];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const nn=qe(()=>/firefox/i.test(navigator.userAgent)),Xe=qe(()=>!!window.safari);class Re{interpolate(e){const{xs:t,ys:n,c1s:i,c2s:o,c3s:s}=this;let u=t.length-1;if(e===t[u])return n[u];let l=0,d=s.length-1,g;for(;l<=d;){g=Math.floor(.5*(l+d));const f=t[g];if(f<e)l=g+1;else if(f>e)d=g-1;else return n[g]}u=Math.max(0,d);const m=e-t[u],T=m*m;return n[u]+i[u]*m+o[u]*T+s[u]*m*T}constructor(e,t){const{length:n}=e,i=[];for(let f=0;f<n;f++)i.push(f);i.sort((f,O)=>e[f]<e[O]?-1:1);const o=[],s=[];let u,l;for(let f=0;f<n-1;f++)u=e[f+1]-e[f],l=t[f+1]-t[f],o.push(u),s.push(l/u);const d=[s[0]];for(let f=0;f<o.length-1;f++){const O=s[f],p=s[f+1];if(O*p<=0)d.push(0);else{u=o[f];const S=o[f+1],w=u+S;d.push(3*w/((w+S)/O+(w+u)/p))}}d.push(s[s.length-1]);const g=[],m=[];let T;for(let f=0;f<d.length-1;f++){T=s[f];const O=d[f],p=1/o[f],S=O+d[f+1]-T-T;g.push((T-O-S)*p),m.push(S*p*p)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=g,this.c3s=m}}const on=1;function ze(r){const e=r.nodeType===on?r:r.parentElement;if(!e)return null;const{top:t,left:n}=e.getBoundingClientRect();return{x:n,y:t}}function j(r){return{x:r.clientX,y:r.clientY}}function sn(r){var e;return r.nodeName==="IMG"&&(nn()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function an(r,e,t,n){let i=r?e.width:t,o=r?e.height:n;return Xe()&&r&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function cn(r,e,t,n,i){const o=sn(e),u=ze(o?r:e),l={x:t.x-u.x,y:t.y-u.y},{offsetWidth:d,offsetHeight:g}=r,{anchorX:m,anchorY:T}=n,{dragPreviewWidth:f,dragPreviewHeight:O}=an(o,e,d,g),p=()=>{let k=new Re([0,.5,1],[l.y,l.y/g*O,l.y+O-g]).interpolate(T);return Xe()&&o&&(k+=(window.devicePixelRatio-1)*O),k},S=()=>new Re([0,.5,1],[l.x,l.x/d*f,l.x+f-d]).interpolate(m),{offsetX:w,offsetY:I}=i,N=w===0||w,M=I===0||I;return{x:N?w:S(),y:M?I:p()}}class un{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function ln(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ne(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){ln(r,i,t[i])})}return r}class dn{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const i=s=>this.handleDragStart(s,e),o=s=>this.handleSelectStart(s);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=s=>this.handleDragEnter(s,e),i=s=>this.handleDragOver(s,e),o=s=>this.handleDrop(s,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",i),t.addEventListener("drop",o),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Ne({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return Ne({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Pe).some(t=>Pe[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=rn(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&ze(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=j(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:u}=i,l=ne(u);if(this.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){const g=this.monitor.getSourceId(),m=this.sourceNodes.get(g),T=this.sourcePreviewNodes.get(g)||m;if(T){const{anchorX:f,anchorY:O,offsetX:p,offsetY:S}=this.getCurrentSourcePreviewNodeOptions(),N=cn(m,T,s,{anchorX:f,anchorY:O},{offsetX:p,offsetY:S});u.setDragImage(T,N.x,N.y)}}try{u==null||u.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(u&&!u.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:u}=i,l=ne(u);l&&this.beginDragNativeItem(l,u)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:j(i)}),o.some(u=>this.monitor.canDropOnTarget(u))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=j(i),this.scheduleHover(o),(o||[]).some(u=>this.monitor.canDropOnTarget(u))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else ne(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:j(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new un(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new en(this.isNodeInDocument)}}const fn=function(e,t,n){return new dn(e,t,n)},hn=Ke(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),gn=({id:r,image:e,index:t,cover:n,setCoverImage:i,movePhoto:o,removeImage:s})=>{const u=y.useRef(null),[{isDragging:l},d]=Br({type:"previewcard",item:()=>({id:r,index:t}),collect:f=>({isDragging:f.isDragging()})}),g=l?.7:1,[{handlerId:m},T]=Jr({accept:"previewcard",collect(f){return{handlerId:f.getHandlerId()}},hover(f,O){var L;if(!u.current)return;const p=f.index,S=t;if(p===S)return;const w=(L=u.current)==null?void 0:L.getBoundingClientRect(),I=(w.left-w.right)/2,M=O.getClientOffset().x-w.left;p<S&&M<I||p>S&&M<I||(o(p,S),f.index=S)}});return d(T(u)),x.jsxs("div",{ref:u,style:{position:"relative",borderRadius:2,border:n?"5px solid #4bb543":"1px solid #eaeaea",marginBottom:8,marginRight:t%3!==2?"calc(2%/2)":0,width:"calc(97%/3)",aspectRatio:"1/1",boxSizing:"border-box",cursor:"move",opacity:g,overflow:"hidden"},onClick:()=>{typeof i=="function"&&i(t)},children:[x.jsx("img",{src:e,alt:"preview",style:{width:"auto",height:"100%",objectFit:"cover"}}),x.jsx(et,{sx:{position:"absolute",zIndex:99,top:4,right:4,backgroundColor:"#f57c00",cursor:"pointer",width:30,height:30},onClick:()=>s(t),children:x.jsx(hn,{sx:{color:"white"}})})]})},mn=({imagesPreview:r,cover:e,setCoverImage:t,setImagesPreview:n,setFilesToUpload:i})=>{const o=y.useCallback((l,d)=>{i(g=>G(g,{$splice:[[l,1],[d,0,g[l]]]})),n(g=>G(g,{$splice:[[l,1],[d,0,g[l]]]}))},[i,n]),s=y.useCallback(l=>{URL.revokeObjectURL(r[l]),i(d=>G(d,{$splice:[[l,1]]})),n(d=>G(d,{$splice:[[l,1]]}))},[r,i,n]),u=y.useCallback((l,d)=>x.jsx(gn,{index:d,image:l,cover:d===e,setCoverImage:t,movePhoto:o,removeImage:s},d),[e,o,s,t]);return x.jsx(Tr,{backend:fn,children:x.jsx("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignContent:"flex-start",justifyContent:"space-between",margin:"10pt",width:"100%",height:"68vh",overflowX:"auto"},children:r.map((l,d)=>u(l,d))})})};export{mn as I,vn as a,G as u};
