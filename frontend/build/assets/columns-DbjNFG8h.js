import{az as s}from"./index-BJTAqyjR.js";import{u as w}from"./images-DLOfvC4_.js";const h=async e=>(await s.get(`/api/columns/column/${e}`)).data,I=async(e,n,r,m)=>{const i=/(<img[^>]+src=")([^">]+)"/g,c=Array.from(r.matchAll(i)),p=c.map(async a=>{const t=a[2];return t.startsWith("https://")?t.split("/").at(-2):w(t)}),l=await Promise.all(p),u=c.map((a,t)=>{const g=`https://imagedelivery.net/ICo2WI8PXO_BVRlWfwzOww/${l[t]}/Announcements`;return{original:a[0],replacement:`${a[1]}${g}"`}});let o=r;for(const{original:a,replacement:t}of u)o=o.replace(a,t);try{await s.put(e?`/api/columns/column/${e}`:"/api/columns/column",{title:n,body:o,images:l,date:m})}catch{throw new Error}},$=async e=>{try{await s.delete(`/api/columns/column/${e}`)}catch{throw new Error}};export{$ as d,h as g,I as p};
