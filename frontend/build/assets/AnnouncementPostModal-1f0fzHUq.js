import{t as C,r as a,j as t,C as b,B as v}from"./index-B1cEuyNv.js";import{T as g}from"./TextEditor-IA9zD3_y.js";import{a as S}from"./announcements-CL-hfqaI.js";import{C as T}from"./CustomModal-DnfX-TQR.js";import{T as y}from"./TextField-B9DPKyJe.js";import"./images-DaPP2xQK.js";import"./useControlled-B-_xcgrQ.js";import"./isMuiElement-DiWyyA0q.js";const q=({isOpen:d,onClose:h,revalidator:p,id:x,origTitle:e,origBody:s})=>{const{openSnackbar:c}=C(),[f,u]=a.useState(!1),[o,r]=a.useState(e),[n,i]=a.useState(s),j=async()=>{u(!0);try{await S(x,o,n),p(),c("success","The announcement is successfully posted!"),m()}catch(l){console.log(l),c("error","Error Occured. Please contact to the administrator.")}finally{u(!1)}};a.useEffect(()=>{r(e),i(s)},[e,s]);const m=()=>{r(e),i(s),h()};return t.jsx(T,{isOpen:d,onClose:m,maxWidth:"1300px",maxHeight:"90svh",children:f?t.jsx(b,{}):t.jsxs(t.Fragment,{children:[t.jsx(y,{id:"filled-basic",label:"Title",variant:"outlined",value:o,fullWidth:!0,onChange:l=>r(l.target.value),required:!0}),t.jsx("div",{style:{height:"65svh",width:"100%",marginTop:"1em"},children:t.jsx(g,{body:n,getBody:i})}),t.jsx(v,{variant:"outlined",disabled:o.trim()===""||n.trim()==="",onClick:j,fullWidth:!0,sx:{marginTop:"1.5em"},children:"Post"})]})})};export{q as default};
