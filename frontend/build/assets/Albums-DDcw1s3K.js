import{g as nt,a as rt,r as V,u as it,j as z,s as _e,c as ot,d as ge,b as at,m as Te,z as At,am as It,C as $e,an as xt,B as Ge,ao as Ut,U as St,T as qe,D as st,w as Ft,x as Ct,ap as Et,V as Mt,aq as Rt}from"./index-DWRYxHrI.js";import{A as _t}from"./Add-DSyEHg7z.js";import{I as Pt}from"./index.es-CwdFYPm1.js";import{A as Lt,F as Tt}from"./AdminComponent-B1F_p71G.js";import{I as kt,u as Dt}from"./ImagePreviews-DlofVdd1.js";import{B as jt,L as Ot,A as Bt,D as Ht}from"./ButtonDatePicker-DMF67Si4.js";import{F as Wt}from"./FileUploadComponent-DQhGgq8j.js";import{I as Je,a as zt}from"./ImageListItem-D9JvhG7L.js";import{u as Nt}from"./index-Bf1qthMF.js";import{S as et}from"./Stack-CAhopjRM.js";import"./useThemeProps-BEW9GSha.js";import"./getDate-BNBvPM1k.js";import"./index-Cc_KZVSW.js";import"./Popper-B5KA5EM4.js";import"./DialogContent-D9cuY-Q4.js";import"./ListItem-DwskTjCY.js";function Qt(x){return nt("MuiListSubheader",x)}rt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const $t=x=>{const{classes:I,color:R,disableGutters:f,inset:e,disableSticky:t}=x,l={root:["root",R!=="default"&&`color${ge(R)}`,!f&&"gutters",e&&"inset",!t&&"sticky"]};return at(l,Qt,I)},Gt=_e("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(x,I)=>{const{ownerState:R}=x;return[I.root,R.color!=="default"&&I[`color${ge(R.color)}`],!R.disableGutters&&I.gutters,R.inset&&I.inset,!R.disableSticky&&I.sticky]}})(Te(({theme:x})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(x.vars||x).palette.text.secondary,fontFamily:x.typography.fontFamily,fontWeight:x.typography.fontWeightMedium,fontSize:x.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(x.vars||x).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:I})=>!I.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:I})=>I.inset,style:{paddingLeft:72}},{props:({ownerState:I})=>!I.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(x.vars||x).palette.background.paper}}]}))),Ye=V.forwardRef(function(I,R){const f=it({props:I,name:"MuiListSubheader"}),{className:e,color:t="default",component:l="li",disableGutters:o=!1,disableSticky:p=!1,inset:v=!1,...r}=f,i={...f,color:t,component:l,disableGutters:o,disableSticky:p,inset:v},n=$t(i);return z.jsx(Gt,{as:l,className:ot(n.root,e),ref:R,ownerState:i,...r})});Ye&&(Ye.muiSkipListHighlight=!0);function qt(x){return nt("MuiImageListItemBar",x)}rt("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","actionPositionLeft","actionPositionRight","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]);const Yt=x=>{const{classes:I,position:R,actionIcon:f,actionPosition:e}=x,t={root:["root",`position${ge(R)}`,`actionPosition${ge(e)}`],titleWrap:["titleWrap",`titleWrap${ge(R)}`,f&&`titleWrapActionPos${ge(e)}`],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon",`actionIconActionPos${ge(e)}`]};return at(t,qt,I)},Zt=_e("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:(x,I)=>{const{ownerState:R}=x;return[I.root,I[`position${ge(R.position)}`]]}})(Te(({theme:x})=>({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:x.typography.fontFamily,variants:[{props:{position:"bottom"},style:{bottom:0}},{props:{position:"top"},style:{top:0}},{props:{position:"below"},style:{position:"relative",background:"transparent",alignItems:"normal"}}]}))),Kt=_e("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:(x,I)=>{const{ownerState:R}=x;return[I.titleWrap,I[`titleWrap${ge(R.position)}`],R.actionIcon&&I[`titleWrapActionPos${ge(R.actionPosition)}`]]}})(Te(({theme:x})=>({flexGrow:1,padding:"12px 16px",color:(x.vars||x).palette.common.white,overflow:"hidden",variants:[{props:{position:"below"},style:{padding:"6px 0 12px",color:"inherit"}},{props:({ownerState:I})=>I.actionIcon&&I.actionPosition==="left",style:{paddingLeft:0}},{props:({ownerState:I})=>I.actionIcon&&I.actionPosition==="right",style:{paddingRight:0}}]}))),Vt=_e("div",{name:"MuiImageListItemBar",slot:"Title",overridesResolver:(x,I)=>I.title})(Te(({theme:x})=>({fontSize:x.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}))),Xt=_e("div",{name:"MuiImageListItemBar",slot:"Subtitle",overridesResolver:(x,I)=>I.subtitle})(Te(({theme:x})=>({fontSize:x.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}))),Jt=_e("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:(x,I)=>{const{ownerState:R}=x;return[I.actionIcon,I[`actionIconActionPos${ge(R.actionPosition)}`]]}})({variants:[{props:{actionPosition:"left"},style:{order:-1}}]}),en=V.forwardRef(function(I,R){const f=it({props:I,name:"MuiImageListItemBar"}),{actionIcon:e,actionPosition:t="right",className:l,subtitle:o,title:p,position:v="bottom",...r}=f,i={...f,position:v,actionPosition:t},n=Yt(i);return z.jsxs(Zt,{ownerState:i,className:ot(n.root,l),ref:R,...r,children:[z.jsxs(Kt,{ownerState:i,className:n.titleWrap,children:[z.jsx(Vt,{className:n.title,children:p}),o?z.jsx(Xt,{className:n.subtitle,children:o}):null]}),e?z.jsx(Jt,{ownerState:i,className:n.actionIcon,children:e}):null]})});function tn(x,I){return I.forEach(function(R){R&&typeof R!="string"&&!Array.isArray(R)&&Object.keys(R).forEach(function(f){if(f!=="default"&&!(f in x)){var e=Object.getOwnPropertyDescriptor(R,f);Object.defineProperty(x,f,e.get?e:{enumerable:!0,get:function(){return R[f]}})}})}),Object.freeze(x)}function lt(x,I){return new Promise(function(R,f){let e;return nn(x).then(function(t){try{return e=t,R(new Blob([I.slice(0,2),e,I.slice(2)],{type:"image/jpeg"}))}catch(l){return f(l)}},f)})}const nn=x=>new Promise((I,R)=>{const f=new FileReader;f.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return R("not a valid JPEG");for(l+=2;;){const o=t.getUint16(l);if(o===65498)break;const p=t.getUint16(l+2);if(o===65505&&t.getUint32(l+4)===1165519206){const v=l+10;let r;switch(t.getUint16(v)){case 18761:r=!0;break;case 19789:r=!1;break;default:return R("TIFF header contains invalid endian")}if(t.getUint16(v+2,r)!==42)return R("TIFF header contains invalid version");const i=t.getUint32(v+4,r),n=v+i+2+12*t.getUint16(v+i,r);for(let s=v+i+2;s<n;s+=12)if(t.getUint16(s,r)==274){if(t.getUint16(s+2,r)!==3)return R("Orientation data type is invalid");if(t.getUint32(s+4,r)!==1)return R("Orientation data count is invalid");t.setUint16(s+8,1,r);break}return I(e.slice(l,l+2+p))}l+=2+p}return I(new Blob)}),f.readAsArrayBuffer(x)});var je={},rn={get exports(){return je},set exports(x){je=x}};(function(x){var I,R,f={};rn.exports=f,f.parse=function(e,t){for(var l=f.bin.readUshort,o=f.bin.readUint,p=0,v={},r=new Uint8Array(e),i=r.length-4;o(r,i)!=101010256;)i--;p=i,p+=4;var n=l(r,p+=4);l(r,p+=2);var s=o(r,p+=2),h=o(r,p+=4);p+=4,p=h;for(var U=0;U<n;U++){o(r,p),p+=4,p+=4,p+=4,o(r,p+=4),s=o(r,p+=4);var E=o(r,p+=4),m=l(r,p+=4),j=l(r,p+2),L=l(r,p+4);p+=6;var F=o(r,p+=8);p+=4,p+=m+j+L,f._readLocal(r,F,v,s,E,t)}return v},f._readLocal=function(e,t,l,o,p,v){var r=f.bin.readUshort,i=f.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var s=r(e,t+=8),h=r(e,t+=2);t+=2;var U=f.bin.readUTF8(e,t,s);if(t+=s,t+=h,v)l[U]={size:p,csize:o};else{var E=new Uint8Array(e.buffer,t);if(n==0)l[U]=new Uint8Array(E.buffer.slice(t,t+o));else{if(n!=8)throw"unknown compression method: "+n;var m=new Uint8Array(p);f.inflateRaw(E,m),l[U]=m}}},f.inflateRaw=function(e,t){return f.F.inflate(e,t)},f.inflate=function(e,t){return e[0],e[1],f.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},f.deflate=function(e,t){t==null&&(t={level:6});var l=0,o=new Uint8Array(50+Math.floor(1.1*e.length));o[l]=120,o[l+1]=156,l+=2,l=f.F.deflateRaw(e,o,l,t.level);var p=f.adler(e,0,e.length);return o[l+0]=p>>>24&255,o[l+1]=p>>>16&255,o[l+2]=p>>>8&255,o[l+3]=p>>>0&255,new Uint8Array(o.buffer,0,l+4)},f.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),o=f.F.deflateRaw(e,l,o,t.level);return new Uint8Array(l.buffer,0,o)},f.encode=function(e,t){t==null&&(t=!1);var l=0,o=f.bin.writeUint,p=f.bin.writeUshort,v={};for(var r in e){var i=!f._noNeed(r)&&!t,n=e[r],s=f.crc.crc(n,0,n.length);v[r]={cpr:i,usize:n.length,crc:s,file:i?f.deflateRaw(n):n}}for(var r in v)l+=v[r].file.length+30+46+2*f.bin.sizeUTF8(r);l+=22;var h=new Uint8Array(l),U=0,E=[];for(var r in v){var m=v[r];E.push(U),U=f._writeHeader(h,U,r,m,0)}var j=0,L=U;for(var r in v)m=v[r],E.push(U),U=f._writeHeader(h,U,r,m,1,E[j++]);var F=U-L;return o(h,U,101010256),U+=4,p(h,U+=4,j),p(h,U+=2,j),o(h,U+=2,F),o(h,U+=4,L),U+=4,U+=2,h.buffer},f._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},f._writeHeader=function(e,t,l,o,p,v){var r=f.bin.writeUint,i=f.bin.writeUshort,n=o.file;return r(e,t,p==0?67324752:33639248),t+=4,p==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,o.cpr?8:0),r(e,t+=2,0),r(e,t+=4,o.crc),r(e,t+=4,n.length),r(e,t+=4,o.usize),i(e,t+=4,f.bin.sizeUTF8(l)),i(e,t+=2,0),t+=2,p==1&&(t+=2,t+=2,r(e,t+=6,v),t+=4),t+=f.bin.writeUTF8(e,t,l),p==0&&(e.set(n,t),t+=n.length),t},f.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,o=0;o<8;o++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e}(),update:function(e,t,l,o){for(var p=0;p<o;p++)e=f.crc.table[255&(e^t[l+p])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^f.crc.update(4294967295,e,t,l)}},f.adler=function(e,t,l){for(var o=1,p=0,v=t,r=t+l;v<r;){for(var i=Math.min(v+5552,r);v<i;)p+=o+=e[v++];o%=65521,p%=65521}return p<<16|o},f.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var o="",p=0;p<l;p++)o+=String.fromCharCode(e[t+p]);return o},writeASCII:function(e,t,l){for(var o=0;o<l.length;o++)e[t+o]=l.charCodeAt(o)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var o,p="",v=0;v<l;v++)p+="%"+f.bin.pad(e[t+v].toString(16));try{o=decodeURIComponent(p)}catch{return f.bin.readASCII(e,t,l)}return o},writeUTF8:function(e,t,l){for(var o=l.length,p=0,v=0;v<o;v++){var r=l.charCodeAt(v);if((4294967168&r)==0)e[t+p]=r,p++;else if((4294965248&r)==0)e[t+p]=192|r>>6,e[t+p+1]=128|r>>0&63,p+=2;else if((4294901760&r)==0)e[t+p]=224|r>>12,e[t+p+1]=128|r>>6&63,e[t+p+2]=128|r>>0&63,p+=3;else{if((4292870144&r)!=0)throw"e";e[t+p]=240|r>>18,e[t+p+1]=128|r>>12&63,e[t+p+2]=128|r>>6&63,e[t+p+3]=128|r>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var t=e.length,l=0,o=0;o<t;o++){var p=e.charCodeAt(o);if((4294967168&p)==0)l++;else if((4294965248&p)==0)l+=2;else if((4294901760&p)==0)l+=3;else{if((4292870144&p)!=0)throw"e";l+=4}}return l}},f.F={},f.F.deflateRaw=function(e,t,l,o){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],v=f.F.U,r=f.F._goodIndex;f.F._hash;var i=f.F._putsE,n=0,s=l<<3,h=0,U=e.length;if(o==0){for(;n<U;)i(t,s,n+(A=Math.min(65535,U-n))==U?1:0),s=f.F._copyExact(e,n,A,t,s+8),n+=A;return s>>>3}var E=v.lits,m=v.strt,j=v.prev,L=0,F=0,T=0,g=0,P=0,u=0;for(U>2&&(m[u=f.F._hash(e,0)]=0),n=0;n<U;n++){if(P=u,n+1<U-2){u=f.F._hash(e,n+1);var c=n+1&32767;j[c]=m[u],m[u]=c}if(h<=n){(L>14e3||F>26697)&&U-n>100&&(h<n&&(E[L]=n-h,L+=2,h=n),s=f.F._writeBlock(n==U-1||h==U?1:0,E,L,g,e,T,n-T,t,s),L=F=g=0,T=n);var y=0;n<U-2&&(y=f.F._bestMatch(e,n,j,P,Math.min(p[2],U-n),p[3]));var A=y>>>16,w=65535&y;if(y!=0){w=65535&y;var S=r(A=y>>>16,v.of0);v.lhst[257+S]++;var b=r(w,v.df0);v.dhst[b]++,g+=v.exb[S]+v.dxb[b],E[L]=A<<23|n-h,E[L+1]=w<<16|S<<8|b,L+=2,h=n+A}else v.lhst[e[n]]++;F++}}for(T==n&&e.length!=0||(h<n&&(E[L]=n-h,L+=2,h=n),s=f.F._writeBlock(1,E,L,g,e,T,n-T,t,s),L=0,F=0,L=F=g=0,T=n);(7&s)!=0;)s++;return s>>>3},f.F._bestMatch=function(e,t,l,o,p,v){var r=32767&t,i=l[r],n=r-i+32768&32767;if(i==r||o!=f.F._hash(e,t-n))return 0;for(var s=0,h=0,U=Math.min(32767,t);n<=U&&--v!=0&&i!=r;){if(s==0||e[t+s]==e[t+s-n]){var E=f.F._howLong(e,t,n);if(E>s){if(h=n,(s=E)>=p)break;n+2<E&&(E=n+2);for(var m=0,j=0;j<E-2;j++){var L=t-n+j+32768&32767,F=L-l[L]+32768&32767;F>m&&(m=F,i=L)}}}n+=(r=i)-(i=l[r])+32768&32767}return s<<16|h},f.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var o=t,p=Math.min(e.length,t+258);for(t+=3;t<p&&e[t]==e[t-l];)t++;return t-o},f.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},f.saved=0,f.F._writeBlock=function(e,t,l,o,p,v,r,i,n){var s,h,U,E,m,j,L,F,T,g=f.F.U,P=f.F._putsF,u=f.F._putsE;g.lhst[256]++,h=(s=f.F.getTrees())[0],U=s[1],E=s[2],m=s[3],j=s[4],L=s[5],F=s[6],T=s[7];var c=32+((n+3&7)==0?0:8-(n+3&7))+(r<<3),y=o+f.F.contSize(g.fltree,g.lhst)+f.F.contSize(g.fdtree,g.dhst),A=o+f.F.contSize(g.ltree,g.lhst)+f.F.contSize(g.dtree,g.dhst);A+=14+3*L+f.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var w=0;w<286;w++)g.lhst[w]=0;for(w=0;w<30;w++)g.dhst[w]=0;for(w=0;w<19;w++)g.ihst[w]=0;var S=c<y&&c<A?0:y<A?1:2;if(P(i,n,e),P(i,n+1,S),n+=3,S==0){for(;(7&n)!=0;)n++;n=f.F._copyExact(p,v,r,i,n)}else{var b,M;if(S==1&&(b=g.fltree,M=g.fdtree),S==2){f.F.makeCodes(g.ltree,h),f.F.revCodes(g.ltree,h),f.F.makeCodes(g.dtree,U),f.F.revCodes(g.dtree,U),f.F.makeCodes(g.itree,E),f.F.revCodes(g.itree,E),b=g.ltree,M=g.dtree,u(i,n,m-257),u(i,n+=5,j-1),u(i,n+=5,L-4),n+=4;for(var d=0;d<L;d++)u(i,n+3*d,g.itree[1+(g.ordr[d]<<1)]);n+=3*L,n=f.F._codeTiny(F,g.itree,i,n),n=f.F._codeTiny(T,g.itree,i,n)}for(var a=v,k=0;k<l;k+=2){for(var C=t[k],D=C>>>23,W=a+(8388607&C);a<W;)n=f.F._writeLit(p[a++],b,i,n);if(D!=0){var B=t[k+1],H=B>>16,O=B>>8&255,_=255&B;u(i,n=f.F._writeLit(257+O,b,i,n),D-g.of0[O]),n+=g.exb[O],P(i,n=f.F._writeLit(_,M,i,n),H-g.df0[_]),n+=g.dxb[_],a+=D}}n=f.F._writeLit(256,b,i,n)}return n},f.F._copyExact=function(e,t,l,o,p){var v=p>>>3;return o[v]=l,o[v+1]=l>>>8,o[v+2]=255-o[v],o[v+3]=255-o[v+1],v+=4,o.set(new Uint8Array(e.buffer,t,l),v),p+(l+4<<3)},f.F.getTrees=function(){for(var e=f.F.U,t=f.F._hufTree(e.lhst,e.ltree,15),l=f.F._hufTree(e.dhst,e.dtree,15),o=[],p=f.F._lenCodes(e.ltree,o),v=[],r=f.F._lenCodes(e.dtree,v),i=0;i<o.length;i+=2)e.ihst[o[i]]++;for(i=0;i<v.length;i+=2)e.ihst[v[i]]++;for(var n=f.F._hufTree(e.ihst,e.itree,7),s=19;s>4&&e.itree[1+(e.ordr[s-1]<<1)]==0;)s--;return[t,l,n,p,r,s,o,v]},f.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},f.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},f.F.contSize=function(e,t){for(var l=0,o=0;o<t.length;o++)l+=t[o]*e[1+(o<<1)];return l},f.F._codeTiny=function(e,t,l,o){for(var p=0;p<e.length;p+=2){var v=e[p],r=e[p+1];o=f.F._writeLit(v,t,l,o);var i=v==16?2:v==17?3:7;v>15&&(f.F._putsE(l,o,r,i),o+=i)}return o},f.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var o=0;o<l;o+=2){var p=e[o+1],v=o+3<l?e[o+3]:-1,r=o+5<l?e[o+5]:-1,i=o==0?-1:e[o-1];if(p==0&&v==p&&r==p){for(var n=o+5;n+2<l&&e[n+2]==p;)n+=2;(s=Math.min(n+1-o>>>1,138))<11?t.push(17,s-3):t.push(18,s-11),o+=2*s-2}else if(p==i&&v==p&&r==p){for(n=o+5;n+2<l&&e[n+2]==p;)n+=2;var s=Math.min(n+1-o>>>1,6);t.push(16,s-3),o+=2*s-2}else t.push(p,0)}return l>>>1},f.F._hufTree=function(e,t,l){var o=[],p=e.length,v=t.length,r=0;for(r=0;r<v;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<p;r++)e[r]!=0&&o.push({lit:r,f:e[r]});var i=o.length,n=o.slice(0);if(i==0)return 0;if(i==1){var s=o[0].lit;return n=s==0?1:0,t[1+(s<<1)]=1,t[1+(n<<1)]=1,1}o.sort(function(F,T){return F.f-T.f});var h=o[0],U=o[1],E=0,m=1,j=2;for(o[0]={lit:-1,f:h.f+U.f,l:h,r:U,d:0};m!=i-1;)h=E!=m&&(j==i||o[E].f<o[j].f)?o[E++]:o[j++],U=E!=m&&(j==i||o[E].f<o[j].f)?o[E++]:o[j++],o[m++]={lit:-1,f:h.f+U.f,l:h,r:U};var L=f.F.setDepth(o[m-1],0);for(L>l&&(f.F.restrictDepth(n,l,L),L=l),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return L},f.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(f.F.setDepth(e.l,t+1),f.F.setDepth(e.r,t+1))},f.F.restrictDepth=function(e,t,l){var o=0,p=1<<l-t,v=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),o=0;o<e.length&&e[o].d>t;o++){var r=e[o].d;e[o].d=t,v+=p-(1<<l-r)}for(v>>>=l-t;v>0;)(r=e[o].d)<t?(e[o].d++,v-=1<<t-r-1):o++;for(;o>=0;o--)e[o].d==t&&v<0&&(e[o].d--,v++);v!=0&&console.log("debt left")},f.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},f.F._writeLit=function(e,t,l,o){return f.F._putsF(l,o,t[e<<1]),o+t[1+(e<<1)]},f.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var o=f.F,p=o._bitsF,v=o._bitsE,r=o._decodeTiny,i=o.makeCodes,n=o.codes2map,s=o._get17,h=o.U,U=t==null;U&&(t=new l(e.length>>>2<<3));for(var E,m,j=0,L=0,F=0,T=0,g=0,P=0,u=0,c=0,y=0;j==0;)if(j=p(e,y,1),L=p(e,y+1,2),y+=3,L!=0){if(U&&(t=f.F._check(t,c+(1<<17))),L==1&&(E=h.flmap,m=h.fdmap,P=511,u=31),L==2){F=v(e,y,5)+257,T=v(e,y+5,5)+1,g=v(e,y+10,4)+4,y+=14;for(var A=0;A<38;A+=2)h.itree[A]=0,h.itree[A+1]=0;var w=1;for(A=0;A<g;A++){var S=v(e,y+3*A,3);h.itree[1+(h.ordr[A]<<1)]=S,S>w&&(w=S)}y+=3*g,i(h.itree,w),n(h.itree,w,h.imap),E=h.lmap,m=h.dmap,y=r(h.imap,(1<<w)-1,F+T,e,y,h.ttree);var b=o._copyOut(h.ttree,0,F,h.ltree);P=(1<<b)-1;var M=o._copyOut(h.ttree,F,T,h.dtree);u=(1<<M)-1,i(h.ltree,b),n(h.ltree,b,E),i(h.dtree,M),n(h.dtree,M,m)}for(;;){var d=E[s(e,y)&P];y+=15&d;var a=d>>>4;if(!(a>>>8))t[c++]=a;else{if(a==256)break;var k=c+a-254;if(a>264){var C=h.ldef[a-257];k=c+(C>>>3)+v(e,y,7&C),y+=7&C}var D=m[s(e,y)&u];y+=15&D;var W=D>>>4,B=h.ddef[W],H=(B>>>4)+p(e,y,15&B);for(y+=15&B,U&&(t=f.F._check(t,c+(1<<17)));c<k;)t[c]=t[c++-H],t[c]=t[c++-H],t[c]=t[c++-H],t[c]=t[c++-H];c=k}}}else{(7&y)!=0&&(y+=8-(7&y));var O=4+(y>>>3),_=e[O-4]|e[O-3]<<8;U&&(t=f.F._check(t,c+_)),t.set(new l(e.buffer,e.byteOffset+O,_),c),y=O+_<<3,c+=_}return t.length==c?t:t.slice(0,c)},f.F._check=function(e,t){var l=e.length;if(t<=l)return e;var o=new Uint8Array(Math.max(l<<1,t));return o.set(e,0),o},f.F._decodeTiny=function(e,t,l,o,p,v){for(var r=f.F._bitsE,i=f.F._get17,n=0;n<l;){var s=e[i(o,p)&t];p+=15&s;var h=s>>>4;if(h<=15)v[n]=h,n++;else{var U=0,E=0;h==16?(E=3+r(o,p,2),p+=2,U=v[n-1]):h==17?(E=3+r(o,p,3),p+=3):h==18&&(E=11+r(o,p,7),p+=7);for(var m=n+E;n<m;)v[n]=U,n++}}return p},f.F._copyOut=function(e,t,l,o){for(var p=0,v=0,r=o.length>>>1;v<l;){var i=e[v+t];o[v<<1]=0,o[1+(v<<1)]=i,i>p&&(p=i),v++}for(;v<r;)o[v<<1]=0,o[1+(v<<1)]=0,v++;return p},f.F.makeCodes=function(e,t){for(var l,o,p,v,r=f.F.U,i=e.length,n=r.bl_count,s=0;s<=t;s++)n[s]=0;for(s=1;s<i;s+=2)n[e[s]]++;var h=r.next_code;for(l=0,n[0]=0,o=1;o<=t;o++)l=l+n[o-1]<<1,h[o]=l;for(p=0;p<i;p+=2)(v=e[p+1])!=0&&(e[p]=h[v],h[v]++)},f.F.codes2map=function(e,t,l){for(var o=e.length,p=f.F.U.rev15,v=0;v<o;v+=2)if(e[v+1]!=0)for(var r=v>>1,i=e[v+1],n=r<<4|i,s=t-i,h=e[v]<<s,U=h+(1<<s);h!=U;)l[p[h]>>>15-t]=n,h++},f.F.revCodes=function(e,t){for(var l=f.F.U.rev15,o=15-t,p=0;p<e.length;p+=2){var v=e[p]<<t-e[p+1];e[p]=l[v]>>>o}},f.F._putsE=function(e,t,l){l<<=7&t;var o=t>>>3;e[o]|=l,e[o+1]|=l>>>8},f.F._putsF=function(e,t,l){l<<=7&t;var o=t>>>3;e[o]|=l,e[o+1]|=l>>>8,e[o+2]|=l>>>16},f.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},f.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},f.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},f.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},f.F.U=(I=Uint16Array,R=Uint32Array,{next_code:new I(16),bl_count:new I(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new I(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new R(32),flmap:new I(512),fltree:[],fdmap:new I(32),fdtree:[],lmap:new I(32768),ltree:[],ttree:[],dmap:new I(32768),dtree:[],imap:new I(512),itree:[],rev15:new I(32768),lhst:new R(286),dhst:new R(30),ihst:new R(19),lits:new R(15e3),strt:new I(65536),prev:new I(32768)}),function(){for(var e=f.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function o(p,v,r){for(;v--!=0;)p.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];o(e.fltree,144,8),o(e.fltree,112,9),o(e.fltree,24,7),o(e.fltree,8,8),f.F.makeCodes(e.fltree,9),f.F.codes2map(e.fltree,9,e.flmap),f.F.revCodes(e.fltree,9),o(e.fdtree,32,5),f.F.makeCodes(e.fdtree,5),f.F.codes2map(e.fdtree,5,e.fdmap),f.F.revCodes(e.fdtree,5),o(e.itree,19,0),o(e.ltree,286,0),o(e.dtree,30,0),o(e.ttree,320,0)}()})();var on=tn({__proto__:null,default:je},[je]);const pe=function(){var x={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let s="";for(let h=0;h<n;h++)s+=String.fromCharCode(r[i+h]);return s},writeASCII(r,i,n){for(let s=0;s<n.length;s++)r[i+s]=n.charCodeAt(s)},readBytes(r,i,n){const s=[];for(let h=0;h<n;h++)s.push(r[i+h]);return s},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let s,h="";for(let U=0;U<n;U++)h+=`%${x.pad(r[i+U].toString(16))}`;try{s=decodeURIComponent(h)}catch{return x.readASCII(r,i,n)}return s}};function I(r,i,n,s){const h=i*n,U=t(s),E=Math.ceil(i*U/8),m=new Uint8Array(4*h),j=new Uint32Array(m.buffer),{ctype:L}=s,{depth:F}=s,T=x.readUshort;if(L==6){const C=h<<2;if(F==8)for(var g=0;g<C;g+=4)m[g]=r[g],m[g+1]=r[g+1],m[g+2]=r[g+2],m[g+3]=r[g+3];if(F==16)for(g=0;g<C;g++)m[g]=r[g<<1]}else if(L==2){const C=s.tabs.tRNS;if(C==null){if(F==8)for(g=0;g<h;g++){var P=3*g;j[g]=255<<24|r[P+2]<<16|r[P+1]<<8|r[P]}if(F==16)for(g=0;g<h;g++)P=6*g,j[g]=255<<24|r[P+4]<<16|r[P+2]<<8|r[P]}else{var u=C[0];const D=C[1],W=C[2];if(F==8)for(g=0;g<h;g++){var c=g<<2;P=3*g,j[g]=255<<24|r[P+2]<<16|r[P+1]<<8|r[P],r[P]==u&&r[P+1]==D&&r[P+2]==W&&(m[c+3]=0)}if(F==16)for(g=0;g<h;g++)c=g<<2,P=6*g,j[g]=255<<24|r[P+4]<<16|r[P+2]<<8|r[P],T(r,P)==u&&T(r,P+2)==D&&T(r,P+4)==W&&(m[c+3]=0)}}else if(L==3){const C=s.tabs.PLTE,D=s.tabs.tRNS,W=D?D.length:0;if(F==1)for(var y=0;y<n;y++){var A=y*E,w=y*i;for(g=0;g<i;g++){c=w+g<<2;var S=3*(b=r[A+(g>>3)]>>7-((7&g)<<0)&1);m[c]=C[S],m[c+1]=C[S+1],m[c+2]=C[S+2],m[c+3]=b<W?D[b]:255}}if(F==2)for(y=0;y<n;y++)for(A=y*E,w=y*i,g=0;g<i;g++)c=w+g<<2,S=3*(b=r[A+(g>>2)]>>6-((3&g)<<1)&3),m[c]=C[S],m[c+1]=C[S+1],m[c+2]=C[S+2],m[c+3]=b<W?D[b]:255;if(F==4)for(y=0;y<n;y++)for(A=y*E,w=y*i,g=0;g<i;g++)c=w+g<<2,S=3*(b=r[A+(g>>1)]>>4-((1&g)<<2)&15),m[c]=C[S],m[c+1]=C[S+1],m[c+2]=C[S+2],m[c+3]=b<W?D[b]:255;if(F==8)for(g=0;g<h;g++){var b;c=g<<2,S=3*(b=r[g]),m[c]=C[S],m[c+1]=C[S+1],m[c+2]=C[S+2],m[c+3]=b<W?D[b]:255}}else if(L==4){if(F==8)for(g=0;g<h;g++){c=g<<2;var M=r[d=g<<1];m[c]=M,m[c+1]=M,m[c+2]=M,m[c+3]=r[d+1]}if(F==16)for(g=0;g<h;g++){var d;c=g<<2,M=r[d=g<<2],m[c]=M,m[c+1]=M,m[c+2]=M,m[c+3]=r[d+2]}}else if(L==0)for(u=s.tabs.tRNS?s.tabs.tRNS:-1,y=0;y<n;y++){const C=y*E,D=y*i;if(F==1)for(var a=0;a<i;a++){var k=(M=255*(r[C+(a>>>3)]>>>7-(7&a)&1))==255*u?0:255;j[D+a]=k<<24|M<<16|M<<8|M}else if(F==2)for(a=0;a<i;a++)k=(M=85*(r[C+(a>>>2)]>>>6-((3&a)<<1)&3))==85*u?0:255,j[D+a]=k<<24|M<<16|M<<8|M;else if(F==4)for(a=0;a<i;a++)k=(M=17*(r[C+(a>>>1)]>>>4-((1&a)<<2)&15))==17*u?0:255,j[D+a]=k<<24|M<<16|M<<8|M;else if(F==8)for(a=0;a<i;a++)k=(M=r[C+a])==u?0:255,j[D+a]=k<<24|M<<16|M<<8|M;else if(F==16)for(a=0;a<i;a++)M=r[C+(a<<1)],k=T(r,C+(a<<1))==u?0:255,j[D+a]=k<<24|M<<16|M<<8|M}return m}function R(r,i,n,s){const h=t(r),U=Math.ceil(n*h/8),E=new Uint8Array((U+1+r.interlace)*s);return i=r.tabs.CgBI?e(i,E):f(i,E),r.interlace==0?i=l(i,r,0,n,s):r.interlace==1&&(i=function(j,L){const F=L.width,T=L.height,g=t(L),P=g>>3,u=Math.ceil(F*g/8),c=new Uint8Array(T*u);let y=0;const A=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],S=[8,8,8,4,4,2,2],b=[8,8,4,4,2,2,1];let M=0;for(;M<7;){const a=S[M],k=b[M];let C=0,D=0,W=A[M];for(;W<T;)W+=a,D++;let B=w[M];for(;B<F;)B+=k,C++;const H=Math.ceil(C*g/8);l(j,L,y,C,D);let O=0,_=A[M];for(;_<T;){let N=w[M],Z=y+O*H<<3;for(;N<F;){var d;if(g==1&&(d=(d=j[Z>>3])>>7-(7&Z)&1,c[_*u+(N>>3)]|=d<<7-((7&N)<<0)),g==2&&(d=(d=j[Z>>3])>>6-(7&Z)&3,c[_*u+(N>>2)]|=d<<6-((3&N)<<1)),g==4&&(d=(d=j[Z>>3])>>4-(7&Z)&15,c[_*u+(N>>1)]|=d<<4-((1&N)<<2)),g>=8){const $=_*u+N*P;for(let Q=0;Q<P;Q++)c[$+Q]=j[(Z>>3)+Q]}Z+=g,N+=k}O++,_+=a}C*D!=0&&(y+=D*(1+H)),M+=1}return c}(i,r)),i}function f(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const s=Uint8Array;let h,U,E=0,m=0,j=0,L=0,F=0,T=0,g=0,P=0,u=0;if(i[0]==3&&i[1]==0)return n||new s(0);const c=r.H,y=c.b,A=c.e,w=c.R,S=c.n,b=c.A,M=c.Z,d=c.m,a=n==null;for(a&&(n=new s(i.length>>>2<<5));E==0;)if(E=y(i,u,1),m=y(i,u+1,2),u+=3,m!=0){if(a&&(n=r.H.W(n,P+(1<<17))),m==1&&(h=d.J,U=d.h,T=511,g=31),m==2){j=A(i,u,5)+257,L=A(i,u+5,5)+1,F=A(i,u+10,4)+4,u+=14;let C=1;for(var k=0;k<38;k+=2)d.Q[k]=0,d.Q[k+1]=0;for(k=0;k<F;k++){const B=A(i,u+3*k,3);d.Q[1+(d.X[k]<<1)]=B,B>C&&(C=B)}u+=3*F,S(d.Q,C),b(d.Q,C,d.u),h=d.w,U=d.d,u=w(d.u,(1<<C)-1,j+L,i,u,d.v);const D=c.V(d.v,0,j,d.C);T=(1<<D)-1;const W=c.V(d.v,j,L,d.D);g=(1<<W)-1,S(d.C,D),b(d.C,D,h),S(d.D,W),b(d.D,W,U)}for(;;){const C=h[M(i,u)&T];u+=15&C;const D=C>>>4;if(!(D>>>8))n[P++]=D;else{if(D==256)break;{let W=P+D-254;if(D>264){const N=d.q[D-257];W=P+(N>>>3)+A(i,u,7&N),u+=7&N}const B=U[M(i,u)&g];u+=15&B;const H=B>>>4,O=d.c[H],_=(O>>>4)+y(i,u,15&O);for(u+=15&O;P<W;)n[P]=n[P++-_],n[P]=n[P++-_],n[P]=n[P++-_],n[P]=n[P++-_];P=W}}}}else{(7&u)!=0&&(u+=8-(7&u));const C=4+(u>>>3),D=i[C-4]|i[C-3]<<8;a&&(n=r.H.W(n,P+D)),n.set(new s(i.buffer,i.byteOffset+C,D),P),u=C+D<<3,P+=D}return n.length==P?n:n.slice(0,P)},r.H.W=function(i,n){const s=i.length;if(n<=s)return i;const h=new Uint8Array(s<<1);return h.set(i,0),h},r.H.R=function(i,n,s,h,U,E){const m=r.H.e,j=r.H.Z;let L=0;for(;L<s;){const F=i[j(h,U)&n];U+=15&F;const T=F>>>4;if(T<=15)E[L]=T,L++;else{let g=0,P=0;T==16?(P=3+m(h,U,2),U+=2,g=E[L-1]):T==17?(P=3+m(h,U,3),U+=3):T==18&&(P=11+m(h,U,7),U+=7);const u=L+P;for(;L<u;)E[L]=g,L++}}return U},r.H.V=function(i,n,s,h){let U=0,E=0;const m=h.length>>>1;for(;E<s;){const j=i[E+n];h[E<<1]=0,h[1+(E<<1)]=j,j>U&&(U=j),E++}for(;E<m;)h[E<<1]=0,h[1+(E<<1)]=0,E++;return U},r.H.n=function(i,n){const s=r.H.m,h=i.length;let U,E,m,j;const L=s.j;for(var F=0;F<=n;F++)L[F]=0;for(F=1;F<h;F+=2)L[i[F]]++;const T=s.K;for(U=0,L[0]=0,E=1;E<=n;E++)U=U+L[E-1]<<1,T[E]=U;for(m=0;m<h;m+=2)j=i[m+1],j!=0&&(i[m]=T[j],T[j]++)},r.H.A=function(i,n,s){const h=i.length,U=r.H.m.r;for(let E=0;E<h;E+=2)if(i[E+1]!=0){const m=E>>1,j=i[E+1],L=m<<4|j,F=n-j;let T=i[E]<<F;const g=T+(1<<F);for(;T!=g;)s[U[T]>>>15-n]=L,T++}},r.H.l=function(i,n){const s=r.H.m.r,h=15-n;for(let U=0;U<i.length;U+=2){const E=i[U]<<n-i[U+1];i[U]=s[E]>>>h}},r.H.M=function(i,n,s){s<<=7&n;const h=n>>>3;i[h]|=s,i[h+1]|=s>>>8},r.H.I=function(i,n,s){s<<=7&n;const h=n>>>3;i[h]|=s,i[h+1]|=s>>>8,i[h+2]|=s>>>16},r.H.e=function(i,n,s){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<s)-1},r.H.b=function(i,n,s){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<s)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let h=n;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,i.r[n]=(h>>>16|h<<16)>>>17}function s(h,U,E){for(;U--!=0;)h.push(0,E)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];s(i._,144,8),s(i._,112,9),s(i._,24,7),s(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),s(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),s(i.Q,19,0),s(i.C,286,0),s(i.D,30,0),s(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function l(r,i,n,s,h){let U=t(i);const E=Math.ceil(s*U/8);let m,j;U=Math.ceil(U/8);let L=r[n],F=0;if(L>1&&(r[n]=[0,0,1][L-2]),L==3)for(F=U;F<E;F++)r[F+1]=r[F+1]+(r[F+1-U]>>>1)&255;for(let T=0;T<h;T++)if(m=n+T*E,j=m+T+1,L=r[j-1],F=0,L==0)for(;F<E;F++)r[m+F]=r[j+F];else if(L==1){for(;F<U;F++)r[m+F]=r[j+F];for(;F<E;F++)r[m+F]=r[j+F]+r[m+F-U]}else if(L==2)for(;F<E;F++)r[m+F]=r[j+F]+r[m+F-E];else if(L==3){for(;F<U;F++)r[m+F]=r[j+F]+(r[m+F-E]>>>1);for(;F<E;F++)r[m+F]=r[j+F]+(r[m+F-E]+r[m+F-U]>>>1)}else{for(;F<U;F++)r[m+F]=r[j+F]+o(0,r[m+F-E],0);for(;F<E;F++)r[m+F]=r[j+F]+o(r[m+F-U],r[m+F-E],r[m+F-U-E])}return r}function o(r,i,n){const s=r+i-n,h=s-r,U=s-i,E=s-n;return h*h<=U*U&&h*h<=E*E?r:U*U<=E*E?i:n}function p(r,i,n){n.width=x.readUint(r,i),i+=4,n.height=x.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function v(r,i,n,s,h,U,E,m,j){const L=Math.min(i,h),F=Math.min(n,U);let T=0,g=0;for(let M=0;M<F;M++)for(let d=0;d<L;d++)if(E>=0&&m>=0?(T=M*i+d<<2,g=(m+M)*h+E+d<<2):(T=(-m+M)*i-E+d<<2,g=M*h+d<<2),j==0)s[g]=r[T],s[g+1]=r[T+1],s[g+2]=r[T+2],s[g+3]=r[T+3];else if(j==1){var P=r[T+3]*.00392156862745098,u=r[T]*P,c=r[T+1]*P,y=r[T+2]*P,A=s[g+3]*(1/255),w=s[g]*A,S=s[g+1]*A,b=s[g+2]*A;const a=1-P,k=P+A*a,C=k==0?0:1/k;s[g+3]=255*k,s[g+0]=(u+w*a)*C,s[g+1]=(c+S*a)*C,s[g+2]=(y+b*a)*C}else if(j==2)P=r[T+3],u=r[T],c=r[T+1],y=r[T+2],A=s[g+3],w=s[g],S=s[g+1],b=s[g+2],P==A&&u==w&&c==S&&y==b?(s[g]=0,s[g+1]=0,s[g+2]=0,s[g+3]=0):(s[g]=u,s[g+1]=c,s[g+2]=y,s[g+3]=P);else if(j==3){if(P=r[T+3],u=r[T],c=r[T+1],y=r[T+2],A=s[g+3],w=s[g],S=s[g+1],b=s[g+2],P==A&&u==w&&c==S&&y==b)continue;if(P<220&&A>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let s=8;const h=x,U=h.readUshort,E=h.readUint,m={tabs:{},frames:[]},j=new Uint8Array(n.length);let L,F=0,T=0;const g=[137,80,78,71,13,10,26,10];for(var P=0;P<8;P++)if(n[P]!=g[P])throw"The input is not a PNG file!";for(;s<n.length;){const M=h.readUint(n,s);s+=4;const d=h.readASCII(n,s,4);if(s+=4,d=="IHDR")p(n,s,m);else if(d=="iCCP"){for(var u=s;n[u]!=0;)u++;h.readASCII(n,s,u-s),n[u+1];const a=n.slice(u+2,s+M);let k=null;try{k=f(a)}catch{k=e(a)}m.tabs[d]=k}else if(d=="CgBI")m.tabs[d]=n.slice(s,s+4);else if(d=="IDAT"){for(P=0;P<M;P++)j[F+P]=n[s+P];F+=M}else if(d=="acTL")m.tabs[d]={num_frames:E(n,s),num_plays:E(n,s+4)},L=new Uint8Array(n.length);else if(d=="fcTL"){T!=0&&((b=m.frames[m.frames.length-1]).data=R(m,L.slice(0,T),b.rect.width,b.rect.height),T=0);const a={x:E(n,s+12),y:E(n,s+16),width:E(n,s+4),height:E(n,s+8)};let k=U(n,s+22);k=U(n,s+20)/(k==0?100:k);const C={rect:a,delay:Math.round(1e3*k),dispose:n[s+24],blend:n[s+25]};m.frames.push(C)}else if(d=="fdAT"){for(P=0;P<M-4;P++)L[T+P]=n[s+P+4];T+=M-4}else if(d=="pHYs")m.tabs[d]=[h.readUint(n,s),h.readUint(n,s+4),n[s+8]];else if(d=="cHRM")for(m.tabs[d]=[],P=0;P<8;P++)m.tabs[d].push(h.readUint(n,s+4*P));else if(d=="tEXt"||d=="zTXt"){m.tabs[d]==null&&(m.tabs[d]={});var c=h.nextZero(n,s),y=h.readASCII(n,s,c-s),A=s+M-c-1;if(d=="tEXt")S=h.readASCII(n,c+1,A);else{var w=f(n.slice(c+2,c+2+A));S=h.readUTF8(w,0,w.length)}m.tabs[d][y]=S}else if(d=="iTXt"){m.tabs[d]==null&&(m.tabs[d]={}),c=0,u=s,c=h.nextZero(n,u),y=h.readASCII(n,u,c-u);const a=n[u=c+1];var S;n[u+1],u+=2,c=h.nextZero(n,u),h.readASCII(n,u,c-u),u=c+1,c=h.nextZero(n,u),h.readUTF8(n,u,c-u),A=M-((u=c+1)-s),a==0?S=h.readUTF8(n,u,A):(w=f(n.slice(u,u+A)),S=h.readUTF8(w,0,w.length)),m.tabs[d][y]=S}else if(d=="PLTE")m.tabs[d]=h.readBytes(n,s,M);else if(d=="hIST"){const a=m.tabs.PLTE.length/3;for(m.tabs[d]=[],P=0;P<a;P++)m.tabs[d].push(U(n,s+2*P))}else if(d=="tRNS")m.ctype==3?m.tabs[d]=h.readBytes(n,s,M):m.ctype==0?m.tabs[d]=U(n,s):m.ctype==2&&(m.tabs[d]=[U(n,s),U(n,s+2),U(n,s+4)]);else if(d=="gAMA")m.tabs[d]=h.readUint(n,s)/1e5;else if(d=="sRGB")m.tabs[d]=n[s];else if(d=="bKGD")m.ctype==0||m.ctype==4?m.tabs[d]=[U(n,s)]:m.ctype==2||m.ctype==6?m.tabs[d]=[U(n,s),U(n,s+2),U(n,s+4)]:m.ctype==3&&(m.tabs[d]=n[s]);else if(d=="IEND")break;s+=M,h.readUint(n,s),s+=4}var b;return T!=0&&((b=m.frames[m.frames.length-1]).data=R(m,L.slice(0,T),b.rect.width,b.rect.height)),m.data=R(m,j,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(i){const n=i.width,s=i.height;if(i.tabs.acTL==null)return[I(i.data,n,s,i).buffer];const h=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const U=n*s*4,E=new Uint8Array(U),m=new Uint8Array(U),j=new Uint8Array(U);for(let F=0;F<i.frames.length;F++){const T=i.frames[F],g=T.rect.x,P=T.rect.y,u=T.rect.width,c=T.rect.height,y=I(T.data,u,c,i);if(F!=0)for(var L=0;L<U;L++)j[L]=E[L];if(T.blend==0?v(y,u,c,E,n,s,g,P,0):T.blend==1&&v(y,u,c,E,n,s,g,P,1),h.push(E.buffer.slice(0)),T.dispose!=0){if(T.dispose==1)v(m,u,c,E,n,s,g,P,0);else if(T.dispose==2)for(L=0;L<U;L++)E[L]=j[L]}}return h},_paeth:o,_copyTile:v,_bin:x}}();(function(){const{_copyTile:x}=pe,{_bin:I}=pe,R=pe._paeth;var f={table:function(){const u=new Uint32Array(256);for(let c=0;c<256;c++){let y=c;for(let A=0;A<8;A++)1&y?y=3988292384^y>>>1:y>>>=1;u[c]=y}return u}(),update(u,c,y,A){for(let w=0;w<A;w++)u=f.table[255&(u^c[y+w])]^u>>>8;return u},crc:(u,c,y)=>4294967295^f.update(4294967295,u,c,y)};function e(u,c,y,A){c[y]+=u[0]*A>>4,c[y+1]+=u[1]*A>>4,c[y+2]+=u[2]*A>>4,c[y+3]+=u[3]*A>>4}function t(u){return Math.max(0,Math.min(255,u))}function l(u,c){const y=u[0]-c[0],A=u[1]-c[1],w=u[2]-c[2],S=u[3]-c[3];return y*y+A*A+w*w+S*S}function o(u,c,y,A,w,S,b){b==null&&(b=1);const M=A.length,d=[];for(var a=0;a<M;a++){const _=A[a];d.push([_>>>0&255,_>>>8&255,_>>>16&255,_>>>24&255])}for(a=0;a<M;a++){let _=4294967295;for(var k=0,C=0;C<M;C++){var D=l(d[a],d[C]);C!=a&&D<_&&(_=D,k=C)}}const W=new Uint32Array(w.buffer),B=new Int16Array(c*y*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(a=0;a<H.length;a++)H[a]=255*((H[a]+.5)/16-.5);for(let _=0;_<y;_++)for(let N=0;N<c;N++){var O;a=4*(_*c+N),b!=2?O=[t(u[a]+B[a]),t(u[a+1]+B[a+1]),t(u[a+2]+B[a+2]),t(u[a+3]+B[a+3])]:(D=H[4*(3&_)+(3&N)],O=[t(u[a]+D),t(u[a+1]+D),t(u[a+2]+D),t(u[a+3]+D)]),k=0;let Z=16777215;for(C=0;C<M;C++){const G=l(O,d[C]);G<Z&&(Z=G,k=C)}const $=d[k],Q=[O[0]-$[0],O[1]-$[1],O[2]-$[2],O[3]-$[3]];b==1&&(N!=c-1&&e(Q,B,a+4,7),_!=y-1&&(N!=0&&e(Q,B,a+4*c-4,3),e(Q,B,a+4*c,5),N!=c-1&&e(Q,B,a+4*c+4,1))),S[a>>2]=k,W[a>>2]=A[k]}}function p(u,c,y,A,w){w==null&&(w={});const{crc:S}=f,b=I.writeUint,M=I.writeUshort,d=I.writeASCII;let a=8;const k=u.frames.length>1;let C,D=!1,W=33+(k?20:0);if(w.sRGB!=null&&(W+=13),w.pHYs!=null&&(W+=21),w.iCCP!=null&&(C=pako.deflate(w.iCCP),W+=21+C.length+4),u.ctype==3){for(var B=u.plte.length,H=0;H<B;H++)u.plte[H]>>>24!=255&&(D=!0);W+=8+3*B+4+(D?8+1*B+4:0)}for(var O=0;O<u.frames.length;O++)k&&(W+=38),W+=($=u.frames[O]).cimg.length+12,O!=0&&(W+=4);W+=12;const _=new Uint8Array(W),N=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)_[H]=N[H];if(b(_,a,13),a+=4,d(_,a,"IHDR"),a+=4,b(_,a,c),a+=4,b(_,a,y),a+=4,_[a]=u.depth,a++,_[a]=u.ctype,a++,_[a]=0,a++,_[a]=0,a++,_[a]=0,a++,b(_,a,S(_,a-17,17)),a+=4,w.sRGB!=null&&(b(_,a,1),a+=4,d(_,a,"sRGB"),a+=4,_[a]=w.sRGB,a++,b(_,a,S(_,a-5,5)),a+=4),w.iCCP!=null){const Q=13+C.length;b(_,a,Q),a+=4,d(_,a,"iCCP"),a+=4,d(_,a,"ICC profile"),a+=11,a+=2,_.set(C,a),a+=C.length,b(_,a,S(_,a-(Q+4),Q+4)),a+=4}if(w.pHYs!=null&&(b(_,a,9),a+=4,d(_,a,"pHYs"),a+=4,b(_,a,w.pHYs[0]),a+=4,b(_,a,w.pHYs[1]),a+=4,_[a]=w.pHYs[2],a++,b(_,a,S(_,a-13,13)),a+=4),k&&(b(_,a,8),a+=4,d(_,a,"acTL"),a+=4,b(_,a,u.frames.length),a+=4,b(_,a,w.loop!=null?w.loop:0),a+=4,b(_,a,S(_,a-12,12)),a+=4),u.ctype==3){for(b(_,a,3*(B=u.plte.length)),a+=4,d(_,a,"PLTE"),a+=4,H=0;H<B;H++){const Q=3*H,G=u.plte[H],J=255&G,ne=G>>>8&255,xe=G>>>16&255;_[a+Q+0]=J,_[a+Q+1]=ne,_[a+Q+2]=xe}if(a+=3*B,b(_,a,S(_,a-3*B-4,3*B+4)),a+=4,D){for(b(_,a,B),a+=4,d(_,a,"tRNS"),a+=4,H=0;H<B;H++)_[a+H]=u.plte[H]>>>24&255;a+=B,b(_,a,S(_,a-B-4,B+4)),a+=4}}let Z=0;for(O=0;O<u.frames.length;O++){var $=u.frames[O];k&&(b(_,a,26),a+=4,d(_,a,"fcTL"),a+=4,b(_,a,Z++),a+=4,b(_,a,$.rect.width),a+=4,b(_,a,$.rect.height),a+=4,b(_,a,$.rect.x),a+=4,b(_,a,$.rect.y),a+=4,M(_,a,A[O]),a+=2,M(_,a,1e3),a+=2,_[a]=$.dispose,a++,_[a]=$.blend,a++,b(_,a,S(_,a-30,30)),a+=4);const Q=$.cimg;b(_,a,(B=Q.length)+(O==0?0:4)),a+=4;const G=a;d(_,a,O==0?"IDAT":"fdAT"),a+=4,O!=0&&(b(_,a,Z++),a+=4),_.set(Q,a),a+=B,b(_,a,S(_,G,a-G)),a+=4}return b(_,a,0),a+=4,d(_,a,"IEND"),a+=4,b(_,a,S(_,a-4,4)),a+=4,_.buffer}function v(u,c,y){for(let A=0;A<u.frames.length;A++){const w=u.frames[A];w.rect.width;const S=w.rect.height,b=new Uint8Array(S*w.bpl+S);w.cimg=s(w.img,S,w.bpp,w.bpl,b,c,y)}}function r(u,c,y,A,w){const S=w[0],b=w[1],M=w[2],d=w[3],a=w[4],k=w[5];let C=6,D=8,W=255;for(var B=0;B<u.length;B++){const ie=new Uint8Array(u[B]);for(var H=ie.length,O=0;O<H;O+=4)W&=ie[O+3]}const _=W!=255,N=function(K,q,re,se,ee,ce){const te=[];for(var Y=0;Y<K.length;Y++){const le=new Uint8Array(K[Y]),he=new Uint32Array(le.buffer);var ue;let de=0,ye=0,ve=q,Se=re,ze=se?1:0;if(Y!=0){const yt=ce||se||Y==1||te[Y-2].dispose!=0?1:2;let Ne=0,Ve=1e9;for(let Pe=0;Pe<yt;Pe++){var we=new Uint8Array(K[Y-1-Pe]);const wt=new Uint32Array(K[Y-1-Pe]);let Ae=q,Ie=re,Me=-1,Le=-1;for(let Fe=0;Fe<re;Fe++)for(let Ce=0;Ce<q;Ce++)he[oe=Fe*q+Ce]!=wt[oe]&&(Ce<Ae&&(Ae=Ce),Ce>Me&&(Me=Ce),Fe<Ie&&(Ie=Fe),Fe>Le&&(Le=Fe));Me==-1&&(Ae=Ie=Me=Le=0),ee&&((1&Ae)==1&&Ae--,(1&Ie)==1&&Ie--);const Xe=(Me-Ae+1)*(Le-Ie+1);Xe<Ve&&(Ve=Xe,Ne=Pe,de=Ae,ye=Ie,ve=Me-Ae+1,Se=Le-Ie+1)}we=new Uint8Array(K[Y-1-Ne]),Ne==1&&(te[Y-1].dispose=2),ue=new Uint8Array(ve*Se*4),x(we,q,re,ue,ve,Se,-de,-ye,0),ze=x(le,q,re,ue,ve,Se,-de,-ye,3)?1:0,ze==1?n(le,q,re,ue,{x:de,y:ye,width:ve,height:Se}):x(le,q,re,ue,ve,Se,-de,-ye,0)}else ue=le.slice(0);te.push({rect:{x:de,y:ye,width:ve,height:Se},img:ue,blend:ze,dispose:0})}if(se)for(Y=0;Y<te.length;Y++){if((Ue=te[Y]).blend==1)continue;const le=Ue.rect,he=te[Y-1].rect,de=Math.min(le.x,he.x),ye=Math.min(le.y,he.y),ve={x:de,y:ye,width:Math.max(le.x+le.width,he.x+he.width)-de,height:Math.max(le.y+le.height,he.y+he.height)-ye};te[Y-1].dispose=1,Y-1!=0&&i(K,q,re,te,Y-1,ve,ee),i(K,q,re,te,Y,ve,ee)}let ke=0;if(K.length!=1)for(var oe=0;oe<te.length;oe++){var Ue;ke+=(Ue=te[oe]).rect.width*Ue.rect.height}return te}(u,c,y,S,b,M),Z={},$=[],Q=[];if(A!=0){const ie=[];for(O=0;O<N.length;O++)ie.push(N[O].img.buffer);const K=function(ee){let ce=0;for(var te=0;te<ee.length;te++)ce+=ee[te].byteLength;const Y=new Uint8Array(ce);let ue=0;for(te=0;te<ee.length;te++){const we=new Uint8Array(ee[te]),ke=we.length;for(let oe=0;oe<ke;oe+=4){let Ue=we[oe],le=we[oe+1],he=we[oe+2];const de=we[oe+3];de==0&&(Ue=le=he=0),Y[ue+oe]=Ue,Y[ue+oe+1]=le,Y[ue+oe+2]=he,Y[ue+oe+3]=de}ue+=ke}return Y.buffer}(ie),q=U(K,A);for(O=0;O<q.plte.length;O++)$.push(q.plte[O].est.rgba);let re=0;for(O=0;O<N.length;O++){const se=(J=N[O]).img.length;var G=new Uint8Array(q.inds.buffer,re>>2,se>>2);Q.push(G);const ee=new Uint8Array(q.abuf,re,se);k&&o(J.img,J.rect.width,J.rect.height,$,ee,G),J.img.set(ee),re+=se}}else for(B=0;B<N.length;B++){var J=N[B];const ie=new Uint32Array(J.img.buffer);var ne=J.rect.width;for(H=ie.length,G=new Uint8Array(H),Q.push(G),O=0;O<H;O++){const K=ie[O];if(O!=0&&K==ie[O-1])G[O]=G[O-1];else if(O>ne&&K==ie[O-ne])G[O]=G[O-ne];else{let q=Z[K];if(q==null&&(Z[K]=q=$.length,$.push(K),$.length>=300))break;G[O]=q}}}const xe=$.length;for(xe<=256&&a==0&&(D=xe<=2?1:xe<=4?2:xe<=16?4:8,D=Math.max(D,d)),B=0;B<N.length;B++){(J=N[B]).rect.x,J.rect.y,ne=J.rect.width;const ie=J.rect.height;let K=J.img;new Uint32Array(K.buffer);let q=4*ne,re=4;if(xe<=256&&a==0){q=Math.ceil(D*ne/8);var me=new Uint8Array(q*ie);const se=Q[B];for(let ee=0;ee<ie;ee++){O=ee*q;const ce=ee*ne;if(D==8)for(var X=0;X<ne;X++)me[O+X]=se[ce+X];else if(D==4)for(X=0;X<ne;X++)me[O+(X>>1)]|=se[ce+X]<<4-4*(1&X);else if(D==2)for(X=0;X<ne;X++)me[O+(X>>2)]|=se[ce+X]<<6-2*(3&X);else if(D==1)for(X=0;X<ne;X++)me[O+(X>>3)]|=se[ce+X]<<7-1*(7&X)}K=me,C=3,re=1}else if(_==0&&N.length==1){me=new Uint8Array(ne*ie*3);const se=ne*ie;for(O=0;O<se;O++){const ee=3*O,ce=4*O;me[ee]=K[ce],me[ee+1]=K[ce+1],me[ee+2]=K[ce+2]}K=me,C=2,re=3,q=3*ne}J.img=K,J.bpl=q,J.bpp=re}return{ctype:C,depth:D,plte:$,frames:N}}function i(u,c,y,A,w,S,b){const M=Uint8Array,d=Uint32Array,a=new M(u[w-1]),k=new d(u[w-1]),C=w+1<u.length?new M(u[w+1]):null,D=new M(u[w]),W=new d(D.buffer);let B=c,H=y,O=-1,_=-1;for(let Z=0;Z<S.height;Z++)for(let $=0;$<S.width;$++){const Q=S.x+$,G=S.y+Z,J=G*c+Q,ne=W[J];ne==0||A[w-1].dispose==0&&k[J]==ne&&(C==null||C[4*J+3]!=0)||(Q<B&&(B=Q),Q>O&&(O=Q),G<H&&(H=G),G>_&&(_=G))}O==-1&&(B=H=O=_=0),b&&((1&B)==1&&B--,(1&H)==1&&H--),S={x:B,y:H,width:O-B+1,height:_-H+1};const N=A[w];N.rect=S,N.blend=1,N.img=new Uint8Array(S.width*S.height*4),A[w-1].dispose==0?(x(a,c,y,N.img,S.width,S.height,-S.x,-S.y,0),n(D,c,y,N.img,S)):x(D,c,y,N.img,S.width,S.height,-S.x,-S.y,0)}function n(u,c,y,A,w){x(u,c,y,A,w.width,w.height,-w.x,-w.y,2)}function s(u,c,y,A,w,S,b){const M=[];let d,a=[0,1,2,3,4];S!=-1?a=[S]:(c*A>5e5||y==1)&&(a=[0]),b&&(d={level:0});const k=on;for(var C=0;C<a.length;C++){for(let B=0;B<c;B++)h(w,u,B,A,y,a[C]);M.push(k.deflate(w,d))}let D,W=1e9;for(C=0;C<M.length;C++)M[C].length<W&&(D=C,W=M[C].length);return M[D]}function h(u,c,y,A,w,S){const b=y*A;let M=b+y;if(u[M]=S,M++,S==0)if(A<500)for(var d=0;d<A;d++)u[M+d]=c[b+d];else u.set(new Uint8Array(c.buffer,b,A),M);else if(S==1){for(d=0;d<w;d++)u[M+d]=c[b+d];for(d=w;d<A;d++)u[M+d]=c[b+d]-c[b+d-w]+256&255}else if(y==0){for(d=0;d<w;d++)u[M+d]=c[b+d];if(S==2)for(d=w;d<A;d++)u[M+d]=c[b+d];if(S==3)for(d=w;d<A;d++)u[M+d]=c[b+d]-(c[b+d-w]>>1)+256&255;if(S==4)for(d=w;d<A;d++)u[M+d]=c[b+d]-R(c[b+d-w],0,0)+256&255}else{if(S==2)for(d=0;d<A;d++)u[M+d]=c[b+d]+256-c[b+d-A]&255;if(S==3){for(d=0;d<w;d++)u[M+d]=c[b+d]+256-(c[b+d-A]>>1)&255;for(d=w;d<A;d++)u[M+d]=c[b+d]+256-(c[b+d-A]+c[b+d-w]>>1)&255}if(S==4){for(d=0;d<w;d++)u[M+d]=c[b+d]+256-R(0,c[b+d-A],0)&255;for(d=w;d<A;d++)u[M+d]=c[b+d]+256-R(c[b+d-w],c[b+d-A],c[b+d-w-A])&255}}}function U(u,c){const y=new Uint8Array(u),A=y.slice(0),w=new Uint32Array(A.buffer),S=E(A,c),b=S[0],M=S[1],d=y.length,a=new Uint8Array(d>>2);let k;if(y.length<2e7)for(var C=0;C<d;C+=4)k=m(b,D=y[C]*(1/255),W=y[C+1]*(1/255),B=y[C+2]*(1/255),H=y[C+3]*(1/255)),a[C>>2]=k.ind,w[C>>2]=k.est.rgba;else for(C=0;C<d;C+=4){var D=y[C]*.00392156862745098,W=y[C+1]*(1/255),B=y[C+2]*(1/255),H=y[C+3]*(1/255);for(k=b;k.left;)k=j(k.est,D,W,B,H)<=0?k.left:k.right;a[C>>2]=k.ind,w[C>>2]=k.est.rgba}return{abuf:A.buffer,inds:a,plte:M}}function E(u,c,y){y==null&&(y=1e-4);const A=new Uint32Array(u.buffer),w={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=T(u,w.i0,w.i1),w.est=g(w.bst);const S=[w];for(;S.length<c;){let M=0,d=0;for(var b=0;b<S.length;b++)S[b].est.L>M&&(M=S[b].est.L,d=b);if(M<y)break;const a=S[d],k=L(u,A,a.i0,a.i1,a.est.e,a.est.eMq255);if(a.i0>=k||a.i1<=k){a.est.L=0;continue}const C={i0:a.i0,i1:k,bst:null,est:null,tdst:0,left:null,right:null};C.bst=T(u,C.i0,C.i1),C.est=g(C.bst);const D={i0:k,i1:a.i1,bst:null,est:null,tdst:0,left:null,right:null};for(D.bst={R:[],m:[],N:a.bst.N-C.bst.N},b=0;b<16;b++)D.bst.R[b]=a.bst.R[b]-C.bst.R[b];for(b=0;b<4;b++)D.bst.m[b]=a.bst.m[b]-C.bst.m[b];D.est=g(D.bst),a.left=C,a.right=D,S[d]=C,S.push(D)}for(S.sort((M,d)=>d.bst.N-M.bst.N),b=0;b<S.length;b++)S[b].ind=b;return[w,S]}function m(u,c,y,A,w){if(u.left==null)return u.tdst=function(C,D,W,B,H){const O=D-C[0],_=W-C[1],N=B-C[2],Z=H-C[3];return O*O+_*_+N*N+Z*Z}(u.est.q,c,y,A,w),u;const S=j(u.est,c,y,A,w);let b=u.left,M=u.right;S>0&&(b=u.right,M=u.left);const d=m(b,c,y,A,w);if(d.tdst<=S*S)return d;const a=m(M,c,y,A,w);return a.tdst<d.tdst?a:d}function j(u,c,y,A,w){const{e:S}=u;return S[0]*c+S[1]*y+S[2]*A+S[3]*w-u.eMq}function L(u,c,y,A,w,S){for(A-=4;y<A;){for(;F(u,y,w)<=S;)y+=4;for(;F(u,A,w)>S;)A-=4;if(y>=A)break;const b=c[y>>2];c[y>>2]=c[A>>2],c[A>>2]=b,y+=4,A-=4}for(;F(u,y,w)>S;)y-=4;return y+4}function F(u,c,y){return u[c]*y[0]+u[c+1]*y[1]+u[c+2]*y[2]+u[c+3]*y[3]}function T(u,c,y){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],S=y-c>>2;for(let b=c;b<y;b+=4){const M=u[b]*.00392156862745098,d=u[b+1]*(1/255),a=u[b+2]*(1/255),k=u[b+3]*(1/255);w[0]+=M,w[1]+=d,w[2]+=a,w[3]+=k,A[0]+=M*M,A[1]+=M*d,A[2]+=M*a,A[3]+=M*k,A[5]+=d*d,A[6]+=d*a,A[7]+=d*k,A[10]+=a*a,A[11]+=a*k,A[15]+=k*k}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:w,N:S}}function g(u){const{R:c}=u,{m:y}=u,{N:A}=u,w=y[0],S=y[1],b=y[2],M=y[3],d=A==0?0:1/A,a=[c[0]-w*w*d,c[1]-w*S*d,c[2]-w*b*d,c[3]-w*M*d,c[4]-S*w*d,c[5]-S*S*d,c[6]-S*b*d,c[7]-S*M*d,c[8]-b*w*d,c[9]-b*S*d,c[10]-b*b*d,c[11]-b*M*d,c[12]-M*w*d,c[13]-M*S*d,c[14]-M*b*d,c[15]-M*M*d],k=a,C=P;let D=[Math.random(),Math.random(),Math.random(),Math.random()],W=0,B=0;if(A!=0)for(let O=0;O<16&&(D=C.multVec(k,D),B=Math.sqrt(C.dot(D,D)),D=C.sml(1/B,D),!(O!=0&&Math.abs(B-W)<1e-9));O++)W=B;const H=[w*d,S*d,b*d,M*d];return{Cov:a,q:H,e:D,L:W,eMq255:C.dot(C.sml(255,H),D),eMq:C.dot(D,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var P={multVec:(u,c)=>[u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],u[4]*c[0]+u[5]*c[1]+u[6]*c[2]+u[7]*c[3],u[8]*c[0]+u[9]*c[1]+u[10]*c[2]+u[11]*c[3],u[12]*c[0]+u[13]*c[1]+u[14]*c[2]+u[15]*c[3]],dot:(u,c)=>u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],sml:(u,c)=>[u*c[0],u*c[1],u*c[2],u*c[3]]};pe.encode=function(c,y,A,w,S,b,M){w==null&&(w=0),M==null&&(M=!1);const d=r(c,y,A,w,[!1,!1,!1,0,M,!1]);return v(d,-1),p(d,y,A,S,b)},pe.encodeLL=function(c,y,A,w,S,b,M,d){const a={ctype:0+(w==1?0:2)+(S==0?0:4),depth:b,frames:[]},k=(w+S)*b,C=k*y;for(let D=0;D<c.length;D++)a.frames.push({rect:{x:0,y:0,width:y,height:A},img:new Uint8Array(c[D]),blend:0,dispose:1,bpp:Math.ceil(k/8),bpl:Math.ceil(C/8)});return v(a,0,!0),p(a,y,A,M,d)},pe.encode.compress=r,pe.encode.dither=o,pe.quantize=U,pe.quantize.getKDtree=E,pe.quantize.getNearest=m})();const ft={toArrayBuffer(x,I){const R=x.width,f=x.height,e=R<<2,t=x.getContext("2d").getImageData(0,0,R,f),l=new Uint32Array(t.data.buffer),o=(32*R+31)/32<<2,p=o*f,v=122+p,r=new ArrayBuffer(v),i=new DataView(r),n=1<<20;let s,h,U,E,m=n,j=0,L=0,F=0;function T(u){i.setUint16(L,u,!0),L+=2}function g(u){i.setUint32(L,u,!0),L+=4}function P(u){L+=u}T(19778),g(v),P(4),g(122),g(108),g(R),g(-f>>>0),T(1),T(32),g(3),g(p),g(2835),g(2835),P(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),function u(){for(;j<f&&m>0;){for(E=122+j*o,s=0;s<e;)m--,h=l[F++],U=h>>>24,i.setUint32(E+s,h<<8|U),s+=4;j++}F<l.length?(m=n,setTimeout(u,ft._dly)):I(r)}()},toBlob(x,I){this.toArrayBuffer(x,R=>{I(new Blob([R],{type:"image/bmp"}))})},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},an={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const Ze=typeof window<"u",ct=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Oe=Ze&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),sn=(Ze||ct)&&(Oe&&Oe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),ut=(Ze||ct)&&(Oe&&Oe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ke(x,I,R=Date.now()){return new Promise(f=>{const e=x.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let o=l.length;const p=new Uint8Array(o);for(;o--;)p[o]=l.charCodeAt(o);const v=new Blob([p],{type:t});v.name=I,v.lastModified=R,f(v)})}function dt(x){return new Promise((I,R)=>{const f=new ut;f.onload=()=>I(f.result),f.onerror=e=>R(e),f.readAsDataURL(x)})}function ht(x){return new Promise((I,R)=>{const f=new Image;f.onload=()=>I(f),f.onerror=e=>R(e),f.src=x})}function Ee(){if(Ee.cachedResult!==void 0)return Ee.cachedResult;let x=fe.ETC;const{userAgent:I}=navigator;return/Chrom(e|ium)/i.test(I)?x=fe.CHROME:/iP(ad|od|hone)/i.test(I)&&/WebKit/i.test(I)?x=fe.IOS:/Safari/i.test(I)?x=fe.DESKTOP_SAFARI:/Firefox/i.test(I)?x=fe.FIREFOX:(/MSIE/i.test(I)||document.documentMode)&&(x=fe.IE),Ee.cachedResult=x,Ee.cachedResult}function pt(x,I){const R=Ee(),f=an[R];let e=x,t=I,l=e*t;const o=e>t?t/e:e/t;for(;l>f*f;){const p=(f+e)/2,v=(f+t)/2;p<v?(t=v,e=v*o):(t=p*o,e=p),l=e*t}return{width:e,height:t}}function We(x,I){let R,f;try{if(R=new OffscreenCanvas(x,I),f=R.getContext("2d"),f===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{R=document.createElement("canvas"),f=R.getContext("2d")}return R.width=x,R.height=I,[R,f]}function gt(x,I){const{width:R,height:f}=pt(x.width,x.height),[e,t]=We(R,f);return I&&/jpe?g/.test(I)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(x,0,0,e.width,e.height),e}function De(){return De.cachedResult!==void 0||(De.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),De.cachedResult}function Be(x,I={}){return new Promise(function(R,f){let e,t;var l=function(){try{return t=gt(e,I.fileType||x.type),R([e,t])}catch(p){return f(p)}},o=function(p){try{var v=function(r){try{throw r}catch(i){return f(i)}};try{let r;return dt(x).then(function(i){try{return r=i,ht(r).then(function(n){try{return e=n,function(){try{return l()}catch(s){return f(s)}}()}catch(s){return v(s)}},v)}catch(n){return v(n)}},v)}catch(r){v(r)}}catch(r){return f(r)}};try{if(De()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(Ee()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(x).then(function(p){try{return e=p,l()}catch{return o()}},o)}catch{o()}})}function He(x,I,R,f,e=1){return new Promise(function(t,l){let o;if(I==="image/png"){let v,r,i;return v=x.getContext("2d"),{data:r}=v.getImageData(0,0,x.width,x.height),i=pe.encode([r.buffer],x.width,x.height,4096*e),o=new Blob([i],{type:I}),o.name=R,o.lastModified=f,p.call(this)}{let v=function(){return p.call(this)};if(I==="image/bmp")return new Promise(r=>ft.toBlob(x,r)).then((function(r){try{return o=r,o.name=R,o.lastModified=f,v.call(this)}catch(i){return l(i)}}).bind(this),l);{let r=function(){return v.call(this)};if(typeof OffscreenCanvas=="function"&&x instanceof OffscreenCanvas)return x.convertToBlob({type:I,quality:e}).then((function(i){try{return o=i,o.name=R,o.lastModified=f,r.call(this)}catch(n){return l(n)}}).bind(this),l);{let i;return i=x.toDataURL(I,e),Ke(i,R,f).then((function(n){try{return o=n,r.call(this)}catch(s){return l(s)}}).bind(this),l)}}}function p(){return t(o)}})}function be(x){x.width=0,x.height=0}function Re(){return new Promise(function(x,I){let R,f,e,t;return Re.cachedResult!==void 0?x(Re.cachedResult):Ke("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return R=l,Be(R).then(function(o){try{return f=o[1],He(f,R.type,R.name,R.lastModified).then(function(p){try{return e=p,be(f),Be(e).then(function(v){try{return t=v[0],Re.cachedResult=t.width===1&&t.height===2,x(Re.cachedResult)}catch(r){return I(r)}},I)}catch(v){return I(v)}},I)}catch(p){return I(p)}},I)}catch(o){return I(o)}},I)})}function mt(x){return new Promise((I,R)=>{const f=new ut;f.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return I(-2);const l=t.byteLength;let o=2;for(;o<l;){if(t.getUint16(o+2,!1)<=8)return I(-1);const p=t.getUint16(o,!1);if(o+=2,p==65505){if(t.getUint32(o+=2,!1)!=1165519206)return I(-1);const v=t.getUint16(o+=6,!1)==18761;o+=t.getUint32(o+4,v);const r=t.getUint16(o,v);o+=2;for(let i=0;i<r;i++)if(t.getUint16(o+12*i,v)==274)return I(t.getUint16(o+12*i+8,v))}else{if((65280&p)!=65280)break;o+=t.getUint16(o,!1)}}return I(-1)},f.onerror=e=>R(e),f.readAsArrayBuffer(x)})}function vt(x,I){const{width:R}=x,{height:f}=x,{maxWidthOrHeight:e}=I;let t,l=x;return isFinite(e)&&(R>e||f>e)&&([l,t]=We(R,f),R>f?(l.width=e,l.height=f/R*e):(l.width=R/f*e,l.height=e),t.drawImage(x,0,0,l.width,l.height),be(x)),l}function bt(x,I){const{width:R}=x,{height:f}=x,[e,t]=We(R,f);switch(I>4&&I<9?(e.width=f,e.height=R):(e.width=R,e.height=f),I){case 2:t.transform(-1,0,0,1,R,0);break;case 3:t.transform(-1,0,0,-1,R,f);break;case 4:t.transform(1,0,0,-1,0,f);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,f,0);break;case 7:t.transform(0,-1,-1,0,f,R);break;case 8:t.transform(0,-1,1,0,0,R)}return t.drawImage(x,0,0,R,f),be(x),e}function tt(x,I,R=0){return new Promise(function(f,e){let t,l,o,p,v,r,i,n,s,h,U,E,m,j,L,F,T,g,P,u;function c(A=5){if(I.signal&&I.signal.aborted)throw I.signal.reason;t+=A,I.onProgress(Math.min(t,100))}function y(A){if(I.signal&&I.signal.aborted)throw I.signal.reason;t=Math.min(Math.max(A,t),100),I.onProgress(t)}return t=R,l=I.maxIteration||10,o=1024*I.maxSizeMB*1024,c(),Be(x,I).then((function(A){try{return[,p]=A,c(),v=vt(p,I),c(),new Promise(function(w,S){var b;if(!(b=I.exifOrientation))return mt(x).then((function(d){try{return b=d,M.call(this)}catch(a){return S(a)}}).bind(this),S);function M(){return w(b)}return M.call(this)}).then((function(w){try{return r=w,c(),Re().then((function(S){try{return i=S?v:bt(v,r),c(),n=I.initialQuality||1,s=I.fileType||x.type,He(i,s,x.name,x.lastModified,n).then((function(b){try{{let d=function(){if(l--&&(L>o||L>m)){let k,C;return k=u?.95*P.width:P.width,C=u?.95*P.height:P.height,[T,g]=We(k,C),g.drawImage(P,0,0,k,C),n*=s==="image/png"?.85:.95,He(T,s,x.name,x.lastModified,n).then(function(D){try{return F=D,be(P),P=T,L=F.size,y(Math.min(99,Math.floor((j-L)/(j-o)*100))),d}catch(W){return e(W)}},e)}return[1]},a=function(){return be(P),be(T),be(v),be(i),be(p),y(100),f(F)};if(h=b,c(),U=h.size>o,E=h.size>x.size,!U&&!E)return y(100),f(h);var M;return m=x.size,j=h.size,L=j,P=i,u=!I.alwaysKeepResolution&&U,(M=(function(k){for(;k;){if(k.then)return void k.then(M,e);try{if(k.pop){if(k.length)return k.pop()?a.call(this):k;k=d}else k=k.call(this)}catch(C){return e(C)}}}).bind(this))(d)}}catch(d){return e(d)}}).bind(this),e)}catch(b){return e(b)}}).bind(this),e)}catch(S){return e(S)}}).bind(this),e)}catch(w){return e(w)}}).bind(this),e)})}const ln=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Qe;function fn(x,I){return new Promise((R,f)=>{Qe||(Qe=function(l){const o=[];return o.push(l),URL.createObjectURL(new Blob(o))}(ln));const e=new Worker(Qe);e.addEventListener("message",function(l){if(I.signal&&I.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return f(new Error(l.data.error)),void e.terminate();R(l.data.file),e.terminate()}else I.onProgress(l.data.progress)}),e.addEventListener("error",f),I.signal&&I.signal.addEventListener("abort",()=>{f(I.signal.reason),e.terminate()}),e.postMessage({file:x,imageCompressionLibUrl:I.libURL,options:{...I,onProgress:void 0,signal:void 0}})})}function ae(x,I){return new Promise(function(R,f){let e,t,l,o,p,v;if(e={...I},l=0,{onProgress:o}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=s=>{l=s,typeof o=="function"&&o(l)},!(x instanceof Blob||x instanceof sn))return f(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(x.type))return f(new Error("The file given is not an image"));if(v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||v)return tt(x,e).then((function(s){try{return t=s,n.call(this)}catch(h){return f(h)}}).bind(this),f);var r=(function(){try{return n.call(this)}catch(s){return f(s)}}).bind(this),i=function(s){try{return tt(x,e).then(function(h){try{return t=h,r()}catch(U){return f(U)}},f)}catch(h){return f(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",fn(x,e).then(function(s){try{return t=s,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=x.name,t.lastModified=x.lastModified}catch{}try{e.preserveExif&&x.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===x.type)&&(t=lt(x,t))}catch{}return R(t)}})}ae.getDataUrlFromFile=dt,ae.getFilefromDataUrl=Ke,ae.loadImage=ht,ae.drawImageInCanvas=gt,ae.drawFileInCanvas=Be,ae.canvasToFile=He,ae.getExifOrientation=mt,ae.handleMaxWidthOrHeight=vt,ae.followExifOrientation=bt,ae.cleanupCanvasMemory=be,ae.isAutoOrientationInBrowser=Re,ae.approximateBelowMaximumCanvasSizeOfBrowser=pt,ae.copyExifWithoutOrientation=lt,ae.getBrowserName=Ee,ae.version="2.0.2";const cn=({isOpen:x,onClose:I})=>{const{openSnackbar:R}=At(),f=()=>{m(),I()},e=new Date,[t,l]=V.useState(""),[o,p]=V.useState(e),[v,r]=V.useState([]),[i,n]=V.useState(0),[s,h]=V.useState([]),U=F=>{r(T=>[...T,...F]),F.forEach(T=>{h(g=>Dt(g,{$push:[URL.createObjectURL(T)]}))})},E=async()=>{const F=new FormData;F.append("title",t),F.append("date",o.toISOString()),v.forEach(async T=>{try{const g=T.size>=10485760?await ae(T,{maxSizeMB:10,useWebWorker:!0}):T;F.append("images",g)}catch(g){console.error("Image compression failed:",g)}}),F.append("cover",i);try{L(!0),await Ut(F),R("success","Uploaded Succesfully!"),f()}catch(T){console.log(T),R("error","Error Occured. Please contact to the administrator.")}finally{L(!1)}},m=()=>{s.forEach(F=>URL.revokeObjectURL(F)),r([]),h([])},[j,L]=V.useState(!1);return z.jsx(It,{isOpen:x,onClose:f,height:"85vh",maxWidth:"1300px",loading:j,children:j?z.jsx($e,{}):z.jsxs(z.Fragment,{children:[z.jsxs("div",{style:{display:"flex",width:"95%"},children:[z.jsx(jt,{value:o,minDate:new Date("2022/04/03"),maxDate:e,onChange:p}),z.jsx(xt,{id:"filled-basic",label:"Album Title",variant:"outlined",sx:{flexGrow:1,ml:4},onChange:F=>l(F.target.value)})]}),z.jsx(kt,{imagesPreview:s,setImagesPreview:h,setFilesToUpload:r,cover:i,setCoverImage:n}),z.jsx("div",{style:{width:"100%",height:"12.75svh"},children:z.jsx(Wt,{accept:{"image/*":[]},handleChangeFile:U,multiple:!0})}),z.jsxs("div",{style:{display:"flex",marginTop:"1.5em",width:"100%"},children:[z.jsx(Ge,{variant:"outlined",disabled:t.trim()===""||v.length<=0,onClick:E,fullWidth:!0,children:"Submit"}),z.jsx(Ge,{variant:"outlined",onClick:m,disabled:v.length<=0,fullWidth:!0,children:"Clear All"})]})]})})},un=({posts:x,cols:I})=>{const R={};let f=null;for(let e of x){const t=new Date(e.Timestamp).getFullYear();t!==f&&(f=t,R[t]=[]),R[t].push(e)}return Object.keys(R).reverse().map(e=>z.jsxs(z.Fragment,{children:[z.jsx(Je,{cols:I,children:z.jsx(Ye,{component:"div",children:e})},e),R[e].map(t=>z.jsxs(Je,{component:St,to:t.ID,sx:{textDecoration:"none"},children:[z.jsx("img",{src:`https://imagedelivery.net/ICo2WI8PXO_BVRlWfwzOww/${t.Cover}/thumbnail`,alt:"thumbnail",loading:"lazy"}),z.jsx(en,{title:z.jsx(qe,{color:"black",children:t.Title}),subtitle:z.jsx(qe,{fontSize:"small",color:"black",children:st(t.Timestamp,"MMdd")}),position:"below"})]},t.ID))]}))},dn=V.memo(un),hn=x=>{const{setIsDatePickerOpen:I,id:R,disabled:f,value:e,sx:t,InputProps:{ref:l}={},inputProps:{"aria-label":o}={}}=x;return z.jsx(Ge,{variant:"outlined",size:"large",id:R,disabled:f,ref:l,"aria-label":o,sx:{color:"white",borderColor:"white",...t},onClick:()=>I==null?void 0:I(p=>!p),children:e?st(e,"yyyy"):"All Year"})},pn=x=>{const[I,R]=V.useState(!1),{disableDate:f,...e}=x;return z.jsx(Ot,{dateAdapter:Bt,children:z.jsx(Ht,{views:["year"],slots:{field:hn},slotProps:{field:{setIsDatePickerOpen:R},popper:{placement:"bottom"},actionBar:{actions:["clear"]}},...e,open:I,onClose:()=>R(!1)})})},gn=12,mn={backgroundImage:'url("/img/News/Albums/Albums.webp")',backgroundPosition:"32% 22%"},Ln=()=>{const x=Nt("(min-width:1200px)");let[I,R]=Ft();const{openModal:f}=Ct(),[e,t]=V.useState(!1),[l,o]=V.useState(I.has("year")?new Date(I.get("year"),0,1):null),[p,v]=V.useState([]),[r,i]=V.useState(!1),[n,s]=V.useState(null);V.useEffect(()=>{v([]),i(!1),console.log(l),R(l?{year:l.getFullYear()}:E=>E.delete("year"))},[l,R]),V.useEffect(()=>{n!==null&&h()},[I.get("year")]);const h=async()=>{if(!e){t(!0);try{const E=await Et(p,l==null?void 0:l.getFullYear());E.data.length>0?v(m=>[...m,...E.data]):i(!0)}finally{t(!1)}}};V.useEffect(()=>{p.length%gn!==0&&i(!0)},[p]),V.useEffect(()=>(window.onpopstate=()=>{s(!0),console.log("test restore"),v(JSON.parse(sessionStorage.getItem("albums")))},s(!1),()=>{window.onpopstate=()=>{}}),[]),V.useEffect(()=>{n!==null&&!n&&h()},[n]),V.useEffect(()=>()=>{sessionStorage.setItem("albums",JSON.stringify(p))});const U=V.useRef();return V.useEffect(()=>{U.current&&!r&&p.length>=12&&setTimeout(()=>{try{const E=U.current.clientHeight,m=window.innerHeight-500;console.log("test content",E),console.log("test screen",m),E>100&&E<m&&h()}catch{}},500)},[p]),z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"title-wrapper",style:mn,children:z.jsxs("div",{className:"title",children:[z.jsx(qe,{variant:"h4",fontWeight:830,sx:{letterSpacing:"0.4em",pl:"0.4em",color:"white"},children:"교회사진"}),z.jsx(pn,{sx:{mt:2},value:l,minDate:new Date("2022/04/03"),maxDate:new Date,onChange:o})]})}),z.jsx("div",{className:"container-wrapper",children:z.jsx(Mt,{className:"container",sx:{px:{xs:"0 !important",md:"1.5em !important"},py:"0 !important"},children:p.length<=0?z.jsx(et,{alignItems:"center",sx:{py:8},children:e?z.jsx($e,{}):"사진이 존재하지 않습니다"}):z.jsx(Pt,{dataLength:p.length,next:h,hasMore:!r,loader:z.jsx(et,{alignItems:"center",children:z.jsx($e,{})}),scrollThreshold:1,style:{overflowY:"hidden"},children:z.jsx(zt,{ref:U,cols:x?4:3,gap:3,children:z.jsx(dn,{posts:p,cols:x?4:3})})})})}),z.jsx(Lt,{children:z.jsx(Tt,{variant:"primary",style:{position:"fixed",right:"2vw",bottom:"3vh"},onClick:()=>f(cn,{}),children:z.jsx(_t,{})})}),r&&z.jsx(Rt,{})]})};export{Ln as default};
