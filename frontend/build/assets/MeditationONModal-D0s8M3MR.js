import{y as v,r as l,j as e,al as C,C as b,B as u,bs as y}from"./index-BGDHRzLD.js";import{I as S,u as U}from"./ImagePreviews-dYRT4Ji4.js";import{F as w}from"./FileUploadComponent-B7pSQiEu.js";import"./index-DMLNK8T5.js";const L=({isOpen:h,onClose:p})=>{const{openSnackbar:i}=v(),n=()=>{d(),p()},[s,o]=l.useState([]),[c,r]=l.useState([]),g=a=>{o(t=>[...t,...a]),a.forEach(t=>{r(j=>U(j,{$push:[URL.createObjectURL(t)]}))})},x=async()=>{const a=new FormData;s.forEach(t=>{a.append("images",t)});try{m(!0),await y(a),i("success","Uploaded Succesfully!"),n()}catch(t){console.log(t),i("error","Error Occured. Please contact to the administrator.")}finally{m(!1)}},d=()=>{c.forEach(a=>URL.revokeObjectURL(a)),o([]),r([])},[f,m]=l.useState(!1);return e.jsx(C,{isOpen:h,onClose:n,maxHeight:"85vh",maxWidth:"1300px",children:f?e.jsx(b,{}):e.jsxs(e.Fragment,{children:[e.jsx(S,{imagesPreview:c,setImagesPreview:r,setFilesToUpload:o}),e.jsx("div",{style:{width:"100%",height:"12.75svh"},children:e.jsx(w,{accept:{"image/*":[]},handleChangeFile:g,multiple:!0})}),e.jsxs("div",{style:{display:"flex",marginTop:"1.5em",width:"100%"},children:[e.jsx(u,{variant:"outlined",disabled:s.length<=0,onClick:x,fullWidth:!0,children:"Submit"}),e.jsx(u,{variant:"outlined",onClick:d,disabled:s.length<=0,fullWidth:!0,children:"Clear All"})]})]})})};export{L as default};
