const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MeditationONModal-jmeSSo2j.js","assets/index-BCIXcEIZ.js","assets/index-DtuS3ngw.css","assets/ImagePreviews-BaoURLg-.js","assets/meditationon-BDCDiX5A.js","assets/CustomModal-Drw6ytGx.js","assets/FileUploadComponent-BcnfeS81.js","assets/ButtonDatePicker-Cf4okAKB.js","assets/useThemeProps-BpawvwWQ.js","assets/addDays-_A4UCdTH.js","assets/format-C9vNfFN1.js","assets/getDate-DAKJtapI.js","assets/parse-BLVyYHJB.js","assets/getDefaultOptions-Lw9z10sO.js","assets/index-4jQv89W5.js","assets/useControlled-Bnut1LFb.js","assets/TextField-B7mjeZgD.js","assets/isMuiElement-B4moRskz.js","assets/Popper-CA6GyroM.js","assets/DialogContent-MlrNr5tL.js","assets/ListItem-rUWjZu1U.js","assets/WeeklyUpdate-BDcOdyBl.js","assets/index-D1xZfsFD.js"])))=>i.map(i=>d[i]);
import{r as o,j as e,L as f,a6 as x,p as u,T as j,F as I,C as p,_ as y,a3 as O}from"./index-BCIXcEIZ.js";import{A as N}from"./Add-Cj9QSQUb.js";import{I as w,a as v}from"./ImageListItem-BeBhg1xM.js";import{I as M}from"./index.es-CCJIFnFL.js";import{A as S,F as C}from"./AdminComponent-RIxKWkc8.js";import{g as E}from"./meditationon-BDCDiX5A.js";import{u as P}from"./index-4jQv89W5.js";import{S as g}from"./Stack-bJptdIRh.js";import"./isMuiElement-B4moRskz.js";const _=({posts:i})=>i.map(n=>e.jsx(w,{component:f,to:n.ID,children:e.jsx("img",{src:`https://imagedelivery.net/ICo2WI8PXO_BVRlWfwzOww/${n.Cover}/thumbnail`,alt:"thumbnail",loading:"lazy"})},n.ID)),L=o.memo(_),T=12,b={backgroundImage:'url("/img/Online/MeditationON.webp")'},W=()=>{const i=P("(min-width:1200px)"),n=x(),{openModal:h}=u(),[t,m]=o.useState([]),[r,d]=o.useState(!1),l=async()=>{console.log("test getPosts");const s=await E(t);s.data.length>0?m(a=>[...a,...s.data]):d(!0)};o.useEffect(()=>{t.length%T!==0&&d(!0)},[t]),o.useEffect(()=>{console.log(n),n==="POP"&&JSON.parse(sessionStorage.getItem("posts")).length>0?m(JSON.parse(sessionStorage.getItem("posts"))):(console.log("get"),l())},[]),o.useEffect(()=>()=>{sessionStorage.setItem("posts",JSON.stringify(t))});const c=o.useRef();return o.useEffect(()=>{c.current&&!r&&t.length>=12&&setTimeout(()=>{try{const s=c.current.clientHeight,a=window.innerHeight-500;console.log("test content",s),console.log("test screen",a),s>100&&s<a&&l()}catch{}},500)},[t]),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"묵상 ON - OCCE"}),e.jsx("div",{className:"title-wrapper",style:b,children:e.jsx("div",{className:"title",children:e.jsx(j,{variant:"h4",fontWeight:830,sx:{letterSpacing:"0.4em",pl:"0.4em",color:"white"},children:"묵상 ON"})})}),e.jsx("div",{className:"container-wrapper",children:e.jsx(I,{className:"container",sx:{px:{xs:"0 !important",md:"1.5em !important"},py:"0 !important"},children:t.length<=0?e.jsx(g,{alignItems:"center",children:e.jsx(p,{})}):e.jsx(M,{dataLength:t.length,next:l,hasMore:!r,loader:e.jsx(g,{alignItems:"center",children:e.jsx(p,{})}),scrollThreshold:1,style:{overflowY:"hidden"},children:e.jsx(v,{ref:c,cols:i?4:3,gap:3,sx:{my:{xs:"0",md:"16px"}},children:e.jsx(L,{posts:t})})})})}),e.jsx(S,{children:e.jsx(C,{variant:"primary",style:{position:"fixed",right:"2vw",bottom:"3vh"},onClick:async()=>{const{default:s}=await y(async()=>{const{default:a}=await import("./MeditationONModal-jmeSSo2j.js");return{default:a}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]));h(s,{})},children:e.jsx(N,{})})}),r&&e.jsx(O,{})]})};export{W as default};
