import{z as b,r as a,j as t,am as v,C,an as g,B as S}from"./index-DWRYxHrI.js";import{T as y}from"./TextEditor-CBt5W9MS.js";import{a as E}from"./announcements-Ds6uyICZ.js";const W=({isOpen:m,onClose:h,revalidator:x,id:f,origTitle:e,origBody:s})=>{const{openSnackbar:c}=b(),[p,u]=a.useState(!1),[n,o]=a.useState(e),[r,l]=a.useState(s),j=async()=>{u(!0);try{await E(f,n,r),x(),c("success","The announcement is successfully posted!"),d()}catch(i){console.log(i),c("error","Error Occured. Please contact to the administrator.")}finally{u(!1)}};a.useEffect(()=>{o(e),l(s)},[e,s]);const d=()=>{o(e),l(s),h()};return t.jsx(v,{isOpen:m,onClose:d,maxWidth:"1300px",maxHeight:"90svh",children:p?t.jsx(C,{}):t.jsxs(t.Fragment,{children:[t.jsx(g,{id:"filled-basic",label:"Title",variant:"outlined",value:n,fullWidth:!0,onChange:i=>o(i.target.value),required:!0}),t.jsx("div",{style:{height:"65svh",width:"100%",marginTop:"1em"},children:t.jsx(y,{body:r,getBody:l})}),t.jsx(S,{variant:"outlined",disabled:n.trim()===""||r.trim()==="",onClick:j,fullWidth:!0,sx:{marginTop:"1.5em"},children:"Post"})]})})};export{W as default};
