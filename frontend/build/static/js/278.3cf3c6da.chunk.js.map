{"version":3,"file":"static/js/278.3cf3c6da.chunk.js","mappings":"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","sources":["pages/News/Announcements/Announcement.js"],"sourcesContent":["import {\r\n  Divider,\r\n  SpeedDial,\r\n  SpeedDialAction,\r\n  SpeedDialIcon,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { useLoaderData, useNavigate, useRevalidator } from \"react-router-dom\";\r\nimport PushPinIcon from \"@mui/icons-material/PushPin\";\r\nimport PushPinOutlinedIcon from \"@mui/icons-material/PushPinOutlined\";\r\nimport EditNoteIcon from \"@mui/icons-material/EditNote\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport useSnackbar from \"../../../util/useSnackbar\";\r\nimport { useState } from \"react\";\r\nimport FullScreenLoading from \"../../../common/FullScreenLoading\";\r\n\r\nimport AdminComponent from \"../../../common/AdminComponent\";\r\nimport useModals from \"../../../util/useModal\";\r\nimport AnnouncementPostModal from \"../../../components/News/Announcement/AnnouncementPostModal\";\r\nimport {\r\n  deleteAnnouncement,\r\n  pinAnnouncement,\r\n} from \"../../../api/announcements\";\r\n\r\nimport \"../../NextGen/NextGen.css\";\r\nimport \"./content-styles.css\";\r\n\r\nconst titleBackground = {\r\n  backgroundImage:\r\n    'linear-gradient(rgba(0, 0, 0, 0.30), rgba(0, 0, 0, 0.30)), url(\"/img/News/Announcements/Announcements.jpg\")',\r\n};\r\n\r\nconst Announcement = () => {\r\n  let revalidator = useRevalidator();\r\n  const navigate = useNavigate();\r\n  const { openModal } = useModals();\r\n  const { openSnackbar } = useSnackbar();\r\n  const { id, title, body, timestamp, pin } = useLoaderData();\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const onPin = async () => {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      await pinAnnouncement(id, pin);\r\n\r\n      revalidator.revalidate();\r\n      openSnackbar(\r\n        \"success\",\r\n        `The announcement is successfully ${pin ? \"unpinned\" : \"pinned\"}`\r\n      );\r\n    } catch (error) {\r\n      openSnackbar(\r\n        \"error\",\r\n        \"Error Occured. Please contact to the administrator.\"\r\n      );\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const onDelete = async () => {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      await deleteAnnouncement(id);\r\n\r\n      openSnackbar(\"success\", \"The announcement is successfully deleted!\");\r\n      navigate(\"/announcements\");\r\n    } catch {\r\n      openSnackbar(\r\n        \"error\",\r\n        \"Error Occured. Please contact to the administrator.\"\r\n      );\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const actions = [\r\n    {\r\n      icon: <EditNoteIcon />,\r\n      name: \"Edit\",\r\n      onClick: () =>\r\n        openModal(AnnouncementPostModal, {\r\n          revalidator: revalidator.revalidate,\r\n          id: id,\r\n          origTitle: title,\r\n          origBody: body,\r\n        }),\r\n    },\r\n    {\r\n      icon: pin ? <PushPinIcon /> : <PushPinOutlinedIcon />,\r\n      name: pin ? \"Unpin\" : \"Pin\",\r\n      onClick: onPin,\r\n    },\r\n    { icon: <DeleteIcon />, name: \"Delete\", onClick: onDelete },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <FullScreenLoading />}\r\n\r\n      <div className=\"title-wrapper\" style={titleBackground}>\r\n        <div className=\"title\">\r\n          <Typography\r\n            variant=\"h4\"\r\n            fontWeight={830}\r\n            sx={{ letterSpacing: \"0.4em\", pl: \"0.4em\", color: \"white\" }}\r\n          >\r\n            공지사항\r\n          </Typography>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-wrapper\">\r\n        <div\r\n          className=\"container\"\r\n          style={{ display: \"flex\", flexDirection: \"column\" }}\r\n        >\r\n          {pin === 1 && <PushPinIcon sx={{ opacity: pin ? 1 : 0, mr: 2 }} />}\r\n\r\n          <h1 style={{ textAlign: \"left\", wordBreak: \"break-all\" }}>{title}</h1>\r\n\r\n          <p style={{ textAlign: \"right\" }}>\r\n            {format(new Date(timestamp), \"yyyy/MM/dd\")}\r\n          </p>\r\n\r\n          <Divider />\r\n\r\n          <div\r\n            className=\"ck-content\"\r\n            dangerouslySetInnerHTML={{\r\n              __html: body,\r\n            }}\r\n            style={{ wordBreak: \"break-word\" }}\r\n          />\r\n\r\n          <AdminComponent>\r\n            <SpeedDial\r\n              ariaLabel=\"SpeedDial basic example\"\r\n              sx={{ position: \"fixed\", bottom: 16, right: 16 }}\r\n              icon={<SpeedDialIcon />}\r\n            >\r\n              {actions.map((action) => (\r\n                <SpeedDialAction\r\n                  key={action.name}\r\n                  icon={action.icon}\r\n                  tooltipTitle={action.name}\r\n                  onClick={action.onClick}\r\n                />\r\n              ))}\r\n            </SpeedDial>\r\n          </AdminComponent>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Announcement;\r\n"],"names":["titleBackground","backgroundImage","Announcement","revalidator","useRevalidator","navigate","useNavigate","openModal","useModals","openSnackbar","useSnackbar","id","title","body","timestamp","pin","useLoaderData","isLoading","setIsLoading","useState","actions","icon","_jsx","EditNoteIcon","name","onClick","AnnouncementPostModal","revalidate","origTitle","origBody","PushPinIcon","PushPinOutlinedIcon","async","pinAnnouncement","concat","error","DeleteIcon","deleteAnnouncement","_jsxs","_Fragment","children","FullScreenLoading","className","style","Typography","variant","fontWeight","sx","letterSpacing","pl","color","display","flexDirection","opacity","mr","textAlign","wordBreak","format","Date","Divider","dangerouslySetInnerHTML","__html","AdminComponent","SpeedDial","ariaLabel","position","bottom","right","SpeedDialIcon","map","action","SpeedDialAction","tooltipTitle"],"sourceRoot":""}