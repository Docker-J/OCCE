{"version":3,"file":"static/js/474.f37556e7.chunk.js","mappings":"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","sources":["components/Announcement/TextEditor.js","components/Announcement/BoardPost.js","pages/Announcements/Announcements.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nimport Editor from \"ckeditor5-custom-build/build/ckeditor\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\n\r\nconst TextEditor = ({ getBody }) => {\r\n  return (\r\n    <div style={{ maxWidth: \"1500px\", alignItems: \"center\" }}>\r\n      <CKEditor\r\n        editor={Editor}\r\n        data=\"<p>Hello from CKEditor 5!</p>\"\r\n        onReady={(editor) => {\r\n          // You can store the \"editor\" and use when it is needed.\r\n          console.log(\"Editor is ready to use!\", editor);\r\n        }}\r\n        onChange={(event, editor) => {\r\n          const data = editor.getData();\r\n          getBody(data);\r\n        }}\r\n        // onBlur={(event, editor) => {\r\n        //   console.log(\"Blur.\", editor);\r\n        // }}\r\n        // onFocus={(event, editor) => {\r\n        //   console.log(\"Focus.\", editor);\r\n        // }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextEditor;\r\n","import { Button, TextField } from \"@mui/material\";\r\nimport TextEditor from \"./TextEditor\";\r\nimport { useState } from \"react\";\r\n\r\nimport { collection, addDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { db } from \"../../api/firebase\";\r\n\r\nimport { useEffect } from \"react\";\r\n\r\nconst BoardPost = (props) => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [postButton, setPostButton] = useState(false);\r\n\r\n  const getBody = (body) => {\r\n    setBody(body);\r\n  };\r\n\r\n  async function postAnnouncement() {\r\n    await addDoc(collection(db, \"Announcement\"), {\r\n      title: title,\r\n      body: body,\r\n      date: serverTimestamp(),\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setPostButton(title.trim() === \"\" || body.trim() === \"\");\r\n  }, [{ title, body }]);\r\n\r\n  return (\r\n    <div>\r\n      <TextField\r\n        id=\"filled-basic\"\r\n        label=\"Title\"\r\n        variant=\"outlined\"\r\n        onChange={(event) => setTitle(event.target.value)}\r\n      />\r\n      <TextEditor body={body} getBody={getBody} />\r\n      <Button\r\n        variant=\"outlined\"\r\n        disabled={postButton}\r\n        onClick={postAnnouncement}\r\n      >\r\n        Post\r\n      </Button>\r\n      <Button variant=\"outlined\" onClick={props.handleClose}>\r\n        Cancel\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BoardPost;\r\n","import { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  Box,\r\n  CircularProgress,\r\n  Fab,\r\n  Modal,\r\n  Pagination,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  useScrollTrigger,\r\n} from \"@mui/material\";\r\n\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\n\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  addDoc,\r\n  doc,\r\n  setDoc,\r\n  getDoc,\r\n  orderBy,\r\n  query,\r\n  limit,\r\n  startAfter,\r\n} from \"firebase/firestore\";\r\n\r\nimport { db } from \"../../api/firebase\";\r\n\r\nimport \"./Announcements.css\";\r\nimport BoardPost from \"../../components/Announcement/BoardPost\";\r\n\r\nconst Announcements = () => {\r\n  const [body, setBody] = useState(\"\");\r\n\r\n  const getBody = (body) => {\r\n    setBody(body);\r\n  };\r\n\r\n  const [numberOfAnnouncements, setNumberOfAnnouncements] = useState(1);\r\n  const [announcements, setAnnouncements] = useState(null);\r\n  const [pages, setPages] = useState(0);\r\n  const [prevPage, setPrevPage] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n  const lastVisible =\r\n    announcements && announcements.docs[announcements.docs.length - 1];\r\n\r\n  const handleOpen = () => {\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpenModal(false);\r\n  };\r\n\r\n  async function getInitialAnnouncements() {\r\n    const numberOfAnnouncements = await getDoc(\r\n      doc(db, \"Misc\", \"Announcements\")\r\n    );\r\n    setNumberOfAnnouncements(numberOfAnnouncements.data().posts);\r\n\r\n    const querySnap = await getDocs(\r\n      query(collection(db, \"Announcement\"), orderBy(\"date\", \"desc\"), limit(10))\r\n    );\r\n    setAnnouncements(querySnap);\r\n  }\r\n\r\n  async function getAnnouncements() {\r\n    const querySnap = await getDocs(\r\n      query(\r\n        collection(db, \"Announcement\"),\r\n        orderBy(\"date\", \"desc\"),\r\n        startAfter(lastVisible),\r\n        limit(10)\r\n      )\r\n    );\r\n    setAnnouncements(querySnap);\r\n  }\r\n\r\n  async function postAnnouncement() {\r\n    await setDoc(doc(db, \"Misc\", \"Announcements\"), {\r\n      posts: 15,\r\n    });\r\n  }\r\n\r\n  function pageChnageHandler(event, pageNumber) {\r\n    setCurrentPage(pageNumber);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getInitialAnnouncements();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getAnnouncements();\r\n  }, [currentPage]);\r\n\r\n  useEffect(() => {\r\n    if (announcements !== null) {\r\n      if (numberOfAnnouncements % 10 !== 0) {\r\n        setPages(Math.floor(numberOfAnnouncements / 10 + 1));\r\n      } else {\r\n        setPages(Math.floor(numberOfAnnouncements / 10));\r\n      }\r\n    }\r\n  }, [announcements]);\r\n\r\n  const style = {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    width: \"80vw\",\r\n    maxWidth: \"1500px\",\r\n    height: \"80vh\",\r\n    bgcolor: \"#ffffff\",\r\n    border: \"0.1px solid #f57c00\",\r\n    boxShadow: 24,\r\n    p: 2,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"board\"\r\n        style={{\r\n          width: \"100%\",\r\n          maxWidth: \"1500px\",\r\n        }}\r\n      >\r\n        <h1>공지사항</h1>\r\n\r\n        <div>\r\n          <TableContainer\r\n            className=\"table\"\r\n            component={Paper}\r\n            sx={{ width: \"85%\" }}\r\n          >\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\" width=\"80%\">\r\n                    제목\r\n                  </TableCell>\r\n                  <TableCell align=\"center\"> 작성일 </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {announcements ? (\r\n                  announcements.docs.map((announcement) => (\r\n                    <TableRow\r\n                      component={Link}\r\n                      to={\r\n                        \"/announcements/announcement?docID=\" + announcement.id\r\n                      }\r\n                      key={announcement.id}\r\n                      sx={{ textDecoration: \"none\" }}\r\n                    >\r\n                      <TableCell>{announcement.data().title}</TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {announcement\r\n                          .data()\r\n                          .date.toDate()\r\n                          .toLocaleDateString(\"en-US\")}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))\r\n                ) : (\r\n                  <TableRow>\r\n                    <CircularProgress />\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n\r\n          <Pagination\r\n            className=\"pagination\"\r\n            count={pages}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            hideNextButton={pages === 1}\r\n            hidePrevButton={pages === numberOfAnnouncements}\r\n            onChange={(event, pageNumber) =>\r\n              pageChnageHandler(event, pageNumber)\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n      <Fab\r\n        variant=\"primary\"\r\n        style={{ position: \"fixed\", right: \"2vw\", bottom: \"3vh\" }}\r\n        onClick={handleOpen}\r\n      >\r\n        <AddIcon />\r\n      </Fab>\r\n\r\n      <Modal\r\n        open={openModal}\r\n        onClose={handleClose}\r\n        // aria-labelledby=\"modal-modal-title\"\r\n        // aria-describedby=\"modal-modal-description\"\r\n      >\r\n        <Box sx={style} bgcolor=\"white\">\r\n          <BoardPost handleClose={handleClose} />\r\n        </Box>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Announcements;\r\n"],"names":["_ref","getBody","_jsx","style","maxWidth","alignItems","children","CKEditor","editor","Editor","data","onReady","console","log","onChange","event","getData","props","_useState","useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","body","setBody","_useState5","_useState6","postButton","setPostButton","_postAnnouncement","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","addDoc","collection","db","date","serverTimestamp","stop","apply","arguments","useEffect","trim","_jsxs","TextField","id","label","variant","target","value","TextEditor","Button","disabled","onClick","handleClose","numberOfAnnouncements","setNumberOfAnnouncements","announcements","setAnnouncements","_useState7","_useState8","pages","setPages","_useState9","_useState10","_useState11","_useState12","currentPage","setCurrentPage","_useState13","_useState14","openModal","setOpenModal","lastVisible","docs","length","_getInitialAnnouncements","querySnap","getDoc","doc","sent","posts","getDocs","query","orderBy","limit","_getAnnouncements","_callee2","_context2","startAfter","getInitialAnnouncements","getAnnouncements","Math","floor","_Fragment","className","width","TableContainer","component","Paper","sx","Table","TableHead","TableRow","TableCell","align","TableBody","map","announcement","Link","to","textDecoration","toDate","toLocaleDateString","CircularProgress","Pagination","count","color","hideNextButton","hidePrevButton","pageNumber","pageChnageHandler","Fab","position","right","bottom","AddIcon","Modal","open","onClose","Box","top","left","transform","height","bgcolor","border","boxShadow","p","BoardPost"],"sourceRoot":""}