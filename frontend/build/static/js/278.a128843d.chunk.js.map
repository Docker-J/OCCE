{"version":3,"file":"static/js/278.a128843d.chunk.js","mappings":"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","sources":["pages/News/Announcements/Announcement.js"],"sourcesContent":["import {\n  Divider,\n  SpeedDial,\n  SpeedDialAction,\n  SpeedDialIcon,\n  Typography,\n} from \"@mui/material\";\nimport { useLoaderData, useNavigate, useRevalidator } from \"react-router-dom\";\nimport PushPinIcon from \"@mui/icons-material/PushPin\";\nimport PushPinOutlinedIcon from \"@mui/icons-material/PushPinOutlined\";\nimport EditNoteIcon from \"@mui/icons-material/EditNote\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport { format } from \"date-fns\";\n\nimport useSnackbar from \"../../../util/useSnackbar\";\nimport { useState } from \"react\";\nimport FullScreenLoading from \"../../../common/FullScreenLoading\";\n\nimport AdminComponent from \"../../../common/AdminComponent\";\nimport useModals from \"../../../util/useModal\";\nimport AnnouncementPostModal from \"../../../components/News/Announcement/AnnouncementPostModal\";\nimport {\n  deleteAnnouncement,\n  pinAnnouncement,\n} from \"../../../api/announcements\";\n\nimport \"../../NextGen/NextGen.css\";\nimport \"./content-styles.css\";\n\nconst titleBackground = {\n  backgroundImage:\n    'linear-gradient(rgba(0, 0, 0, 0.30), rgba(0, 0, 0, 0.30)), url(\"/img/News/Announcements/Announcements.jpg\")',\n};\n\nconst Announcement = () => {\n  let revalidator = useRevalidator();\n  const navigate = useNavigate();\n  const { openModal } = useModals();\n  const { openSnackbar } = useSnackbar();\n  const { id, title, body, timestamp, pin } = useLoaderData();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const onPin = async () => {\n    setIsLoading(true);\n\n    try {\n      await pinAnnouncement(id, pin);\n\n      revalidator.revalidate();\n      openSnackbar(\n        \"success\",\n        `The announcement is successfully ${pin ? \"unpinned\" : \"pinned\"}`\n      );\n    } catch (error) {\n      openSnackbar(\n        \"error\",\n        \"Error Occured. Please contact to the administrator.\"\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const onDelete = async () => {\n    setIsLoading(true);\n\n    try {\n      await deleteAnnouncement(id);\n\n      openSnackbar(\"success\", \"The announcement is successfully deleted!\");\n      navigate(\"/announcements\");\n    } catch {\n      openSnackbar(\n        \"error\",\n        \"Error Occured. Please contact to the administrator.\"\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const actions = [\n    {\n      icon: <EditNoteIcon />,\n      name: \"Edit\",\n      onClick: () =>\n        openModal(AnnouncementPostModal, {\n          revalidator: revalidator.revalidate,\n          id: id,\n          origTitle: title,\n          origBody: body,\n        }),\n    },\n    {\n      icon: pin ? <PushPinIcon /> : <PushPinOutlinedIcon />,\n      name: pin ? \"Unpin\" : \"Pin\",\n      onClick: onPin,\n    },\n    { icon: <DeleteIcon />, name: \"Delete\", onClick: onDelete },\n  ];\n\n  return (\n    <>\n      {isLoading && <FullScreenLoading />}\n\n      <div className=\"title-wrapper\" style={titleBackground}>\n        <div className=\"title\">\n          <Typography\n            variant=\"h4\"\n            fontWeight={830}\n            sx={{ letterSpacing: \"0.4em\", pl: \"0.4em\", color: \"white\" }}\n          >\n            공지사항\n          </Typography>\n        </div>\n      </div>\n\n      <div className=\"container-wrapper\">\n        <div\n          className=\"container\"\n          style={{ display: \"flex\", flexDirection: \"column\" }}\n        >\n          {pin === 1 && <PushPinIcon sx={{ opacity: pin ? 1 : 0, mr: 2 }} />}\n\n          <h1 style={{ textAlign: \"left\", wordBreak: \"break-all\" }}>{title}</h1>\n\n          <p style={{ textAlign: \"right\" }}>\n            {format(new Date(timestamp), \"yyyy/MM/dd\")}\n          </p>\n\n          <Divider />\n\n          <div\n            className=\"ck-content\"\n            dangerouslySetInnerHTML={{\n              __html: body,\n            }}\n            style={{ wordBreak: \"break-word\" }}\n          />\n\n          <AdminComponent>\n            <SpeedDial\n              ariaLabel=\"SpeedDial basic example\"\n              sx={{ position: \"fixed\", bottom: 16, right: 16 }}\n              icon={<SpeedDialIcon />}\n            >\n              {actions.map((action) => (\n                <SpeedDialAction\n                  key={action.name}\n                  icon={action.icon}\n                  tooltipTitle={action.name}\n                  onClick={action.onClick}\n                />\n              ))}\n            </SpeedDial>\n          </AdminComponent>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Announcement;\n"],"names":["titleBackground","backgroundImage","Announcement","revalidator","useRevalidator","navigate","useNavigate","openModal","useModals","openSnackbar","useSnackbar","id","title","body","timestamp","pin","useLoaderData","isLoading","setIsLoading","useState","actions","icon","_jsx","EditNoteIcon","name","onClick","AnnouncementPostModal","revalidate","origTitle","origBody","PushPinIcon","PushPinOutlinedIcon","async","pinAnnouncement","error","DeleteIcon","deleteAnnouncement","_jsxs","_Fragment","children","FullScreenLoading","className","style","Typography","variant","fontWeight","sx","letterSpacing","pl","color","display","flexDirection","opacity","mr","textAlign","wordBreak","format","Date","Divider","dangerouslySetInnerHTML","__html","AdminComponent","SpeedDial","ariaLabel","position","bottom","right","SpeedDialIcon","map","action","SpeedDialAction","tooltipTitle"],"sourceRoot":""}