"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[486],{9399:(e,n,t)=>{t.d(n,{P8:()=>c,Uf:()=>i,xI:()=>r});var a=t(6213),s=t(5473);const i=async(e,n,t)=>{const i=Array.from(t.matchAll(/(<img[^>]+src=")([^">]+)"/g)),r=i.map((async e=>{const n=e[2];return n.startsWith("https://")?n.split("/").at(-2):(0,s.V)(n)})),c=await Promise.all(r),l=i.map(((e,n)=>{const t=`https://imagedelivery.net/ICo2WI8PXO_BVRlWfwzOww/${c[n]}/Announcements`;return{original:e[0],replacement:`${e[1]}${t}"`}}));let o=t;for(const{original:a,replacement:s}of l)o=o.replace(a,s);const d=/<iframe\s+[^>]*>/i.test(o);try{await a.A.put(e?`/api/announcements/announcement/${e}`:"/api/announcements/announcement",{title:n,body:o,images:c,video:d?1:0})}catch{throw new Error}},r=async e=>{try{await a.A.delete(`/api/announcements/announcement/${e}`)}catch{throw new Error}},c=async(e,n)=>{try{await a.A.put(`/api/announcements/announcement/${e}/pin`,{pin:n?0:1})}catch{throw new Error}}},2611:(e,n,t)=>{t.d(n,{A:()=>m});var a=t(1637),s=t(7811),i=t(2518),r=t(2150),c=t(5043),l=t(8081),o=t(9399),d=t(4889),h=t(579);const m=e=>{let{isOpen:n,onClose:t,revalidator:m,id:u,origTitle:p,origBody:x}=e;const{openSnackbar:y}=(0,l.A)(),[v,g]=(0,c.useState)(!1),[A,j]=(0,c.useState)(p),[f,w]=(0,c.useState)(x);(0,c.useEffect)((()=>{j(p),w(x)}),[p,x]);const b=()=>{j(p),w(x),t()};return(0,h.jsx)(d.A,{isOpen:n,onClose:b,maxWidth:"1300px",maxHeight:"90svh",children:v?(0,h.jsx)(a.A,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.A,{id:"filled-basic",label:"Title",variant:"outlined",value:A,fullWidth:!0,onChange:e=>j(e.target.value),required:!0}),(0,h.jsx)("div",{style:{height:"65svh",width:"100%",marginTop:"1em"},children:(0,h.jsx)(r.A,{body:f,getBody:w})}),(0,h.jsx)(i.A,{variant:"outlined",disabled:""===A.trim()||""===f.trim(),onClick:async()=>{g(!0);try{await(0,o.Uf)(u,A,f),m(),y("success","The announcement is successfully posted!"),b()}catch(e){console.log(e),y("error","Error Occured. Please contact to the administrator.")}finally{g(!1)}},fullWidth:!0,sx:{marginTop:"1.5em"},children:"Post"})]})})}},2977:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var a=t(4496),s=t(9336),i=t(7500),r=t(2119),c=t(6941),l=t(3216),o=t(5797),d=t(9662),h=t(579);const m=(0,d.A)((0,h.jsx)("path",{d:"M14 4v5c0 1.12.37 2.16 1 3H9c.65-.86 1-1.9 1-3V4zm3-2H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3V4h1c.55 0 1-.45 1-1s-.45-1-1-1"}),"PushPinOutlined");var u=t(264),p=t(3768),x=t(9432),y=t(8081),v=t(5043),g=t(1203),A=t(9448),j=t(6453),f=t(2611),w=t(9399);t(1843);const b={backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.30), rgba(0, 0, 0, 0.30)), url("/img/News/Announcements/Announcements.jpg")'},k=()=>{let e=(0,l.vL)();const n=(0,l.Zp)(),{openModal:t}=(0,j.A)(),{openSnackbar:d}=(0,y.A)(),{id:k,title:P,body:C,timestamp:T,pin:S}=(0,l.LG)(),[E,O]=(0,v.useState)(!1),H=[{icon:(0,h.jsx)(u.A,{}),name:"Edit",onClick:()=>t(f.A,{revalidator:e.revalidate,id:k,origTitle:P,origBody:C})},{icon:S?(0,h.jsx)(o.A,{}):(0,h.jsx)(m,{}),name:S?"Unpin":"Pin",onClick:async()=>{O(!0);try{await(0,w.P8)(k,S),e.revalidate(),d("success","The announcement is successfully "+(S?"unpinned":"pinned"))}catch(n){d("error","Error Occured. Please contact to the administrator.")}finally{O(!1)}}},{icon:(0,h.jsx)(p.A,{}),name:"Delete",onClick:async()=>{O(!0);try{await(0,w.xI)(k),d("success","The announcement is successfully deleted!"),n("/announcements")}catch{d("error","Error Occured. Please contact to the administrator.")}finally{O(!1)}}}];return(0,h.jsxs)(h.Fragment,{children:[E&&(0,h.jsx)(g.A,{}),(0,h.jsx)("div",{className:"title-wrapper",style:b,children:(0,h.jsx)("div",{className:"title",children:(0,h.jsx)(a.A,{variant:"h4",fontWeight:830,sx:{letterSpacing:"0.4em",pl:"0.4em",color:"white"},children:"\uacf5\uc9c0\uc0ac\ud56d"})})}),(0,h.jsx)("div",{className:"container-wrapper",children:(0,h.jsxs)("div",{className:"container",style:{display:"flex",flexDirection:"column"},children:[1===S&&(0,h.jsx)(o.A,{sx:{opacity:S?1:0,mr:2}}),(0,h.jsx)("h1",{style:{textAlign:"left",wordBreak:"break-all"},children:P}),(0,h.jsx)("p",{style:{textAlign:"right"},children:(0,x.GP)(new Date(T),"yyyy/MM/dd")}),(0,h.jsx)(s.A,{}),(0,h.jsx)("div",{className:"ck-content",dangerouslySetInnerHTML:{__html:C},style:{wordBreak:"break-word"}}),(0,h.jsx)(A.A,{children:(0,h.jsx)(i.A,{ariaLabel:"SpeedDial basic example",sx:{position:"fixed",bottom:16,right:16},icon:(0,h.jsx)(r.A,{}),children:H.map((e=>(0,h.jsx)(c.A,{icon:e.icon,tooltipTitle:e.name,onClick:e.onClick},e.name)))})})]})})]})}},5797:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(9662),s=t(579);const i=(0,a.A)((0,s.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin")}}]);
//# sourceMappingURL=486.c8023388.chunk.js.map