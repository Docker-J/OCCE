{"version":3,"file":"static/js/429.1a19c84a.chunk.js","mappings":"yVAOA,SAASA,EAAYC,GACnB,IACEC,EAMED,EANFC,oBACAC,EAKEF,EALFE,GACAC,EAIEH,EAJFG,SACAC,EAGEJ,EAHFI,MAAKC,EAGHL,EAFFM,WAAcC,QAAJ,IAAAF,EAAY,CAAC,EAACA,GAAVE,IAAGC,EAEfR,EADFS,WAA4BC,QAAlB,IAAAF,EAAgC,CAAC,EAACA,GAA9B,cAGhB,OACEG,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CACLC,QAAQ,WACRC,KAAK,QACLZ,GAAIA,EACJC,SAAUA,EACVI,IAAKA,EACL,aAAYG,EACZK,QAAS,kBAAyB,OAAnBd,QAAmB,IAAnBA,OAAmB,EAAnBA,GAAsB,SAACe,GAAI,OAAMA,CAAI,GAAC,EAACC,UAErDC,EAAAA,EAAAA,GAAOd,EAAO,eAGrB,CAsDA,MAtCA,SAA0BJ,GACxB,IAAAmB,GAAgDC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAxDI,EAAgBF,EAAA,GAAEpB,EAAmBoB,EAAA,GAO5C,OACEV,EAAAA,EAAAA,KAACa,EAAAA,EAAoB,CAACC,YAAaC,EAAAA,EAAeT,UAChDN,EAAAA,EAAAA,KAACgB,EAAAA,GAAUC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACTC,OAAKD,EAAAA,EAAAA,GAAA,CAAIE,MAAO/B,GAAgBC,EAAM6B,OACtCE,UAAW,CACTD,MAAO,CAAE7B,oBAAAA,GACT+B,OAAQ,CAAEC,UAAW,YAEnBjC,GAAK,IACTkC,KAAMX,EACNY,QAAS,kBAAMlC,GAAoB,EAAM,EACzCmC,kBAhBY,SAACC,GAEjB,OAAe,IADHA,EAAKC,QAEnB,EAcMC,uBAAqB,MAgB7B,E,yDC1EAC,EAAAA,oBAAAA,UAAsC,IAAIC,IACxC,aAEAC,WA8HF,MA5HA,SAAmB1C,GACjB,IAAAmB,GAAgCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvCwB,EAAQtB,EAAA,GAAEuB,EAAWvB,EAAA,GAC5BwB,GAAoCzB,EAAAA,EAAAA,UAAS,GAAE0B,GAAAxB,EAAAA,EAAAA,GAAAuB,EAAA,GAAxCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAChCG,GAA0B7B,EAAAA,EAAAA,UAAS,GAAE8B,GAAA5B,EAAAA,EAAAA,GAAA2B,EAAA,GAA9BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAgBtB,SAASG,EAAWC,GAClBN,GAAc,SAACO,GAAc,OAAKA,EAAiBD,CAAM,GAC3D,EAUAE,EAAAA,EAAAA,YAAU,WACRR,EAAc,EAChB,GAAG,CAAChD,EAAMyD,OAEV,IAAMC,EAAQC,EAAAA,GACVC,SAASC,gBAAgBC,YACzBC,OAAOC,WACLC,EAASN,EAAAA,GACXC,SAASC,gBAAgBK,aACzBH,OAAOI,YAEXC,GAAoChD,EAAAA,EAAAA,UAAS,CAC3CsC,MAAOO,EAASP,GAAS,IAAUA,EAAQ,GAAK,KAChDO,OAAQA,EAASP,EAAQ,IAAUO,EAAS,OAC5CI,GAAA/C,EAAAA,EAAAA,GAAA8C,EAAA,GAHKE,EAAeD,EAAA,GAAEE,EAAQF,EAAA,GAK1BG,EAAa,WACjB,IAAMd,EAAQC,EAAAA,GACVC,SAASC,gBAAgBC,YACzBC,OAAOC,WACLC,EAASN,EAAAA,GACXC,SAASC,gBAAgBK,aACzBH,OAAOI,YAEXI,EAAS,CACPb,MAAOO,EAASP,GAAS,IAAUA,EAAQ,GAAK,KAChDO,OAAQA,EAASP,EAAQ,IAAUO,EAAS,MAEhD,EAUA,OARAT,EAAAA,EAAAA,YAAU,WAGR,OAFAO,OAAOU,iBAAiB,SAAUD,GAE3B,WACLT,OAAOW,oBAAoB,SAAUF,EACvC,CACF,GAAG,CAACF,KAGFK,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAA3D,SAAA,EACEN,EAAAA,EAAAA,KAAA,OAAKkE,MAAO,CAAEC,UAAW,MAAOC,aAAc,OAAQ9D,UACpD0D,EAAAA,EAAAA,MAACK,EAAAA,EAAW,CAAC9E,GAAG,cAAae,SAAA,EAC3BN,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACG,QApEJ,WACVqC,EAASD,EAAQ,GACnB,EAkE8BtC,QAAS,WAAWI,SAAC,OAG3CN,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACG,QAnEF,WACE,IAAVoC,GACFC,EAASD,EAAQ,GAErB,EA+DgCtC,QAAS,WAAYV,SAAUgD,GAAS,EAAElC,SAAC,YAMvEN,EAAAA,EAAAA,KAACsE,EAAAA,EAAQ,CACPxB,KAAMzD,EAAMyD,KACZyB,cArEN,SAA8BC,GAAgB,IAAbxC,EAAQwC,EAARxC,SAC/BC,EAAYD,EACd,EAoEMyC,SAASzE,EAAAA,EAAAA,KAAC0E,EAAAA,EAAgB,IAAIpE,UAE9BN,EAAAA,EAAAA,KAAC2E,EAAAA,EAAI,CACHC,iBAAiB,EACjBC,UAAU,OACVrC,MAAOA,EACPc,OAAQK,EAAgBL,OACxBP,MAAOY,EAAgBZ,MACvBX,WAAYA,OAIhB4B,EAAAA,EAAAA,MAAA,OAAA1D,SAAA,EACE0D,EAAAA,EAAAA,MAAA,KAAGE,MAAO,CAAEY,MAAO,SAAUxE,SAAA,CAAC,QACtB8B,IAAeJ,EAAW,EAAI,MAAM,OAAKA,GAAY,SAE7DgC,EAAAA,EAAAA,MAACK,EAAAA,EAAW,CAAC9E,GAAG,aAAYe,SAAA,EAC1BN,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CACL8E,KAAK,SACL7E,QAAS,WACTV,SAAU4C,GAAc,EACxBhC,QAnFV,WACEsC,GAAY,EACd,EAiFgCpC,SACvB,cAGDN,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CACL8E,KAAK,SACL7E,QAAS,WACTV,SAAU4C,GAAcJ,EACxB5B,QAvFV,WACEsC,EAAW,EACb,EAqF4BpC,SACnB,iBAOX,E,oBC1GM4D,EAAQ,CACZc,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXpC,MAAO,OACPqC,SAAU,SACV9B,OAAQ,OACR+B,QAAS,UACTC,OAAQ,sBACRC,UAAW,GACXC,EAAG,GAsDL,EAnD4B,SAACnG,GAO3B,IAAAmB,GAAwCC,EAAAA,EAAAA,UANxC,WACE,IAAIgF,EAAQ,IAAIC,KAEhB,OADAD,EAAME,QAAQF,EAAMG,YAAe,EAAIH,EAAM9D,SAAW,GAAK,EAAK,GAC3D8D,CACT,CAEiDI,IAAanF,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvDsF,EAAYpF,EAAA,GAAEqF,EAAerF,EAAA,GAE9BsF,GAAWC,EAAAA,EAAAA,QAAO,MAExB/D,GAAwCzB,EAAAA,EAAAA,UAAS,MAAK0B,GAAAxB,EAAAA,EAAAA,GAAAuB,EAAA,GAA/CgE,EAAY/D,EAAA,GAAEgE,EAAehE,EAAA,GAMpC,OACEnC,EAAAA,EAAAA,KAACoG,EAAAA,EAAK,CAAC7E,KAAMlC,EAAMkC,KAAMC,QAASnC,EAAMmC,QAAQlB,UAC9C0D,EAAAA,EAAAA,MAACqC,EAAAA,EAAG,CAACC,GAAIpC,EAAOmB,QAAQ,QAAO/E,SAAA,EAC7BN,EAAAA,EAAAA,KAAA,MAAAM,SAAI,iBAEJN,EAAAA,EAAAA,KAACuG,EAAgB,CACf9G,MAAOqG,EACPU,QAAS,IAAId,KAAK,cAClBe,SAAUV,KAGZ/F,EAAAA,EAAAA,KAAA,MAAAM,SAAI,iBACJN,EAAAA,EAAAA,KAAA,SACE+E,KAAK,OACLnF,IAAKoG,EACLzG,GAAG,WACHmH,KAAK,UACLD,SArBiB,SAAHjC,GAAoB,IAAdmC,EAAMnC,EAANmC,OAC1BR,EAAgBQ,EAAOC,MAAM,GAC/B,EAoBQC,OAAO,qBAGT7C,EAAAA,EAAAA,MAAA,KAAA1D,SAAA,EACEN,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CACLG,QAAS,kBAAMf,EAAMyH,cAAcZ,EAAcJ,EAAa,EAACxF,SAChE,YAGDN,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACG,QAASf,EAAMmC,QAAQlB,SAAC,iBAK1C,E,UC8HA,EArMqB,WACnB,IAAMyG,GAAOC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,UAAUC,KAAK,IAEzD3G,GAAgCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvC4G,EAAQ1G,EAAA,GAAE2G,EAAW3G,EAAA,GAC5BwB,GAA0DzB,EAAAA,EAAAA,WAAS,GAAM0B,GAAAxB,EAAAA,EAAAA,GAAAuB,EAAA,GAAlEoF,EAAqBnF,EAAA,GAAEoF,EAAwBpF,EAAA,GACtDG,GAAwC7B,EAAAA,EAAAA,UAAS,MAAK8B,GAAA5B,EAAAA,EAAAA,GAAA2B,EAAA,GAA/CwD,EAAYvD,EAAA,GAAEwD,EAAexD,EAAA,GACpCkB,GAAoChD,EAAAA,EAAAA,WAAS,GAAMiD,GAAA/C,EAAAA,EAAAA,GAAA8C,EAAA,GAA5C+D,EAAU9D,EAAA,GAAE+D,EAAa/D,EAAA,GAChCgE,GAA8BjH,EAAAA,EAAAA,UAAS,MAAKkH,GAAAhH,EAAAA,EAAAA,GAAA+G,EAAA,GAArCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GACpBnB,EAAU,IAAId,KAAK,cAEnBoC,EAAc,SAACC,EAAOC,GACX,cAAXA,GAIJT,GAAyB,EAC3B,EAEMU,EAAU,eAAAzD,GAAA0D,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAAA,EAAAA,KAAAU,MAAA,SAAAC,GAAA,cAAAA,EAAAzI,KAAAyI,EAAAC,MAAA,cAAAD,EAAAzI,KAAA,EAAAyI,EAAAC,KAAA,EAEMC,EAAAA,EAAAA,IAAU,gCAAgC,KAAD,EAAxDV,EAAMQ,EAAAG,KACZC,QAAQC,IAAIb,EAAOc,MAEbb,EAAa,IAAI7C,KAAK4C,EAAOc,KAAKC,QAAQ,KAAM,MACtDxB,EAAWU,GAELC,EAAS,IAAIc,gBAAgBlG,OAAOmG,SAASC,QAGjC,QAFZf,EAAYD,EAAOiB,IAAI,SAG3B1D,EAAgBwC,IAEVG,GAAQD,EAAUiB,UAAU,EAAG,GAC/Bf,GAASF,EAAUiB,UAAU,EAAG,GAChCd,GAAOH,EAAUiB,UAAU,EAAG,GAEpC3D,EAAgB,IAAIL,KAAKgD,EAAMC,EAAQ,EAAGC,KAC3CE,EAAAC,KAAA,iBAAAD,EAAAzI,KAAA,GAAAyI,EAAAa,GAAAb,EAAA,kCAAAA,EAAAc,OAAA,GAAAvB,EAAA,mBAEJ,kBArBe,OAAA7D,EAAAqF,MAAA,KAAAC,UAAA,KAwBVC,GAAWC,EAAAA,EAAAA,cAAW9B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAC,SAAA6B,IAAA,IAAA3B,EAAA,OAAAH,EAAAA,EAAAA,KAAAU,MAAA,SAAAqB,GAAA,cAAAA,EAAA7J,KAAA6J,EAAAnB,MAAA,cAAAmB,EAAA7J,KAAA,EAAA6J,EAAAnB,KAAA,EAEJC,EAAAA,EAAAA,IAAU,gCAAiC,CAC9DR,OAAQ,CAAE9G,KAAMoE,EAAaqE,mBAAmB,SAC/C,KAAD,EAFI7B,EAAM4B,EAAAjB,KAGZ5B,EAAYiB,EAAOc,MAAMc,EAAAnB,KAAA,eAAAmB,EAAA7J,KAAA,EAAA6J,EAAAP,GAAAO,EAAA,iCAAAA,EAAAN,OAAA,GAAAK,EAAA,kBAE1B,CAACnE,IAEEsE,EAAa,WACjB3C,GAAc,EAChB,EAEM4C,EAAc,eAAAC,GAAApC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAmC,EAAOzH,EAAMpB,GAAI,OAAAyG,EAAAA,EAAAA,KAAAU,MAAA,SAAA2B,GAAA,cAAAA,EAAAnK,KAAAmK,EAAAzB,MAAA,OACtC0B,EAAa3H,GAAM,SAAC4H,EAAKpC,GACvBU,EAAAA,EAAAA,IACO,kCAAmC,CACtClG,KAAMwF,EACN5G,KAAMA,EAAKyI,mBAAmB,QAE/BQ,MAAK,SAACC,GACL1B,QAAQC,IAAIyB,EAAIxB,MAChBvB,EAAW,IAAInC,KAAKkF,EAAIxB,KAAKC,QAAQ,KAAM,OAC3CtD,EAAgBrE,GAChB0I,IACA7C,GAAyB,EAC3B,GACJ,IAAG,wBAAAiD,EAAAZ,OAAA,GAAAW,EAAA,KACJ,gBAfmBM,EAAAC,GAAA,OAAAR,EAAAT,MAAA,KAAAC,UAAA,KAiBdW,EAAe,SAAC3H,EAAMiI,GAC1B,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcpI,GACrBkI,EAAOG,OAAS,WACdJ,EAAG,KAAMC,EAAO1C,OAClB,EACA0C,EAAOI,QAAU,SAAUC,GACzBN,EAAGM,EAAO,KACZ,CACF,EAyCA,SAASC,EAAYC,EAAOC,GAC1B,OACED,EAAME,gBAAkBD,EAAMC,eAC9BF,EAAMG,aAAeF,EAAME,YAC3BH,EAAM3F,YAAc4F,EAAM5F,SAE9B,CAEA,OA3BA/C,EAAAA,EAAAA,YAAU,WACRoF,GACF,GAAG,KAEHpF,EAAAA,EAAAA,YAAU,WACR,GAAoB,MAAhBiD,EAAsB,CACxBiE,IACA,IAAM4B,EACJvI,OAAOmG,SAASqC,SAChB,KACAxI,OAAOmG,SAASsC,KAChBzI,OAAOmG,SAASuC,SAChB,SACAhG,EAAaqE,mBAAmB,MAAMd,QAAQ,KAAM,IAEtDjG,OAAO2I,QAAQC,aAAa,CAAC,EAAG,KAAML,EACxC,CACF,GAAG,CAAC7F,EAAciE,KAWhB/F,EAAAA,EAAAA,MAAA,OAAKa,UAAU,sBAAqBvE,SAAA,EAClCN,EAAAA,EAAAA,KAAA,MAAAM,SAAI,iBAEHwF,GAAgBsB,GACfpD,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAA3D,SAAA,EACEN,EAAAA,EAAAA,KAACiM,EAAAA,EAAU,CACT1M,GAAG,mBACHa,QAvDe,WACvB2F,EACE,IAAIL,KACFI,EAAa2F,cACb3F,EAAa4F,WACb5F,EAAaF,UAAY,GAG/B,EAgDUpG,SAAU8L,EAAYxF,EAAcU,GAASlG,UAE7CN,EAAAA,EAAAA,KAACkM,EAAAA,EAAgB,OAGnBlM,EAAAA,EAAAA,KAACuG,EAAgB,CACf9G,MAAOqG,EACPU,QAASA,EACToB,QAASA,EACTnB,SAAUV,KAGZ/F,EAAAA,EAAAA,KAACiM,EAAAA,EAAU,CACT1M,GAAG,eACHa,QA5DW,WACnB2F,EACE,IAAIL,KACFI,EAAa2F,cACb3F,EAAa4F,WACb5F,EAAaF,UAAY,GAG/B,EAqDUpG,SAAU8L,EAAYxF,EAAc8B,GAAStH,UAE7CN,EAAAA,EAAAA,KAACmM,EAAAA,EAAmB,OAGtBnM,EAAAA,EAAAA,KAACoM,EAAS,CAACtJ,KAAMsE,QAGnBpH,EAAAA,EAAAA,KAAC0E,EAAAA,EAAgB,IAGlBqC,IACC/C,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAA3D,SAAA,EACE0D,EAAAA,EAAAA,MAACqI,EAAAA,EAAG,CACF9M,GAAG,uBACHW,QAAQ,WACRE,QAAS,kBAAMqH,GAAc,EAAK,EAACnH,SAAA,EAEnCN,EAAAA,EAAAA,KAACsM,EAAAA,EAAU,CAAChG,GAAI,CAAEiG,GAAI,KAAO,aAI/BvM,EAAAA,EAAAA,KAACwM,EAAmB,CAClBjL,KAAMiG,EACNV,cAAeuD,EACf7I,QAAS4I,KAGXpK,EAAAA,EAAAA,KAACyM,EAAAA,EAAQ,CACPlL,KAAM+F,EACNoF,iBAAkB,IAClBlL,QAASsG,EAAYxH,UAErBN,EAAAA,EAAAA,KAAC2M,EAAAA,EAAK,CAACC,SAAS,UAAUpL,QAASsG,EAAYxH,SAAC,iCAQ5D,C","sources":["components/WeeklyUpdate/ButtonDatePicker.js","components/WeeklyUpdate/PDFReader.js","components/WeeklyUpdate/BulletinUploadModal.js","pages/WeeklyUpdate/WeeklyUpdate.js"],"sourcesContent":["import PropTypes from \"prop-types\";\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@mui/material\";\r\nimport { DatePicker, LocalizationProvider } from \"@mui/x-date-pickers\";\r\nimport { AdapterDateFns } from \"@mui/x-date-pickers/AdapterDateFns\";\r\nimport { format } from \"date-fns\";\r\n\r\nfunction ButtonField(props) {\r\n  const {\r\n    setIsDatePickerOpen,\r\n    id,\r\n    disabled,\r\n    value,\r\n    InputProps: { ref } = {},\r\n    inputProps: { \"aria-label\": ariaLabel } = {},\r\n  } = props;\r\n\r\n  return (\r\n    <Button\r\n      variant=\"outlined\"\r\n      size=\"large\"\r\n      id={id}\r\n      disabled={disabled}\r\n      ref={ref}\r\n      aria-label={ariaLabel}\r\n      onClick={() => setIsDatePickerOpen?.((prev) => !prev)}\r\n    >\r\n      {format(value, \"MM/dd/yyyy\")}\r\n    </Button>\r\n  );\r\n}\r\n\r\nButtonField.propTypes = {\r\n  disabled: PropTypes.bool,\r\n  id: PropTypes.string,\r\n  inputProps: PropTypes.shape({\r\n    \"aria-label\": PropTypes.string,\r\n  }),\r\n  InputProps: PropTypes.shape({\r\n    endAdornment: PropTypes.node,\r\n    startAdornment: PropTypes.node,\r\n  }),\r\n  setIsDatePickerOpen: PropTypes.func,\r\n  label: PropTypes.node,\r\n};\r\n\r\nfunction ButtonDatePicker(props) {\r\n  const [isDatePickerOpen, setIsDatePickerOpen] = useState(false);\r\n\r\n  const notSunday = (date) => {\r\n    const day = date.getDay();\r\n    return day !== 0;\r\n  };\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n      <DatePicker\r\n        slots={{ field: ButtonField, ...props.slots }}\r\n        slotProps={{\r\n          field: { setIsDatePickerOpen },\r\n          popper: { placement: \"bottom\" },\r\n        }}\r\n        {...props}\r\n        open={isDatePickerOpen}\r\n        onClose={() => setIsDatePickerOpen(false)}\r\n        shouldDisableDate={notSunday}\r\n        disableHighlightToday\r\n        // renderInput={(props) => (\r\n        //   <Button\r\n        //     ref={props.inputRef}\r\n        //     variant=\"outlined\"\r\n        //     size=\"large\"\r\n        //     onClick={() =>\r\n        //       setIsDatePickerOpen((isDatePickerOpen) => !isDatePickerOpen)\r\n        //     }\r\n        //   >\r\n        //     {props.inputProps.value}\r\n        //   </Button>\r\n        // )}\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n}\r\n\r\nexport default ButtonDatePicker;\r\n","import { Button, ButtonGroup, CircularProgress } from \"@mui/material\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { pdfjs, Page, Document } from \"react-pdf\";\r\n\r\nimport \"react-pdf/dist/esm/Page/AnnotationLayer.css\";\r\nimport \"./PDFReader.css\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = new URL(\r\n  \"pdfjs-dist/build/pdf.worker.min.js\",\r\n  import.meta.url\r\n).toString();\r\n\r\nfunction PDFReader(props) {\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [scale, setScale] = useState(1);\r\n\r\n  const add = () => {\r\n    setScale(scale + 0.2);\r\n  };\r\n\r\n  const minus = () => {\r\n    if (scale !== 1) {\r\n      setScale(scale - 0.2);\r\n    }\r\n  };\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    setNumPages(numPages);\r\n  }\r\n\r\n  function changePage(offset) {\r\n    setPageNumber((prevPageNumber) => prevPageNumber + offset);\r\n  }\r\n\r\n  function previousPage() {\r\n    changePage(-1);\r\n  }\r\n\r\n  function nextPage() {\r\n    changePage(1);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setPageNumber(1);\r\n  }, [props.file]);\r\n\r\n  const width = isMobile\r\n    ? document.documentElement.clientWidth\r\n    : window.innerWidth;\r\n  const height = isMobile\r\n    ? document.documentElement.clientHeight\r\n    : window.innerHeight;\r\n\r\n  const [windowDimension, detectHW] = useState({\r\n    width: height / width >= 16 / 10 ? width - 30 : null,\r\n    height: height / width < 16 / 10 ? height : null,\r\n  });\r\n\r\n  const detectSize = () => {\r\n    const width = isMobile\r\n      ? document.documentElement.clientWidth\r\n      : window.innerWidth;\r\n    const height = isMobile\r\n      ? document.documentElement.clientHeight\r\n      : window.innerHeight;\r\n\r\n    detectHW({\r\n      width: height / width >= 16 / 10 ? width - 30 : null,\r\n      height: height / width < 16 / 10 ? height : null,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", detectSize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", detectSize);\r\n    };\r\n  }, [windowDimension]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: \"1em\", marginBottom: \"1em\" }}>\r\n        <ButtonGroup id=\"scaleButton\">\r\n          <Button onClick={add} variant={\"outlined\"}>\r\n            +\r\n          </Button>\r\n          <Button onClick={minus} variant={\"outlined\"} disabled={scale <= 1}>\r\n            -\r\n          </Button>\r\n        </ButtonGroup>\r\n      </div>\r\n\r\n      <Document\r\n        file={props.file}\r\n        onLoadSuccess={onDocumentLoadSuccess}\r\n        loading={<CircularProgress />}\r\n      >\r\n        <Page\r\n          renderTextLayer={false}\r\n          className=\"page\"\r\n          scale={scale}\r\n          height={windowDimension.height}\r\n          width={windowDimension.width}\r\n          pageNumber={pageNumber}\r\n        />\r\n      </Document>\r\n\r\n      <div>\r\n        <p style={{ color: \"black\" }}>\r\n          Page {pageNumber || (numPages ? 1 : \"--\")} of {numPages || \"--\"}\r\n        </p>\r\n        <ButtonGroup id=\"pageButton\">\r\n          <Button\r\n            type=\"button\"\r\n            variant={\"outlined\"}\r\n            disabled={pageNumber <= 1}\r\n            onClick={previousPage}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            type=\"button\"\r\n            variant={\"outlined\"}\r\n            disabled={pageNumber >= numPages}\r\n            onClick={nextPage}\r\n          >\r\n            Next\r\n          </Button>\r\n        </ButtonGroup>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PDFReader;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Box, Button, Modal } from \"@mui/material\";\r\nimport ButtonDatePicker from \"./ButtonDatePicker\";\r\n\r\nconst modalStyle = {\r\n  overlay: {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: \"rgba(255, 255, 255, 0.45)\",\r\n    zIndex: 10,\r\n  },\r\n  content: {\r\n    justifyContent: \"center\",\r\n    background: \"#ffffff\",\r\n    overflow: \"auto\",\r\n    top: \"30vh\",\r\n    left: \"35vw\",\r\n    right: \"35vw\",\r\n    bottom: \"30vh\",\r\n    WebkitOverflowScrolling: \"touch\",\r\n    borderRadius: \"14px\",\r\n    outline: \"none\",\r\n    zIndex: 10,\r\n  },\r\n};\r\n\r\nconst style = {\r\n  position: \"absolute\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  width: \"50vw\",\r\n  maxWidth: \"1500px\",\r\n  height: \"50vh\",\r\n  bgcolor: \"#ffffff\",\r\n  border: \"0.1px solid #f57c00\",\r\n  boxShadow: 24,\r\n  p: 2,\r\n};\r\n\r\nconst BulletinUploadModal = (props) => {\r\n  function nextSunday() {\r\n    var today = new Date();\r\n    today.setDate(today.getDate() + ((-1 - today.getDay() + 7) % 7) + 1);\r\n    return today;\r\n  }\r\n\r\n  const [selectedDate, setSelectedDate] = useState(nextSunday());\r\n\r\n  const inputRef = useRef(null);\r\n\r\n  const [fileToUpload, setFileToUpload] = useState(null);\r\n\r\n  const handleChangeFile = ({ target }) => {\r\n    setFileToUpload(target.files[0]);\r\n  };\r\n\r\n  return (\r\n    <Modal open={props.open} onClose={props.onClose}>\r\n      <Box sx={style} bgcolor=\"white\">\r\n        <h2>Choose Date</h2>\r\n\r\n        <ButtonDatePicker\r\n          value={selectedDate}\r\n          minDate={new Date(\"2022/04/03\")}\r\n          onChange={setSelectedDate}\r\n        />\r\n\r\n        <h2>Choose File</h2>\r\n        <input\r\n          type=\"file\"\r\n          ref={inputRef}\r\n          id=\"bulletin\"\r\n          name=\"theFile\"\r\n          onChange={handleChangeFile}\r\n          accept=\"application/pdf\"\r\n        />\r\n\r\n        <p>\r\n          <Button\r\n            onClick={() => props.onModalUpload(fileToUpload, selectedDate)}\r\n          >\r\n            Upload\r\n          </Button>\r\n          <Button onClick={props.onClose}>Close</Button>\r\n        </p>\r\n      </Box>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default BulletinUploadModal;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  Alert,\r\n  CircularProgress,\r\n  Fab,\r\n  IconButton,\r\n  Snackbar,\r\n} from \"@mui/material\";\r\nimport ArrowBackIosIcon from \"@mui/icons-material/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@mui/icons-material/ArrowForwardIos\";\r\nimport UploadIcon from \"@mui/icons-material/Upload\";\r\n\r\nimport ButtonDatePicker from \"../../components/WeeklyUpdate/ButtonDatePicker\";\r\nimport PDFReader from \"../../components/WeeklyUpdate/PDFReader\";\r\nimport BulletinUploadModal from \"../../components/WeeklyUpdate/BulletinUploadModal\";\r\n\r\nimport \"./WeeklyUpdate.css\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst WeeklyUpdate = () => {\r\n  const user = useSelector((state) => state.authToken.admin);\r\n\r\n  const [bulletin, setBulletin] = useState(null);\r\n  const [isSuccessSnackBarOpen, setIsSuccessSnackBarOpen] = useState(false);\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n  const [modalState, setModalState] = useState(false);\r\n  const [maxDate, setMaxDate] = useState(null);\r\n  const minDate = new Date(\"2022/04/03\");\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setIsSuccessSnackBarOpen(false);\r\n  };\r\n\r\n  const getMaxDate = async () => {\r\n    try {\r\n      const result = await axios.get(\"/api/WeeklyUpdate/RecentDate\");\r\n      console.log(result.data);\r\n\r\n      const recentDate = new Date(result.data.replace(/-/g, \"/\"));\r\n      setMaxDate(recentDate);\r\n\r\n      const params = new URLSearchParams(window.location.search);\r\n      const queryDate = params.get(\"date\");\r\n\r\n      if (queryDate === null) {\r\n        setSelectedDate(recentDate);\r\n      } else {\r\n        const year = +queryDate.substring(0, 4);\r\n        const month = +queryDate.substring(4, 6);\r\n        const day = +queryDate.substring(6, 8);\r\n\r\n        setSelectedDate(new Date(year, month - 1, day));\r\n      }\r\n    } catch (err) {}\r\n  };\r\n\r\n  // Get Bulletin from Firestore\r\n  const loadFile = useCallback(async () => {\r\n    try {\r\n      const result = await axios.get(\"/api/WeeklyUpdate/GetBulletin\", {\r\n        params: { date: selectedDate.toLocaleDateString(\"sv\") },\r\n      });\r\n      setBulletin(result.data);\r\n    } catch (err) {}\r\n  }, [selectedDate]);\r\n\r\n  const closeModal = () => {\r\n    setModalState(false);\r\n  };\r\n\r\n  const uploadBulletin = async (file, date) => {\r\n    fileToBase64(file, (err, result) => {\r\n      axios\r\n        .put(\"/api/WeeklyUpdate/PostBulletin/\", {\r\n          file: result,\r\n          date: date.toLocaleDateString(\"sv\"),\r\n        })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          setMaxDate(new Date(res.data.replace(/-/g, \"/\")));\r\n          setSelectedDate(date);\r\n          closeModal();\r\n          setIsSuccessSnackBarOpen(true);\r\n        });\r\n    });\r\n  };\r\n\r\n  const fileToBase64 = (file, cb) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = function () {\r\n      cb(null, reader.result);\r\n    };\r\n    reader.onerror = function (error) {\r\n      cb(error, null);\r\n    };\r\n  };\r\n\r\n  const previousBulletin = () => {\r\n    setSelectedDate(\r\n      new Date(\r\n        selectedDate.getFullYear(),\r\n        selectedDate.getMonth(),\r\n        selectedDate.getDate() - 7\r\n      )\r\n    );\r\n  };\r\n\r\n  const nextBulletin = () => {\r\n    setSelectedDate(\r\n      new Date(\r\n        selectedDate.getFullYear(),\r\n        selectedDate.getMonth(),\r\n        selectedDate.getDate() + 7\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMaxDate();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedDate != null) {\r\n      loadFile();\r\n      const newUrl =\r\n        window.location.protocol +\r\n        \"//\" +\r\n        window.location.host +\r\n        window.location.pathname +\r\n        \"?date=\" +\r\n        selectedDate.toLocaleDateString(\"sv\").replace(/-/g, \"\");\r\n\r\n      window.history.replaceState({}, null, newUrl);\r\n    }\r\n  }, [selectedDate, loadFile]);\r\n\r\n  function compareDate(date1, date2) {\r\n    return (\r\n      date1.getFullYear() === date2.getFullYear() &&\r\n      date1.getMonth() === date2.getMonth() &&\r\n      date1.getDate() === date2.getDate()\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"weeklyBulletinBoard\">\r\n      <h1>주보</h1>\r\n\r\n      {selectedDate && bulletin ? (\r\n        <>\r\n          <IconButton\r\n            id=\"previousBulletin\"\r\n            onClick={previousBulletin}\r\n            disabled={compareDate(selectedDate, minDate)}\r\n          >\r\n            <ArrowBackIosIcon />\r\n          </IconButton>\r\n\r\n          <ButtonDatePicker\r\n            value={selectedDate}\r\n            minDate={minDate}\r\n            maxDate={maxDate}\r\n            onChange={setSelectedDate}\r\n          />\r\n\r\n          <IconButton\r\n            id=\"nextBulletin\"\r\n            onClick={nextBulletin}\r\n            disabled={compareDate(selectedDate, maxDate)}\r\n          >\r\n            <ArrowForwardIosIcon />\r\n          </IconButton>\r\n\r\n          <PDFReader file={bulletin} />\r\n        </>\r\n      ) : (\r\n        <CircularProgress />\r\n      )}\r\n\r\n      {user && (\r\n        <>\r\n          <Fab\r\n            id=\"uploadBulletinButton\"\r\n            variant=\"extended\"\r\n            onClick={() => setModalState(true)}\r\n          >\r\n            <UploadIcon sx={{ mr: 1 }} />\r\n            Upload\r\n          </Fab>\r\n\r\n          <BulletinUploadModal\r\n            open={modalState}\r\n            onModalUpload={uploadBulletin}\r\n            onClose={closeModal}\r\n          />\r\n\r\n          <Snackbar\r\n            open={isSuccessSnackBarOpen}\r\n            autoHideDuration={8000}\r\n            onClose={handleClose}\r\n          >\r\n            <Alert severity=\"success\" onClose={handleClose}>\r\n              Uploaded Succesfully!\r\n            </Alert>\r\n          </Snackbar>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeeklyUpdate;\r\n"],"names":["ButtonField","props","setIsDatePickerOpen","id","disabled","value","_props$InputProps","InputProps","ref","_props$inputProps","inputProps","ariaLabel","_jsx","Button","variant","size","onClick","prev","children","format","_useState","useState","_useState2","_slicedToArray","isDatePickerOpen","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","_objectSpread","slots","field","slotProps","popper","placement","open","onClose","shouldDisableDate","date","getDay","disableHighlightToday","pdfjs","URL","toString","numPages","setNumPages","_useState3","_useState4","pageNumber","setPageNumber","_useState5","_useState6","scale","setScale","changePage","offset","prevPageNumber","useEffect","file","width","isMobile","document","documentElement","clientWidth","window","innerWidth","height","clientHeight","innerHeight","_useState7","_useState8","windowDimension","detectHW","detectSize","addEventListener","removeEventListener","_jsxs","_Fragment","style","marginTop","marginBottom","ButtonGroup","Document","onLoadSuccess","_ref","loading","CircularProgress","Page","renderTextLayer","className","color","type","position","top","left","transform","maxWidth","bgcolor","border","boxShadow","p","today","Date","setDate","getDate","nextSunday","selectedDate","setSelectedDate","inputRef","useRef","fileToUpload","setFileToUpload","Modal","Box","sx","ButtonDatePicker","minDate","onChange","name","target","files","accept","onModalUpload","user","useSelector","state","authToken","admin","bulletin","setBulletin","isSuccessSnackBarOpen","setIsSuccessSnackBarOpen","modalState","setModalState","_useState9","_useState10","maxDate","setMaxDate","handleClose","event","reason","getMaxDate","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","recentDate","params","queryDate","year","month","day","wrap","_context","next","axios","sent","console","log","data","replace","URLSearchParams","location","search","get","substring","t0","stop","apply","arguments","loadFile","useCallback","_callee2","_context2","toLocaleDateString","closeModal","uploadBulletin","_ref3","_callee3","_context3","fileToBase64","err","then","res","_x","_x2","cb","reader","FileReader","readAsDataURL","onload","onerror","error","compareDate","date1","date2","getFullYear","getMonth","newUrl","protocol","host","pathname","history","replaceState","IconButton","ArrowBackIosIcon","ArrowForwardIosIcon","PDFReader","Fab","UploadIcon","mr","BulletinUploadModal","Snackbar","autoHideDuration","Alert","severity"],"sourceRoot":""}