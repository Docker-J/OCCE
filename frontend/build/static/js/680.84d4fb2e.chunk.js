(self.webpackChunkblog=self.webpackChunkblog||[]).push([[680],{2612:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var i=n(624);const l=e=>(0,i.w1)((e=>e.authToken.admin))&&e.children},1928:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var i=n(9060),l=n(8372),s=n(6880),a=n(5548),d=n(1088),r=n(2904),c=n(3996),o=n(3916),h=n(2128),u=n(4360),p=n(2160),x=n(92),m=n(8504),g=n(5462),j=n(256),f=n(5408),y=n(2496);const w=e=>{const{setIsDatePickerOpen:t,id:n,disabled:i,value:l,InputProps:{ref:s}={},inputProps:{"aria-label":a}={}}=e;return(0,y.jsx)(p.c,{variant:"outlined",size:"large",id:n,disabled:i,ref:s,"aria-label":a,onClick:()=>null===t||void 0===t?void 0:t((e=>!e)),children:(0,j.E9)(l,"yyyy/MM/dd")})},v=e=>{const[t,n]=(0,i.useState)(!1);return(0,y.jsx)(x.c,{dateAdapter:g.G,children:(0,y.jsx)(m.I,{slots:{field:w},slotProps:{field:{setIsDatePickerOpen:n},popper:{placement:"bottom"}},...e,open:t,onClose:()=>n(!1),shouldDisableDate:e=>!(0,f._)(e),disableHighlightToday:!0})})};var b=n(8052),k=n(4496),C=n(5476),D=n(4436);n(280);k.default.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(k.default.version,"/pdf.worker.min.js");const S=function(e){let{file:t,documentDimension:n}=e;const[l,s]=(0,i.useState)(null),[a,r]=(0,i.useState)(1),[c,o]=(0,i.useState)(1);function h(e){r((t=>t+e))}return(0,i.useEffect)((()=>{r(1)}),[t]),t?(0,y.jsxs)("div",{children:[(0,y.jsxs)(b.c,{id:"scaleButton",sx:{my:"1em"},children:[(0,y.jsx)(p.c,{onClick:()=>{o((e=>e+.2))},variant:"outlined",children:"+"}),(0,y.jsx)(p.c,{onClick:()=>{1!==c&&o((e=>e-.2))},variant:"outlined",disabled:c<=1,children:"-"})]}),(0,y.jsx)(C.c,{file:t,onLoadSuccess:function(e){let{numPages:t}=e;s(t)},loading:(0,y.jsx)("div",{style:{height:n.height,width:n.width},children:(0,y.jsx)(d.c,{})}),children:(0,y.jsx)(D.c,{renderTextLayer:!1,className:"page",scale:c,height:n.height,width:n.width,pageNumber:a,loading:(0,y.jsx)("div",{style:{height:n.height,width:n.width},children:(0,y.jsx)(d.c,{})})})}),(0,y.jsxs)("p",{style:{color:"black"},children:["Page ",a||(l?1:"--")," of ",l||"--"]}),(0,y.jsxs)(b.c,{id:"pageButton",children:[(0,y.jsx)(p.c,{variant:"outlined",disabled:a<=1,onClick:function(){h(-1)},children:"Previous"}),(0,y.jsx)(p.c,{variant:"outlined",disabled:a>=l,onClick:function(){h(1)},children:"Next"})]})]}):(0,y.jsx)("p",{children:"\ud574\ub2f9 \ub0a0\uc9dc\uc758 \uc8fc\ubcf4\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."})};var E=n(1560),P=n(2612),W=n(6988),M=n(8284),N=n(7584),B=n(8228),I=n(6376),O=n(536),U=n(7528),A=(n(3243),n(2532)),H=n(2456),L=n(7256),T=n(771),F=n(3556),R=n(1048),z=n(7856);const G={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",height:"90vh",maxWidth:"1300px",bgcolor:"#ffffff",boxShadow:24,borderRadius:"0.5em",p:1,py:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},_=e=>{let{isOpen:t,onClose:n,setParentDate:a}=e;const{openSnackbar:r}=(0,z.c)(),[c,o]=(0,i.useState)((0,R.W)((0,B.A)(new Date),{days:1})),[h,u]=(0,i.useState)(null),x=(0,i.useRef)(null),[m,g]=(0,i.useState)(0);(0,i.useEffect)((()=>{x.current&&g(x.current.clientHeight)}),[h]);const f=()=>{u(null),n()},{getRootProps:w,getInputProps:b}=(0,T.IX)({accept:{"application/pdf":[]},onDrop:e=>{u(e[0])},multiple:!1}),[k,S]=(0,i.useState)(!1);return(0,y.jsx)(H.c,{open:t,onClose:n,children:(0,y.jsx)(L.c,{sx:G,bgcolor:"white",children:k?(0,y.jsx)(d.c,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h2",{children:"Choose Date"}),(0,y.jsx)(v,{value:c,minDate:new Date("2022/04/03"),onChange:o}),(0,y.jsxs)("div",{ref:x,style:{height:"60%"},children:[(0,y.jsx)("p",{children:h?h.name:null}),(0,y.jsx)(C.c,{file:h,children:(0,y.jsx)(D.c,{renderTextLayer:!1,className:"page",height:m-80,pageNumber:1})})]}),(0,y.jsxs)("div",{style:{width:"95%",height:"15%",border:"1pt dotted #f57c00",borderRadius:"1em",overflowY:"auto",marginBottom:"1em"},...w(),children:[(0,y.jsx)("input",{...b()}),(0,y.jsx)(L.c,{sx:{position:"relative",height:"100%",widht:"100%"},children:(0,y.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[(0,y.jsx)(F.c,{fontSize:"large",color:"primary"}),(0,y.jsx)(s.c,{children:"Click or Drag File to here"})]})})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(p.c,{variant:"outlined",onClick:async()=>{try{S(!0);const e=new FormData,t=(0,j.E9)(c,"yyyyMMdd");e.append("images",h),e.append("date",t),await l.c.put("/api/WeeklyUpdate/PostBulletin/",e,{headers:{"Content-Type":"multipart/form-data"}}),r("success","Uploaded Succesfully!"),a(c),f()}catch(e){console.log(e),r("error","Error Occured. Please contact to the administrator.")}finally{S(!1)}},disabled:!h,children:"Upload"}),(0,y.jsx)(p.c,{variant:"outlined",onClick:f,children:"Close"})]})]})})})},Y={backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.30), rgba(0, 0, 0, 0.30)), url("/img/News/WeeklyUpdate/WeeklyUpdate.webp")'},q=()=>{const{openModal:e}=(0,A.c)(),t=(0,E.i6)(),{maxDate:n,queryDate:p}=(0,E.GY)(),x=new Date("2022/04/03"),[m,g]=(0,i.useState)({data:null}),[w,b]=(0,i.useState)(p),[k,C]=(0,i.useState)(!0),D=(0,i.useCallback)((async()=>{C(!0);try{const e=await l.c.get("/api/WeeklyUpdate/GetBulletin",{params:{date:(0,j.E9)(w,"yyyyMMdd")},responseType:"arraybuffer"}),t=new Uint8Array(e.data);g({data:t})}catch(e){console.log(e),g(null)}finally{C(!1)}}),[w]);(0,i.useEffect)((()=>{D(),t("/weeklyupdate/"+(0,j.E9)(w,"yyyyMMdd"))}),[w,D,t]);const H=u.y8?document.documentElement.clientWidth:window.innerWidth,L=u.y8?document.documentElement.clientHeight:window.innerHeight,[T,F]=(0,i.useState)({width:L/H>=1.6?H-30:null,height:L/H<1.6?L:null}),R=()=>{const e=u.y8?document.documentElement.clientWidth:window.innerWidth,t=u.y8?document.documentElement.clientHeight:window.innerHeight;F({width:t/e>=1.6?e-30:null,height:t/e<1.6?t:null})};return(0,i.useEffect)((()=>(window.addEventListener("resize",R),()=>{window.removeEventListener("resize",R)})),[T]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"title-wrapper",style:Y,children:(0,y.jsx)("div",{className:"title",children:(0,y.jsx)(s.c,{variant:"h4",fontWeight:830,sx:{letterSpacing:"0.4em",pl:"0.4em",color:"white"},children:"\uc8fc\ubcf4"})})}),(0,y.jsx)("div",{className:"container-wrapper",children:(0,y.jsxs)("div",{className:"container",style:{textAlign:"center",paddingLeft:0,paddingRight:0},children:[(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(a.c,{id:"previousBulletin",onClick:()=>{b((e=>(0,f._)(e)?(0,W.e)(e,7):(0,M.M)(e,{weekStartsOn:0})))},disabled:(0,I.W)(w,x)||(0,O.O)(w,x)||k,children:(0,y.jsx)(c.c,{})}),(0,y.jsx)(v,{value:w,minDate:x,maxDate:n,onChange:b}),(0,y.jsx)(a.c,{id:"nextBulletin",onClick:()=>{b((e=>(0,f._)(e)?(0,N.A)(e,7):(0,B.A)(e,{weekStartsOn:1})))},disabled:(0,I.W)(w,n)||(0,U.K)(w,n)||k,children:(0,y.jsx)(o.c,{})})]}),k?(0,y.jsx)("div",{style:{height:"100vh"},children:(0,y.jsx)(d.c,{sx:{mt:2}})}):(0,y.jsx)(S,{file:m,documentDimension:T})]})}),(0,y.jsx)(P.c,{children:(0,y.jsxs)(r.c,{id:"uploadBulletinButton",variant:"extended",onClick:()=>e(_,{setParentDate:b}),children:[(0,y.jsx)(h.c,{sx:{mr:1}}),"Upload"]})})]})}},3243:()=>{},2892:()=>{},5344:()=>{},440:()=>{},2224:()=>{},5724:()=>{},8160:()=>{}}]);
//# sourceMappingURL=680.84d4fb2e.chunk.js.map