{"version":3,"file":"static/js/429.eae04f6c.chunk.js","mappings":"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","sources":["components/WeeklyUpdate/ButtonDatePicker.js","components/WeeklyUpdate/PDFReader.js","components/WeeklyUpdate/BulletinUploadModal.js","pages/WeeklyUpdate/WeeklyUpdate.js"],"sourcesContent":["import PropTypes from \"prop-types\";\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@mui/material\";\r\nimport { DatePicker, LocalizationProvider } from \"@mui/x-date-pickers\";\r\nimport { AdapterDateFns } from \"@mui/x-date-pickers/AdapterDateFns\";\r\nimport { format } from \"date-fns\";\r\n\r\nfunction ButtonField(props) {\r\n  const {\r\n    setIsDatePickerOpen,\r\n    id,\r\n    disabled,\r\n    value,\r\n    InputProps: { ref } = {},\r\n    inputProps: { \"aria-label\": ariaLabel } = {},\r\n  } = props;\r\n\r\n  return (\r\n    <Button\r\n      variant=\"outlined\"\r\n      size=\"large\"\r\n      id={id}\r\n      disabled={disabled}\r\n      ref={ref}\r\n      aria-label={ariaLabel}\r\n      onClick={() => setIsDatePickerOpen?.((prev) => !prev)}\r\n    >\r\n      {format(value, \"MM/dd/yyyy\")}\r\n    </Button>\r\n  );\r\n}\r\n\r\nButtonField.propTypes = {\r\n  disabled: PropTypes.bool,\r\n  id: PropTypes.string,\r\n  inputProps: PropTypes.shape({\r\n    \"aria-label\": PropTypes.string,\r\n  }),\r\n  InputProps: PropTypes.shape({\r\n    endAdornment: PropTypes.node,\r\n    startAdornment: PropTypes.node,\r\n  }),\r\n  setIsDatePickerOpen: PropTypes.func,\r\n  label: PropTypes.node,\r\n};\r\n\r\nfunction ButtonDatePicker(props) {\r\n  const [isDatePickerOpen, setIsDatePickerOpen] = useState(false);\r\n\r\n  const notSunday = (date) => {\r\n    const day = date.getDay();\r\n    return day !== 0;\r\n  };\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n      <DatePicker\r\n        slots={{ field: ButtonField, ...props.slots }}\r\n        slotProps={{\r\n          field: { setIsDatePickerOpen },\r\n          popper: { placement: \"bottom\" },\r\n        }}\r\n        {...props}\r\n        open={isDatePickerOpen}\r\n        onClose={() => setIsDatePickerOpen(false)}\r\n        shouldDisableDate={notSunday}\r\n        disableHighlightToday\r\n        // renderInput={(props) => (\r\n        //   <Button\r\n        //     ref={props.inputRef}\r\n        //     variant=\"outlined\"\r\n        //     size=\"large\"\r\n        //     onClick={() =>\r\n        //       setIsDatePickerOpen((isDatePickerOpen) => !isDatePickerOpen)\r\n        //     }\r\n        //   >\r\n        //     {props.inputProps.value}\r\n        //   </Button>\r\n        // )}\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n}\r\n\r\nexport default ButtonDatePicker;\r\n","import { Button, ButtonGroup, CircularProgress } from \"@mui/material\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { pdfjs, Page, Document } from \"react-pdf\";\r\n\r\nimport \"react-pdf/dist/esm/Page/AnnotationLayer.css\";\r\nimport \"./PDFReader.css\";\r\n\r\n// pdfjs.GlobalWorkerOptions.workerSrc = new URL(\r\n//   \"npm:pdfjs-dist/build/pdf.worker.min.js\",\r\n//   import.meta.url\r\n// ).toString();\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nfunction PDFReader(props) {\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [scale, setScale] = useState(1);\r\n\r\n  const add = () => {\r\n    setScale((prev) => {\r\n      return prev + 0.2;\r\n    });\r\n  };\r\n\r\n  const minus = () => {\r\n    if (scale !== 1) {\r\n      setScale((prev) => {\r\n        return prev - 0.2;\r\n      });\r\n    }\r\n  };\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    setNumPages(numPages);\r\n  }\r\n\r\n  function changePage(offset) {\r\n    setPageNumber((prevPageNumber) => prevPageNumber + offset);\r\n  }\r\n\r\n  function previousPage() {\r\n    changePage(-1);\r\n  }\r\n\r\n  function nextPage() {\r\n    changePage(1);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setPageNumber(1);\r\n  }, [props.file]);\r\n\r\n  const width = isMobile\r\n    ? document.documentElement.clientWidth\r\n    : window.innerWidth;\r\n  const height = isMobile\r\n    ? document.documentElement.clientHeight\r\n    : window.innerHeight;\r\n\r\n  const [windowDimension, detectHW] = useState({\r\n    width: height / width >= 16 / 10 ? width - 30 : null,\r\n    height: height / width < 16 / 10 ? height : null,\r\n  });\r\n\r\n  const detectSize = () => {\r\n    const width = isMobile\r\n      ? document.documentElement.clientWidth\r\n      : window.innerWidth;\r\n    const height = isMobile\r\n      ? document.documentElement.clientHeight\r\n      : window.innerHeight;\r\n\r\n    detectHW({\r\n      width: height / width >= 16 / 10 ? width - 30 : null,\r\n      height: height / width < 16 / 10 ? height : null,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", detectSize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", detectSize);\r\n    };\r\n  }, [windowDimension]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: \"1em\", marginBottom: \"1em\" }}>\r\n        <ButtonGroup id=\"scaleButton\">\r\n          <Button onClick={add} variant={\"outlined\"}>\r\n            +\r\n          </Button>\r\n          <Button onClick={minus} variant={\"outlined\"} disabled={scale <= 1}>\r\n            -\r\n          </Button>\r\n        </ButtonGroup>\r\n      </div>\r\n\r\n      <Document\r\n        file={props.file}\r\n        onLoadSuccess={onDocumentLoadSuccess}\r\n        loading={<CircularProgress />}\r\n      >\r\n        <Page\r\n          renderTextLayer={false}\r\n          className=\"page\"\r\n          scale={scale}\r\n          height={windowDimension.height}\r\n          width={windowDimension.width}\r\n          pageNumber={pageNumber}\r\n        />\r\n      </Document>\r\n\r\n      <p style={{ color: \"black\" }}>\r\n        Page {pageNumber || (numPages ? 1 : \"--\")} of {numPages || \"--\"}\r\n      </p>\r\n      <ButtonGroup id=\"pageButton\">\r\n        <Button\r\n          type=\"button\"\r\n          variant={\"outlined\"}\r\n          disabled={pageNumber <= 1}\r\n          onClick={previousPage}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button\r\n          type=\"button\"\r\n          variant={\"outlined\"}\r\n          disabled={pageNumber >= numPages}\r\n          onClick={nextPage}\r\n        >\r\n          Next\r\n        </Button>\r\n      </ButtonGroup>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PDFReader;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Box, Button, Modal } from \"@mui/material\";\r\nimport ButtonDatePicker from \"./ButtonDatePicker\";\r\n\r\nconst style = {\r\n  position: \"absolute\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  width: \"50vw\",\r\n  maxWidth: \"1500px\",\r\n  height: \"50vh\",\r\n  bgcolor: \"#ffffff\",\r\n  border: \"0.1px solid #f57c00\",\r\n  boxShadow: 24,\r\n  p: 2,\r\n};\r\n\r\nconst BulletinUploadModal = (props) => {\r\n  const [selectedDate, setSelectedDate] = useState();\r\n  const [fileToUpload, setFileToUpload] = useState(null);\r\n\r\n  const nextSunday = () => {\r\n    const today = new Date();\r\n    today.setDate(today.getDate() + ((-1 - today.getDay() + 7) % 7) + 1);\r\n    setSelectedDate(today);\r\n  };\r\n\r\n  const inputRef = useRef(null);\r\n\r\n  const handleChangeFile = ({ target }) => {\r\n    setFileToUpload(target.files[0]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    nextSunday();\r\n  }, []);\r\n\r\n  return (\r\n    <Modal open={props.open} onClose={props.onClose}>\r\n      <Box sx={style} bgcolor=\"white\">\r\n        <h2>Choose Date</h2>\r\n\r\n        <ButtonDatePicker\r\n          value={selectedDate}\r\n          minDate={new Date(\"2022/04/03\")}\r\n          onChange={setSelectedDate}\r\n        />\r\n\r\n        <h2>Choose File</h2>\r\n        <input\r\n          type=\"file\"\r\n          ref={inputRef}\r\n          id=\"bulletin\"\r\n          name=\"theFile\"\r\n          onChange={handleChangeFile}\r\n          accept=\"application/pdf\"\r\n        />\r\n\r\n        <p>\r\n          <Button\r\n            onClick={() => props.onModalUpload(fileToUpload, selectedDate)}\r\n          >\r\n            Upload\r\n          </Button>\r\n          <Button onClick={props.onClose}>Close</Button>\r\n        </p>\r\n      </Box>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default BulletinUploadModal;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  Alert,\r\n  CircularProgress,\r\n  Fab,\r\n  IconButton,\r\n  Snackbar,\r\n} from \"@mui/material\";\r\nimport ArrowBackIosIcon from \"@mui/icons-material/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@mui/icons-material/ArrowForwardIos\";\r\nimport UploadIcon from \"@mui/icons-material/Upload\";\r\n\r\nimport ButtonDatePicker from \"../../components/WeeklyUpdate/ButtonDatePicker\";\r\nimport PDFReader from \"../../components/WeeklyUpdate/PDFReader\";\r\nimport BulletinUploadModal from \"../../components/WeeklyUpdate/BulletinUploadModal\";\r\n\r\nimport \"./WeeklyUpdate.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useLoaderData, useNavigate, useRevalidator } from \"react-router-dom\";\r\n\r\nconst WeeklyUpdate = () => {\r\n  const user = useSelector((state) => state.authToken.admin);\r\n  const navigate = useNavigate();\r\n  let revalidator = useRevalidator();\r\n\r\n  const { maxDate, queryDate } = useLoaderData();\r\n  const minDate = new Date(\"2022/04/03\");\r\n\r\n  const [bulletin, setBulletin] = useState(null);\r\n  const [selectedDate, setSelectedDate] = useState(queryDate);\r\n  const [modalState, setModalState] = useState(false);\r\n  const [isSuccessSnackBarOpen, setIsSuccessSnackBarOpen] = useState(false);\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setIsSuccessSnackBarOpen(false);\r\n  };\r\n\r\n  // Get Bulletin from Firestore\r\n  const loadFile = useCallback(async () => {\r\n    try {\r\n      const result = await axios.get(\"/api/WeeklyUpdate/GetBulletin\", {\r\n        params: { date: selectedDate.toLocaleDateString(\"sv\") },\r\n      });\r\n      setBulletin(result.data);\r\n    } catch (err) {}\r\n  }, [selectedDate]);\r\n\r\n  const closeModal = () => {\r\n    setModalState(false);\r\n  };\r\n\r\n  const uploadBulletin = async (file, date) => {\r\n    fileToBase64(file, (err, result) => {\r\n      axios\r\n        .put(\"/api/WeeklyUpdate/PostBulletin/\", {\r\n          file: result,\r\n          date: date.toLocaleDateString(\"sv\"),\r\n        })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          // setMaxDate(new Date(res.data.replace(/-/g, \"/\")));\r\n          setSelectedDate(date);\r\n          revalidator.revalidate(); //get new maxdate\r\n          closeModal();\r\n          setIsSuccessSnackBarOpen(true);\r\n        });\r\n    });\r\n  };\r\n\r\n  const fileToBase64 = (file, cb) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = function() {\r\n      cb(null, reader.result);\r\n    };\r\n    reader.onerror = function(error) {\r\n      cb(error, null);\r\n    };\r\n  };\r\n\r\n  const previousBulletin = () => {\r\n    setSelectedDate(\r\n      new Date(\r\n        selectedDate.getFullYear(),\r\n        selectedDate.getMonth(),\r\n        selectedDate.getDate() - 7\r\n      )\r\n    );\r\n  };\r\n\r\n  const nextBulletin = () => {\r\n    setSelectedDate(\r\n      new Date(\r\n        selectedDate.getFullYear(),\r\n        selectedDate.getMonth(),\r\n        selectedDate.getDate() + 7\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectedDate != null) {\r\n      loadFile();\r\n      navigate(\r\n        \"/weeklyupdate/\" +\r\n          selectedDate.toLocaleDateString(\"sv\").replace(/-/g, \"\")\r\n      );\r\n    }\r\n  }, [selectedDate, loadFile, navigate]);\r\n\r\n  function compareDate(date1, date2) {\r\n    return (\r\n      date1.getFullYear() === date2.getFullYear() &&\r\n      date1.getMonth() === date2.getMonth() &&\r\n      date1.getDate() === date2.getDate()\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1>주보</h1>\r\n\r\n      {bulletin ? (\r\n        <>\r\n          <IconButton\r\n            id=\"previousBulletin\"\r\n            onClick={previousBulletin}\r\n            disabled={compareDate(selectedDate, minDate)}\r\n          >\r\n            <ArrowBackIosIcon />\r\n          </IconButton>\r\n\r\n          <ButtonDatePicker\r\n            value={selectedDate}\r\n            minDate={minDate}\r\n            maxDate={maxDate}\r\n            onChange={setSelectedDate}\r\n          />\r\n\r\n          <IconButton\r\n            id=\"nextBulletin\"\r\n            onClick={nextBulletin}\r\n            disabled={compareDate(selectedDate, maxDate)}\r\n          >\r\n            <ArrowForwardIosIcon />\r\n          </IconButton>\r\n\r\n          <PDFReader file={bulletin} />\r\n        </>\r\n      ) : (\r\n        <CircularProgress />\r\n      )}\r\n\r\n      {user && (\r\n        <>\r\n          <Fab\r\n            id=\"uploadBulletinButton\"\r\n            variant=\"extended\"\r\n            onClick={() => setModalState(true)}\r\n          >\r\n            <UploadIcon sx={{ mr: 1 }} />\r\n            Upload\r\n          </Fab>\r\n\r\n          <BulletinUploadModal\r\n            open={modalState}\r\n            onModalUpload={uploadBulletin}\r\n            onClose={closeModal}\r\n          />\r\n\r\n          <Snackbar\r\n            open={isSuccessSnackBarOpen}\r\n            autoHideDuration={8000}\r\n            onClose={handleClose}\r\n          >\r\n            <Alert severity=\"success\" onClose={handleClose}>\r\n              Uploaded Succesfully!\r\n            </Alert>\r\n          </Snackbar>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WeeklyUpdate;\r\n"],"names":["ButtonField","props","setIsDatePickerOpen","id","disabled","value","_props$InputProps","InputProps","ref","_props$inputProps","inputProps","ariaLabel","_jsx","Button","variant","size","onClick","prev","children","format","_useState","useState","_useState2","_slicedToArray","isDatePickerOpen","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","_objectSpread","slots","field","slotProps","popper","placement","open","onClose","shouldDisableDate","date","getDay","disableHighlightToday","pdfjs","concat","numPages","setNumPages","_useState3","_useState4","pageNumber","setPageNumber","_useState5","_useState6","scale","setScale","changePage","offset","prevPageNumber","useEffect","file","width","isMobile","document","documentElement","clientWidth","window","innerWidth","height","clientHeight","innerHeight","_useState7","_useState8","windowDimension","detectHW","detectSize","addEventListener","removeEventListener","_jsxs","_Fragment","style","marginTop","marginBottom","ButtonGroup","Document","onLoadSuccess","_ref","loading","CircularProgress","Page","renderTextLayer","className","color","type","position","top","left","transform","maxWidth","bgcolor","border","boxShadow","p","selectedDate","setSelectedDate","fileToUpload","setFileToUpload","inputRef","useRef","today","Date","setDate","getDate","nextSunday","Modal","Box","sx","ButtonDatePicker","minDate","onChange","name","target","files","accept","onModalUpload","user","useSelector","state","authToken","admin","navigate","useNavigate","revalidator","useRevalidator","_useLoaderData","useLoaderData","maxDate","queryDate","bulletin","setBulletin","modalState","setModalState","isSuccessSnackBarOpen","setIsSuccessSnackBarOpen","handleClose","event","reason","loadFile","useCallback","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","next","axios","params","toLocaleDateString","sent","data","t0","stop","closeModal","uploadBulletin","_ref2","_callee2","_context2","fileToBase64","err","then","res","console","log","revalidate","_x","_x2","apply","arguments","cb","reader","FileReader","readAsDataURL","onload","onerror","error","compareDate","date1","date2","getFullYear","getMonth","replace","IconButton","ArrowBackIosIcon","ArrowForwardIosIcon","PDFReader","Fab","UploadIcon","mr","BulletinUploadModal","Snackbar","autoHideDuration","Alert","severity"],"sourceRoot":""}