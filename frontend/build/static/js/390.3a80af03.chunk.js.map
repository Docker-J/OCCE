{"version":3,"file":"static/js/390.3a80af03.chunk.js","mappings":"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","sources":["../node_modules/classcat/index.js","../node_modules/zustand/esm/vanilla.mjs","../node_modules/zustand/esm/traditional.mjs","../node_modules/zustand/esm/shallow.mjs","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-zoom/src/constant.js","../node_modules/d3-zoom/src/event.js","../node_modules/d3-zoom/src/transform.js","../node_modules/d3-zoom/src/noevent.js","../node_modules/d3-zoom/src/zoom.js","../node_modules/d3-drag/src/constant.js","../node_modules/d3-drag/src/event.js","../node_modules/d3-drag/src/drag.js","../node_modules/@reactflow/core/dist/esm/index.js","../node_modules/@uidotdev/usehooks/index.js"],"sourcesContent":["export default function cc(names) {\n  if (typeof names === \"string\" || typeof names === \"number\") return \"\" + names\n\n  let out = \"\"\n\n  if (Array.isArray(names)) {\n    for (let i = 0, tmp; i < names.length; i++) {\n      if ((tmp = cc(names[i])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  } else {\n    for (let k in names) {\n      if (names[k]) out += (out && \" \") + k\n    }\n  }\n\n  return out\n}\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\") ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","import { useDebugValue } from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\nimport { createStore } from 'zustand/vanilla';\n\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nfunction useStoreWithEqualityFn(api, selector = api.getState, equalityFn) {\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createWithEqualityFnImpl = (createState, defaultEqualityFn) => {\n  const api = createStore(createState);\n  const useBoundStoreWithEqualityFn = (selector, equalityFn = defaultEqualityFn) => useStoreWithEqualityFn(api, selector, equalityFn);\n  Object.assign(useBoundStoreWithEqualityFn, api);\n  return useBoundStoreWithEqualityFn;\n};\nconst createWithEqualityFn = (createState, defaultEqualityFn) => createState ? createWithEqualityFnImpl(createState, defaultEqualityFn) : createWithEqualityFnImpl;\n\nexport { createWithEqualityFn, useStoreWithEqualityFn };\n","function shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const [key, value] of objA) {\n      if (!Object.is(value, objB.get(key))) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const value of objA) {\n      if (!objB.has(value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\nvar shallow$1 = (objA, objB) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`.\"\n    );\n  }\n  return shallow(objA, objB);\n};\n\nexport { shallow$1 as default, shallow };\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { createContext, useContext, useMemo, memo, useRef, useState, useEffect, forwardRef, useCallback } from 'react';\nimport cc from 'classcat';\nimport { useStoreWithEqualityFn, createWithEqualityFn } from 'zustand/traditional';\nimport { shallow } from 'zustand/shallow';\nimport { zoomIdentity, zoom } from 'd3-zoom';\nimport { select, pointer } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { createPortal } from 'react-dom';\n\nconst StoreContext = createContext(null);\nconst Provider$1 = StoreContext.Provider;\n\nconst errorMessages = {\n    error001: () => '[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001',\n    error002: () => \"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\",\n    error003: (nodeType) => `Node type \"${nodeType}\" not found. Using fallback type \"default\".`,\n    error004: () => 'The React Flow parent container needs a width and a height to render the graph.',\n    error005: () => 'Only child nodes can use a parent extent.',\n    error006: () => \"Can't create edge. An edge needs a source and a target.\",\n    error007: (id) => `The old edge with id=${id} does not exist.`,\n    error009: (type) => `Marker type \"${type}\" doesn't exist.`,\n    error008: (sourceHandle, edge) => `Couldn't create edge for ${!sourceHandle ? 'source' : 'target'} handle id: \"${!sourceHandle ? edge.sourceHandle : edge.targetHandle}\", edge id: ${edge.id}.`,\n    error010: () => 'Handle: No node id found. Make sure to only use a Handle inside a custom Node.',\n    error011: (edgeType) => `Edge type \"${edgeType}\" not found. Using fallback type \"default\".`,\n    error012: (id) => `Node with id \"${id}\" does not exist, it may have been removed. This can happen when a node is deleted before the \"onNodeClick\" handler is called.`,\n};\n\nconst zustandErrorMessage = errorMessages['error001']();\nfunction useStore(selector, equalityFn) {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useStoreWithEqualityFn(store, selector, equalityFn);\n}\nconst useStoreApi = () => {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useMemo(() => ({\n        getState: store.getState,\n        setState: store.setState,\n        subscribe: store.subscribe,\n        destroy: store.destroy,\n    }), [store]);\n};\n\nconst selector$g = (s) => (s.userSelectionActive ? 'none' : 'all');\nfunction Panel({ position, children, className, style, ...rest }) {\n    const pointerEvents = useStore(selector$g);\n    const positionClasses = `${position}`.split('-');\n    return (jsx(\"div\", { className: cc(['react-flow__panel', className, ...positionClasses]), style: { ...style, pointerEvents }, ...rest, children: children }));\n}\n\nfunction Attribution({ proOptions, position = 'bottom-right' }) {\n    if (proOptions?.hideAttribution) {\n        return null;\n    }\n    return (jsx(Panel, { position: position, className: \"react-flow__attribution\", \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev\", children: jsx(\"a\", { href: \"https://reactflow.dev\", target: \"_blank\", rel: \"noopener noreferrer\", \"aria-label\": \"React Flow attribution\", children: \"React Flow\" }) }));\n}\n\nconst EdgeText = ({ x, y, label, labelStyle = {}, labelShowBg = true, labelBgStyle = {}, labelBgPadding = [2, 4], labelBgBorderRadius = 2, children, className, ...rest }) => {\n    const edgeRef = useRef(null);\n    const [edgeTextBbox, setEdgeTextBbox] = useState({ x: 0, y: 0, width: 0, height: 0 });\n    const edgeTextClasses = cc(['react-flow__edge-textwrapper', className]);\n    useEffect(() => {\n        if (edgeRef.current) {\n            const textBbox = edgeRef.current.getBBox();\n            setEdgeTextBbox({\n                x: textBbox.x,\n                y: textBbox.y,\n                width: textBbox.width,\n                height: textBbox.height,\n            });\n        }\n    }, [label]);\n    if (typeof label === 'undefined' || !label) {\n        return null;\n    }\n    return (jsxs(\"g\", { transform: `translate(${x - edgeTextBbox.width / 2} ${y - edgeTextBbox.height / 2})`, className: edgeTextClasses, visibility: edgeTextBbox.width ? 'visible' : 'hidden', ...rest, children: [labelShowBg && (jsx(\"rect\", { width: edgeTextBbox.width + 2 * labelBgPadding[0], x: -labelBgPadding[0], y: -labelBgPadding[1], height: edgeTextBbox.height + 2 * labelBgPadding[1], className: \"react-flow__edge-textbg\", style: labelBgStyle, rx: labelBgBorderRadius, ry: labelBgBorderRadius })), jsx(\"text\", { className: \"react-flow__edge-text\", y: edgeTextBbox.height / 2, dy: \"0.3em\", ref: edgeRef, style: labelStyle, children: label }), children] }));\n};\nvar EdgeText$1 = memo(EdgeText);\n\nconst getDimensions = (node) => ({\n    width: node.offsetWidth,\n    height: node.offsetHeight,\n});\nconst clamp = (val, min = 0, max = 1) => Math.min(Math.max(val, min), max);\nconst clampPosition = (position = { x: 0, y: 0 }, extent) => ({\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1]),\n});\n// returns a number between 0 and 1 that represents the velocity of the movement\n// when the mouse is close to the edge of the canvas\nconst calcAutoPanVelocity = (value, min, max) => {\n    if (value < min) {\n        return clamp(Math.abs(value - min), 1, 50) / 50;\n    }\n    else if (value > max) {\n        return -clamp(Math.abs(value - max), 1, 50) / 50;\n    }\n    return 0;\n};\nconst calcAutoPan = (pos, bounds) => {\n    const xMovement = calcAutoPanVelocity(pos.x, 35, bounds.width - 35) * 20;\n    const yMovement = calcAutoPanVelocity(pos.y, 35, bounds.height - 35) * 20;\n    return [xMovement, yMovement];\n};\nconst getHostForElement = (element) => element.getRootNode?.() || window?.document;\nconst getBoundsOfBoxes = (box1, box2) => ({\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2),\n});\nconst rectToBox = ({ x, y, width, height }) => ({\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n});\nconst boxToRect = ({ x, y, x2, y2 }) => ({\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y,\n});\nconst nodeToRect = (node) => ({\n    ...(node.positionAbsolute || { x: 0, y: 0 }),\n    width: node.width || 0,\n    height: node.height || 0,\n});\nconst getBoundsOfRects = (rect1, rect2) => boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\nconst getOverlappingArea = (rectA, rectB) => {\n    const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n    const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n    return Math.ceil(xOverlap * yOverlap);\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isRectObject = (obj) => isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nconst isNumeric = (n) => !isNaN(n) && isFinite(n);\nconst internalsSymbol = Symbol.for('internals');\n// used for a11y key board controls for nodes and edges\nconst elementSelectionKeys = ['Enter', ' ', 'Escape'];\nconst devWarn = (id, message) => {\n    if (process.env.NODE_ENV === 'development') {\n        console.warn(`[React Flow]: ${message} Help: https://reactflow.dev/error#${id}`);\n    }\n};\nconst isReactKeyboardEvent = (event) => 'nativeEvent' in event;\nfunction isInputDOMNode(event) {\n    const kbEvent = isReactKeyboardEvent(event) ? event.nativeEvent : event;\n    // using composed path for handling shadow dom\n    const target = (kbEvent.composedPath?.()?.[0] || event.target);\n    const isInput = ['INPUT', 'SELECT', 'TEXTAREA'].includes(target?.nodeName) || target?.hasAttribute('contenteditable');\n    // when an input field is focused we don't want to trigger deletion or movement of nodes\n    return isInput || !!target?.closest('.nokey');\n}\nconst isMouseEvent = (event) => 'clientX' in event;\nconst getEventPosition = (event, bounds) => {\n    const isMouseTriggered = isMouseEvent(event);\n    const evtX = isMouseTriggered ? event.clientX : event.touches?.[0].clientX;\n    const evtY = isMouseTriggered ? event.clientY : event.touches?.[0].clientY;\n    return {\n        x: evtX - (bounds?.left ?? 0),\n        y: evtY - (bounds?.top ?? 0),\n    };\n};\nconst isMacOs = () => typeof navigator !== 'undefined' && navigator?.userAgent?.indexOf('Mac') >= 0;\n\nconst BaseEdge = ({ id, path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth = 20, }) => {\n    return (jsxs(Fragment, { children: [jsx(\"path\", { id: id, style: style, d: path, fill: \"none\", className: \"react-flow__edge-path\", markerEnd: markerEnd, markerStart: markerStart }), interactionWidth && (jsx(\"path\", { d: path, fill: \"none\", strokeOpacity: 0, strokeWidth: interactionWidth, className: \"react-flow__edge-interaction\" })), label && isNumeric(labelX) && isNumeric(labelY) ? (jsx(EdgeText$1, { x: labelX, y: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius })) : null] }));\n};\nBaseEdge.displayName = 'BaseEdge';\n\nconst getMarkerEnd = (markerType, markerEndId) => {\n    if (typeof markerEndId !== 'undefined' && markerEndId) {\n        return `url(#${markerEndId})`;\n    }\n    return typeof markerType !== 'undefined' ? `url(#react-flow__${markerType})` : 'none';\n};\nfunction getMouseHandler$1(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const edge = getState().edges.find((e) => e.id === id);\n            if (edge) {\n                handler(event, { ...edge });\n            }\n        };\n}\n// this is used for straight edges and simple smoothstep edges (LTR, RTL, BTT, TTB)\nfunction getEdgeCenter({ sourceX, sourceY, targetX, targetY, }) {\n    const xOffset = Math.abs(targetX - sourceX) / 2;\n    const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n    const yOffset = Math.abs(targetY - sourceY) / 2;\n    const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n    return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({ sourceX, sourceY, targetX, targetY, sourceControlX, sourceControlY, targetControlX, targetControlY, }) {\n    // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n    // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n    const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n    const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n    const offsetX = Math.abs(centerX - sourceX);\n    const offsetY = Math.abs(centerY - sourceY);\n    return [centerX, centerY, offsetX, offsetY];\n}\n\nvar ConnectionMode;\n(function (ConnectionMode) {\n    ConnectionMode[\"Strict\"] = \"strict\";\n    ConnectionMode[\"Loose\"] = \"loose\";\n})(ConnectionMode || (ConnectionMode = {}));\nvar PanOnScrollMode;\n(function (PanOnScrollMode) {\n    PanOnScrollMode[\"Free\"] = \"free\";\n    PanOnScrollMode[\"Vertical\"] = \"vertical\";\n    PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\n})(PanOnScrollMode || (PanOnScrollMode = {}));\nvar SelectionMode;\n(function (SelectionMode) {\n    SelectionMode[\"Partial\"] = \"partial\";\n    SelectionMode[\"Full\"] = \"full\";\n})(SelectionMode || (SelectionMode = {}));\n\nvar ConnectionLineType;\n(function (ConnectionLineType) {\n    ConnectionLineType[\"Bezier\"] = \"default\";\n    ConnectionLineType[\"Straight\"] = \"straight\";\n    ConnectionLineType[\"Step\"] = \"step\";\n    ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n    ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\n})(ConnectionLineType || (ConnectionLineType = {}));\nvar MarkerType;\n(function (MarkerType) {\n    MarkerType[\"Arrow\"] = \"arrow\";\n    MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\n})(MarkerType || (MarkerType = {}));\n\nvar Position;\n(function (Position) {\n    Position[\"Left\"] = \"left\";\n    Position[\"Top\"] = \"top\";\n    Position[\"Right\"] = \"right\";\n    Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\n\nfunction getControl({ pos, x1, y1, x2, y2 }) {\n    if (pos === Position.Left || pos === Position.Right) {\n        return [0.5 * (x1 + x2), y1];\n    }\n    return [x1, 0.5 * (y1 + y2)];\n}\nfunction getSimpleBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, }) {\n    const [sourceControlX, sourceControlY] = getControl({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n    });\n    const [targetControlX, targetControlY] = getControl({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst SimpleBezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSimpleBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n    });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSimpleBezierEdge.displayName = 'SimpleBezierEdge';\n\nconst handleDirections = {\n    [Position.Left]: { x: -1, y: 0 },\n    [Position.Right]: { x: 1, y: 0 },\n    [Position.Top]: { x: 0, y: -1 },\n    [Position.Bottom]: { x: 0, y: 1 },\n};\nconst getDirection = ({ source, sourcePosition = Position.Bottom, target, }) => {\n    if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n        return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n    }\n    return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n};\nconst distance = (a, b) => Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n// ith this function we try to mimic a orthogonal edge routing behaviour\n// It's not as good as a real orthogonal edge routing but it's faster and good enough as a default for step and smooth step edges\nfunction getPoints({ source, sourcePosition = Position.Bottom, target, targetPosition = Position.Top, center, offset, }) {\n    const sourceDir = handleDirections[sourcePosition];\n    const targetDir = handleDirections[targetPosition];\n    const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n    const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n    const dir = getDirection({\n        source: sourceGapped,\n        sourcePosition,\n        target: targetGapped,\n    });\n    const dirAccessor = dir.x !== 0 ? 'x' : 'y';\n    const currDir = dir[dirAccessor];\n    let points = [];\n    let centerX, centerY;\n    const sourceGapOffset = { x: 0, y: 0 };\n    const targetGapOffset = { x: 0, y: 0 };\n    const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getEdgeCenter({\n        sourceX: source.x,\n        sourceY: source.y,\n        targetX: target.x,\n        targetY: target.y,\n    });\n    // opposite handle positions, default case\n    if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n        centerX = center.x || defaultCenterX;\n        centerY = center.y || defaultCenterY;\n        //    --->\n        //    |\n        // >---\n        const verticalSplit = [\n            { x: centerX, y: sourceGapped.y },\n            { x: centerX, y: targetGapped.y },\n        ];\n        //    |\n        //  ---\n        //  |\n        const horizontalSplit = [\n            { x: sourceGapped.x, y: centerY },\n            { x: targetGapped.x, y: centerY },\n        ];\n        if (sourceDir[dirAccessor] === currDir) {\n            points = dirAccessor === 'x' ? verticalSplit : horizontalSplit;\n        }\n        else {\n            points = dirAccessor === 'x' ? horizontalSplit : verticalSplit;\n        }\n    }\n    else {\n        // sourceTarget means we take x from source and y from target, targetSource is the opposite\n        const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n        const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n        // this handles edges with same handle positions\n        if (dirAccessor === 'x') {\n            points = sourceDir.x === currDir ? targetSource : sourceTarget;\n        }\n        else {\n            points = sourceDir.y === currDir ? sourceTarget : targetSource;\n        }\n        if (sourcePosition === targetPosition) {\n            const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n            // if an edge goes from right to right for example (sourcePosition === targetPosition) and the distance between source.x and target.x is less than the offset, the added point and the gapped source/target will overlap. This leads to a weird edge path. To avoid this we add a gapOffset to the source/target\n            if (diff <= offset) {\n                const gapOffset = Math.min(offset - 1, offset - diff);\n                if (sourceDir[dirAccessor] === currDir) {\n                    sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n                }\n                else {\n                    targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n                }\n            }\n        }\n        // these are conditions for handling mixed handle positions like Right -> Bottom for example\n        if (sourcePosition !== targetPosition) {\n            const dirAccessorOpposite = dirAccessor === 'x' ? 'y' : 'x';\n            const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n            const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n            const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n            const flipSourceTarget = (sourceDir[dirAccessor] === 1 && ((!isSameDir && sourceGtTargetOppo) || (isSameDir && sourceLtTargetOppo))) ||\n                (sourceDir[dirAccessor] !== 1 && ((!isSameDir && sourceLtTargetOppo) || (isSameDir && sourceGtTargetOppo)));\n            if (flipSourceTarget) {\n                points = dirAccessor === 'x' ? sourceTarget : targetSource;\n            }\n        }\n        const sourceGapPoint = { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y };\n        const targetGapPoint = { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y };\n        const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n        const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n        // we want to place the label on the longest segment of the edge\n        if (maxXDistance >= maxYDistance) {\n            centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n            centerY = points[0].y;\n        }\n        else {\n            centerX = points[0].x;\n            centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n        }\n    }\n    const pathPoints = [\n        source,\n        { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y },\n        ...points,\n        { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y },\n        target,\n    ];\n    return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n    const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n    const { x, y } = b;\n    // no bend\n    if ((a.x === x && x === c.x) || (a.y === y && y === c.y)) {\n        return `L${x} ${y}`;\n    }\n    // first segment is horizontal\n    if (a.y === y) {\n        const xDir = a.x < c.x ? -1 : 1;\n        const yDir = a.y < c.y ? 1 : -1;\n        return `L ${x + bendSize * xDir},${y}Q ${x},${y} ${x},${y + bendSize * yDir}`;\n    }\n    const xDir = a.x < c.x ? 1 : -1;\n    const yDir = a.y < c.y ? -1 : 1;\n    return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, borderRadius = 5, centerX, centerY, offset = 20, }) {\n    const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n        source: { x: sourceX, y: sourceY },\n        sourcePosition,\n        target: { x: targetX, y: targetY },\n        targetPosition,\n        center: { x: centerX, y: centerY },\n        offset,\n    });\n    const path = points.reduce((res, p, i) => {\n        let segment = '';\n        if (i > 0 && i < points.length - 1) {\n            segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n        }\n        else {\n            segment = `${i === 0 ? 'M' : 'L'}${p.x} ${p.y}`;\n        }\n        res += segment;\n        return res;\n    }, '');\n    return [path, labelX, labelY, offsetX, offsetY];\n}\nconst SmoothStepEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, sourcePosition = Position.Bottom, targetPosition = Position.Top, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSmoothStepPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        borderRadius: pathOptions?.borderRadius,\n        offset: pathOptions?.offset,\n    });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSmoothStepEdge.displayName = 'SmoothStepEdge';\n\nconst StepEdge = memo((props) => (jsx(SmoothStepEdge, { ...props, pathOptions: useMemo(() => ({ borderRadius: 0, offset: props.pathOptions?.offset }), [props.pathOptions?.offset]) })));\nStepEdge.displayName = 'StepEdge';\n\nfunction getStraightPath({ sourceX, sourceY, targetX, targetY, }) {\n    const [labelX, labelY, offsetX, offsetY] = getEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n    });\n    return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, labelX, labelY, offsetX, offsetY];\n}\nconst StraightEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getStraightPath({ sourceX, sourceY, targetX, targetY });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nStraightEdge.displayName = 'StraightEdge';\n\nfunction calculateControlOffset(distance, curvature) {\n    if (distance >= 0) {\n        return 0.5 * distance;\n    }\n    return curvature * 25 * Math.sqrt(-distance);\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n    switch (pos) {\n        case Position.Left:\n            return [x1 - calculateControlOffset(x1 - x2, c), y1];\n        case Position.Right:\n            return [x1 + calculateControlOffset(x2 - x1, c), y1];\n        case Position.Top:\n            return [x1, y1 - calculateControlOffset(y1 - y2, c)];\n        case Position.Bottom:\n            return [x1, y1 + calculateControlOffset(y2 - y1, c)];\n    }\n}\nfunction getBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, curvature = 0.25, }) {\n    const [sourceControlX, sourceControlY] = getControlWithCurvature({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n        c: curvature,\n    });\n    const [targetControlX, targetControlY] = getControlWithCurvature({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n        c: curvature,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst BezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        curvature: pathOptions?.curvature,\n    });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nBezierEdge.displayName = 'BezierEdge';\n\nconst NodeIdContext = createContext(null);\nconst Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\nconst useNodeId = () => {\n    const nodeId = useContext(NodeIdContext);\n    return nodeId;\n};\n\nconst isEdge = (element) => 'id' in element && 'source' in element && 'target' in element;\nconst isNode = (element) => 'id' in element && !('source' in element) && !('target' in element);\nconst getOutgoers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const outgoerIds = edges.filter((e) => e.source === node.id).map((e) => e.target);\n    return nodes.filter((n) => outgoerIds.includes(n.id));\n};\nconst getIncomers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const incomersIds = edges.filter((e) => e.target === node.id).map((e) => e.source);\n    return nodes.filter((n) => incomersIds.includes(n.id));\n};\nconst getEdgeId = ({ source, sourceHandle, target, targetHandle }) => `reactflow__edge-${source}${sourceHandle || ''}-${target}${targetHandle || ''}`;\nconst getMarkerId = (marker, rfId) => {\n    if (typeof marker === 'undefined') {\n        return '';\n    }\n    if (typeof marker === 'string') {\n        return marker;\n    }\n    const idPrefix = rfId ? `${rfId}__` : '';\n    return `${idPrefix}${Object.keys(marker)\n        .sort()\n        .map((key) => `${key}=${marker[key]}`)\n        .join('&')}`;\n};\nconst connectionExists = (edge, edges) => {\n    return edges.some((el) => el.source === edge.source &&\n        el.target === edge.target &&\n        (el.sourceHandle === edge.sourceHandle || (!el.sourceHandle && !edge.sourceHandle)) &&\n        (el.targetHandle === edge.targetHandle || (!el.targetHandle && !edge.targetHandle)));\n};\nconst addEdge = (edgeParams, edges) => {\n    if (!edgeParams.source || !edgeParams.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    let edge;\n    if (isEdge(edgeParams)) {\n        edge = { ...edgeParams };\n    }\n    else {\n        edge = {\n            ...edgeParams,\n            id: getEdgeId(edgeParams),\n        };\n    }\n    if (connectionExists(edge, edges)) {\n        return edges;\n    }\n    return edges.concat(edge);\n};\nconst updateEdge = (oldEdge, newConnection, edges, options = { shouldReplaceId: true }) => {\n    const { id: oldEdgeId, ...rest } = oldEdge;\n    if (!newConnection.source || !newConnection.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    const foundEdge = edges.find((e) => e.id === oldEdgeId);\n    if (!foundEdge) {\n        devWarn('007', errorMessages['error007'](oldEdgeId));\n        return edges;\n    }\n    // Remove old edge and create the new edge with parameters of old edge.\n    const edge = {\n        ...rest,\n        id: options.shouldReplaceId ? getEdgeId(newConnection) : oldEdgeId,\n        source: newConnection.source,\n        target: newConnection.target,\n        sourceHandle: newConnection.sourceHandle,\n        targetHandle: newConnection.targetHandle,\n    };\n    return edges.filter((e) => e.id !== oldEdgeId).concat(edge);\n};\nconst pointToRendererPoint = ({ x, y }, [tx, ty, tScale], snapToGrid, [snapX, snapY]) => {\n    const position = {\n        x: (x - tx) / tScale,\n        y: (y - ty) / tScale,\n    };\n    if (snapToGrid) {\n        return {\n            x: snapX * Math.round(position.x / snapX),\n            y: snapY * Math.round(position.y / snapY),\n        };\n    }\n    return position;\n};\nconst rendererPointToPoint = ({ x, y }, [tx, ty, tScale]) => {\n    return {\n        x: x * tScale + tx,\n        y: y * tScale + ty,\n    };\n};\nconst getNodePositionWithOrigin = (node, nodeOrigin = [0, 0]) => {\n    if (!node) {\n        return {\n            x: 0,\n            y: 0,\n            positionAbsolute: {\n                x: 0,\n                y: 0,\n            },\n        };\n    }\n    const offsetX = (node.width ?? 0) * nodeOrigin[0];\n    const offsetY = (node.height ?? 0) * nodeOrigin[1];\n    const position = {\n        x: node.position.x - offsetX,\n        y: node.position.y - offsetY,\n    };\n    return {\n        ...position,\n        positionAbsolute: node.positionAbsolute\n            ? {\n                x: node.positionAbsolute.x - offsetX,\n                y: node.positionAbsolute.y - offsetY,\n            }\n            : position,\n    };\n};\nconst getRectOfNodes = (nodes, nodeOrigin = [0, 0]) => {\n    if (nodes.length === 0) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n    const box = nodes.reduce((currBox, node) => {\n        const { x, y } = getNodePositionWithOrigin(node, nodeOrigin).positionAbsolute;\n        return getBoundsOfBoxes(currBox, rectToBox({\n            x,\n            y,\n            width: node.width || 0,\n            height: node.height || 0,\n        }));\n    }, { x: Infinity, y: Infinity, x2: -Infinity, y2: -Infinity });\n    return boxToRect(box);\n};\nconst getNodesInside = (nodeInternals, rect, [tx, ty, tScale] = [0, 0, 1], partially = false, \n// set excludeNonSelectableNodes if you want to pay attention to the nodes \"selectable\" attribute\nexcludeNonSelectableNodes = false, nodeOrigin = [0, 0]) => {\n    const paneRect = {\n        x: (rect.x - tx) / tScale,\n        y: (rect.y - ty) / tScale,\n        width: rect.width / tScale,\n        height: rect.height / tScale,\n    };\n    const visibleNodes = [];\n    nodeInternals.forEach((node) => {\n        const { width, height, selectable = true, hidden = false } = node;\n        if ((excludeNonSelectableNodes && !selectable) || hidden) {\n            return false;\n        }\n        const { positionAbsolute } = getNodePositionWithOrigin(node, nodeOrigin);\n        const nodeRect = {\n            x: positionAbsolute.x,\n            y: positionAbsolute.y,\n            width: width || 0,\n            height: height || 0,\n        };\n        const overlappingArea = getOverlappingArea(paneRect, nodeRect);\n        const notInitialized = typeof width === 'undefined' || typeof height === 'undefined' || width === null || height === null;\n        const partiallyVisible = partially && overlappingArea > 0;\n        const area = (width || 0) * (height || 0);\n        const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n        if (isVisible || node.dragging) {\n            visibleNodes.push(node);\n        }\n    });\n    return visibleNodes;\n};\nconst getConnectedEdges = (nodes, edges) => {\n    const nodeIds = nodes.map((node) => node.id);\n    return edges.filter((edge) => nodeIds.includes(edge.source) || nodeIds.includes(edge.target));\n};\nconst getTransformForBounds = (bounds, width, height, minZoom, maxZoom, padding = 0.1) => {\n    const xZoom = width / (bounds.width * (1 + padding));\n    const yZoom = height / (bounds.height * (1 + padding));\n    const zoom = Math.min(xZoom, yZoom);\n    const clampedZoom = clamp(zoom, minZoom, maxZoom);\n    const boundsCenterX = bounds.x + bounds.width / 2;\n    const boundsCenterY = bounds.y + bounds.height / 2;\n    const x = width / 2 - boundsCenterX * clampedZoom;\n    const y = height / 2 - boundsCenterY * clampedZoom;\n    return [x, y, clampedZoom];\n};\nconst getD3Transition = (selection, duration = 0) => {\n    return selection.transition().duration(duration);\n};\n\n// this functions collects all handles and adds an absolute position\n// so that we can later find the closest handle to the mouse position\nfunction getHandles(node, handleBounds, type, currentHandle) {\n    return (handleBounds[type] || []).reduce((res, h) => {\n        if (`${node.id}-${h.id}-${type}` !== currentHandle) {\n            res.push({\n                id: h.id || null,\n                type,\n                nodeId: node.id,\n                x: (node.positionAbsolute?.x ?? 0) + h.x + h.width / 2,\n                y: (node.positionAbsolute?.y ?? 0) + h.y + h.height / 2,\n            });\n        }\n        return res;\n    }, []);\n}\nfunction getClosestHandle(event, doc, pos, connectionRadius, handles, validator) {\n    // we always want to prioritize the handle below the mouse cursor over the closest distance handle,\n    // because it could be that the center of another handle is closer to the mouse pointer than the handle below the cursor\n    const { x, y } = getEventPosition(event);\n    const domNodes = doc.elementsFromPoint(x, y);\n    const handleBelow = domNodes.find((el) => el.classList.contains('react-flow__handle'));\n    if (handleBelow) {\n        const handleNodeId = handleBelow.getAttribute('data-nodeid');\n        if (handleNodeId) {\n            const handleType = getHandleType(undefined, handleBelow);\n            const handleId = handleBelow.getAttribute('data-handleid');\n            const validHandleResult = validator({ nodeId: handleNodeId, id: handleId, type: handleType });\n            if (validHandleResult) {\n                return {\n                    handle: {\n                        id: handleId,\n                        type: handleType,\n                        nodeId: handleNodeId,\n                        x: pos.x,\n                        y: pos.y,\n                    },\n                    validHandleResult,\n                };\n            }\n        }\n    }\n    // if we couldn't find a handle below the mouse cursor we look for the closest distance based on the connectionRadius\n    let closestHandles = [];\n    let minDistance = Infinity;\n    handles.forEach((handle) => {\n        const distance = Math.sqrt((handle.x - pos.x) ** 2 + (handle.y - pos.y) ** 2);\n        if (distance <= connectionRadius) {\n            const validHandleResult = validator(handle);\n            if (distance <= minDistance) {\n                if (distance < minDistance) {\n                    closestHandles = [{ handle, validHandleResult }];\n                }\n                else if (distance === minDistance) {\n                    // when multiple handles are on the same distance we collect all of them\n                    closestHandles.push({\n                        handle,\n                        validHandleResult,\n                    });\n                }\n                minDistance = distance;\n            }\n        }\n    });\n    if (!closestHandles.length) {\n        return { handle: null, validHandleResult: defaultResult() };\n    }\n    if (closestHandles.length === 1) {\n        return closestHandles[0];\n    }\n    const hasValidHandle = closestHandles.some(({ validHandleResult }) => validHandleResult.isValid);\n    const hasTargetHandle = closestHandles.some(({ handle }) => handle.type === 'target');\n    // if multiple handles are layouted on top of each other we prefer the one with type = target and the one that is valid\n    return (closestHandles.find(({ handle, validHandleResult }) => hasTargetHandle ? handle.type === 'target' : (hasValidHandle ? validHandleResult.isValid : true)) || closestHandles[0]);\n}\nconst nullConnection = { source: null, target: null, sourceHandle: null, targetHandle: null };\nconst defaultResult = () => ({\n    handleDomNode: null,\n    isValid: false,\n    connection: nullConnection,\n    endHandle: null,\n});\n// checks if  and returns connection in fom of an object { source: 123, target: 312 }\nfunction isValidHandle(handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc) {\n    const isTarget = fromType === 'target';\n    const handleToCheck = doc.querySelector(`.react-flow__handle[data-id=\"${handle?.nodeId}-${handle?.id}-${handle?.type}\"]`);\n    const result = {\n        ...defaultResult(),\n        handleDomNode: handleToCheck,\n    };\n    if (handleToCheck) {\n        const handleType = getHandleType(undefined, handleToCheck);\n        const handleNodeId = handleToCheck.getAttribute('data-nodeid');\n        const handleId = handleToCheck.getAttribute('data-handleid');\n        const connectable = handleToCheck.classList.contains('connectable');\n        const connectableEnd = handleToCheck.classList.contains('connectableend');\n        const connection = {\n            source: isTarget ? handleNodeId : fromNodeId,\n            sourceHandle: isTarget ? handleId : fromHandleId,\n            target: isTarget ? fromNodeId : handleNodeId,\n            targetHandle: isTarget ? fromHandleId : handleId,\n        };\n        result.connection = connection;\n        const isConnectable = connectable && connectableEnd;\n        // in strict mode we don't allow target to target or source to source connections\n        const isValid = isConnectable &&\n            (connectionMode === ConnectionMode.Strict\n                ? (isTarget && handleType === 'source') || (!isTarget && handleType === 'target')\n                : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n        if (isValid) {\n            result.endHandle = {\n                nodeId: handleNodeId,\n                handleId,\n                type: handleType,\n            };\n            result.isValid = isValidConnection(connection);\n        }\n    }\n    return result;\n}\nfunction getHandleLookup({ nodes, nodeId, handleId, handleType }) {\n    return nodes.reduce((res, node) => {\n        if (node[internalsSymbol]) {\n            const { handleBounds } = node[internalsSymbol];\n            let sourceHandles = [];\n            let targetHandles = [];\n            if (handleBounds) {\n                sourceHandles = getHandles(node, handleBounds, 'source', `${nodeId}-${handleId}-${handleType}`);\n                targetHandles = getHandles(node, handleBounds, 'target', `${nodeId}-${handleId}-${handleType}`);\n            }\n            res.push(...sourceHandles, ...targetHandles);\n        }\n        return res;\n    }, []);\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n    if (edgeUpdaterType) {\n        return edgeUpdaterType;\n    }\n    else if (handleDomNode?.classList.contains('target')) {\n        return 'target';\n    }\n    else if (handleDomNode?.classList.contains('source')) {\n        return 'source';\n    }\n    return null;\n}\nfunction resetRecentHandle(handleDomNode) {\n    handleDomNode?.classList.remove('valid', 'connecting', 'react-flow__handle-valid', 'react-flow__handle-connecting');\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n    let connectionStatus = null;\n    if (isHandleValid) {\n        connectionStatus = 'valid';\n    }\n    else if (isInsideConnectionRadius && !isHandleValid) {\n        connectionStatus = 'invalid';\n    }\n    return connectionStatus;\n}\n\nfunction handlePointerDown({ event, handleId, nodeId, onConnect, isTarget, getState, setState, isValidConnection, edgeUpdaterType, onEdgeUpdateEnd, }) {\n    // when react-flow is used inside a shadow root we can't use document\n    const doc = getHostForElement(event.target);\n    const { connectionMode, domNode, autoPanOnConnect, connectionRadius, onConnectStart, panBy, getNodes, cancelConnection, } = getState();\n    let autoPanId = 0;\n    let closestHandle;\n    const { x, y } = getEventPosition(event);\n    const clickedHandle = doc?.elementFromPoint(x, y);\n    const handleType = getHandleType(edgeUpdaterType, clickedHandle);\n    const containerBounds = domNode?.getBoundingClientRect();\n    if (!containerBounds || !handleType) {\n        return;\n    }\n    let prevActiveHandle;\n    let connectionPosition = getEventPosition(event, containerBounds);\n    let autoPanStarted = false;\n    let connection = null;\n    let isValid = false;\n    let handleDomNode = null;\n    const handleLookup = getHandleLookup({\n        nodes: getNodes(),\n        nodeId,\n        handleId,\n        handleType,\n    });\n    // when the user is moving the mouse close to the edge of the canvas while connecting we move the canvas\n    const autoPan = () => {\n        if (!autoPanOnConnect) {\n            return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds);\n        panBy({ x: xMovement, y: yMovement });\n        autoPanId = requestAnimationFrame(autoPan);\n    };\n    setState({\n        connectionPosition,\n        connectionStatus: null,\n        // connectionNodeId etc will be removed in the next major in favor of connectionStartHandle\n        connectionNodeId: nodeId,\n        connectionHandleId: handleId,\n        connectionHandleType: handleType,\n        connectionStartHandle: {\n            nodeId,\n            handleId,\n            type: handleType,\n        },\n        connectionEndHandle: null,\n    });\n    onConnectStart?.(event, { nodeId, handleId, handleType });\n    function onPointerMove(event) {\n        const { transform } = getState();\n        connectionPosition = getEventPosition(event, containerBounds);\n        const { handle, validHandleResult } = getClosestHandle(event, doc, pointToRendererPoint(connectionPosition, transform, false, [1, 1]), connectionRadius, handleLookup, (handle) => isValidHandle(handle, connectionMode, nodeId, handleId, isTarget ? 'target' : 'source', isValidConnection, doc));\n        closestHandle = handle;\n        if (!autoPanStarted) {\n            autoPan();\n            autoPanStarted = true;\n        }\n        handleDomNode = validHandleResult.handleDomNode;\n        connection = validHandleResult.connection;\n        isValid = validHandleResult.isValid;\n        setState({\n            connectionPosition: closestHandle && isValid\n                ? rendererPointToPoint({\n                    x: closestHandle.x,\n                    y: closestHandle.y,\n                }, transform)\n                : connectionPosition,\n            connectionStatus: getConnectionStatus(!!closestHandle, isValid),\n            connectionEndHandle: validHandleResult.endHandle,\n        });\n        if (!closestHandle && !isValid && !handleDomNode) {\n            return resetRecentHandle(prevActiveHandle);\n        }\n        if (connection.source !== connection.target && handleDomNode) {\n            resetRecentHandle(prevActiveHandle);\n            prevActiveHandle = handleDomNode;\n            // @todo: remove the old class names \"react-flow__handle-\" in the next major version\n            handleDomNode.classList.add('connecting', 'react-flow__handle-connecting');\n            handleDomNode.classList.toggle('valid', isValid);\n            handleDomNode.classList.toggle('react-flow__handle-valid', isValid);\n        }\n    }\n    function onPointerUp(event) {\n        if ((closestHandle || handleDomNode) && connection && isValid) {\n            onConnect?.(connection);\n        }\n        // it's important to get a fresh reference from the store here\n        // in order to get the latest state of onConnectEnd\n        getState().onConnectEnd?.(event);\n        if (edgeUpdaterType) {\n            onEdgeUpdateEnd?.(event);\n        }\n        resetRecentHandle(prevActiveHandle);\n        cancelConnection();\n        cancelAnimationFrame(autoPanId);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener('mousemove', onPointerMove);\n        doc.removeEventListener('mouseup', onPointerUp);\n        doc.removeEventListener('touchmove', onPointerMove);\n        doc.removeEventListener('touchend', onPointerUp);\n    }\n    doc.addEventListener('mousemove', onPointerMove);\n    doc.addEventListener('mouseup', onPointerUp);\n    doc.addEventListener('touchmove', onPointerMove);\n    doc.addEventListener('touchend', onPointerUp);\n}\n\nconst alwaysValid = () => true;\nconst selector$f = (s) => ({\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick,\n    noPanClassName: s.noPanClassName,\n});\nconst connectingSelector = (nodeId, handleId, type) => (state) => {\n    const { connectionStartHandle: startHandle, connectionEndHandle: endHandle, connectionClickStartHandle: clickHandle, } = state;\n    return {\n        connecting: (startHandle?.nodeId === nodeId && startHandle?.handleId === handleId && startHandle?.type === type) ||\n            (endHandle?.nodeId === nodeId && endHandle?.handleId === handleId && endHandle?.type === type),\n        clickConnecting: clickHandle?.nodeId === nodeId && clickHandle?.handleId === handleId && clickHandle?.type === type,\n    };\n};\nconst Handle = forwardRef(({ type = 'source', position = Position.Top, isValidConnection, isConnectable = true, isConnectableStart = true, isConnectableEnd = true, id, onConnect, children, className, onMouseDown, onTouchStart, ...rest }, ref) => {\n    const handleId = id || null;\n    const isTarget = type === 'target';\n    const store = useStoreApi();\n    const nodeId = useNodeId();\n    const { connectOnClick, noPanClassName } = useStore(selector$f, shallow);\n    const { connecting, clickConnecting } = useStore(connectingSelector(nodeId, handleId, type), shallow);\n    if (!nodeId) {\n        store.getState().onError?.('010', errorMessages['error010']());\n    }\n    const onConnectExtended = (params) => {\n        const { defaultEdgeOptions, onConnect: onConnectAction, hasDefaultEdges } = store.getState();\n        const edgeParams = {\n            ...defaultEdgeOptions,\n            ...params,\n        };\n        if (hasDefaultEdges) {\n            const { edges, setEdges } = store.getState();\n            setEdges(addEdge(edgeParams, edges));\n        }\n        onConnectAction?.(edgeParams);\n        onConnect?.(edgeParams);\n    };\n    const onPointerDown = (event) => {\n        if (!nodeId) {\n            return;\n        }\n        const isMouseTriggered = isMouseEvent(event);\n        if (isConnectableStart && ((isMouseTriggered && event.button === 0) || !isMouseTriggered)) {\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectExtended,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection: isValidConnection || store.getState().isValidConnection || alwaysValid,\n            });\n        }\n        if (isMouseTriggered) {\n            onMouseDown?.(event);\n        }\n        else {\n            onTouchStart?.(event);\n        }\n    };\n    const onClick = (event) => {\n        const { onClickConnectStart, onClickConnectEnd, connectionClickStartHandle, connectionMode, isValidConnection: isValidConnectionStore, } = store.getState();\n        if (!nodeId || (!connectionClickStartHandle && !isConnectableStart)) {\n            return;\n        }\n        if (!connectionClickStartHandle) {\n            onClickConnectStart?.(event, { nodeId, handleId, handleType: type });\n            store.setState({ connectionClickStartHandle: { nodeId, type, handleId } });\n            return;\n        }\n        const doc = getHostForElement(event.target);\n        const isValidConnectionHandler = isValidConnection || isValidConnectionStore || alwaysValid;\n        const { connection, isValid } = isValidHandle({\n            nodeId,\n            id: handleId,\n            type,\n        }, connectionMode, connectionClickStartHandle.nodeId, connectionClickStartHandle.handleId || null, connectionClickStartHandle.type, isValidConnectionHandler, doc);\n        if (isValid) {\n            onConnectExtended(connection);\n        }\n        onClickConnectEnd?.(event);\n        store.setState({ connectionClickStartHandle: null });\n    };\n    return (jsx(\"div\", { \"data-handleid\": handleId, \"data-nodeid\": nodeId, \"data-handlepos\": position, \"data-id\": `${nodeId}-${handleId}-${type}`, className: cc([\n            'react-flow__handle',\n            `react-flow__handle-${position}`,\n            'nodrag',\n            noPanClassName,\n            className,\n            {\n                source: !isTarget,\n                target: isTarget,\n                connectable: isConnectable,\n                connectablestart: isConnectableStart,\n                connectableend: isConnectableEnd,\n                connecting: clickConnecting,\n                // this class is used to style the handle when the user is connecting\n                connectionindicator: isConnectable && ((isConnectableStart && !connecting) || (isConnectableEnd && connecting)),\n            },\n        ]), onMouseDown: onPointerDown, onTouchStart: onPointerDown, onClick: connectOnClick ? onClick : undefined, ref: ref, ...rest, children: children }));\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = memo(Handle);\n\nconst DefaultNode = ({ data, isConnectable, targetPosition = Position.Top, sourcePosition = Position.Bottom, }) => {\n    return (jsxs(Fragment, { children: [jsx(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }), data?.label, jsx(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })] }));\n};\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = memo(DefaultNode);\n\nconst InputNode = ({ data, isConnectable, sourcePosition = Position.Bottom }) => (jsxs(Fragment, { children: [data?.label, jsx(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })] }));\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = memo(InputNode);\n\nconst OutputNode = ({ data, isConnectable, targetPosition = Position.Top }) => (jsxs(Fragment, { children: [jsx(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }), data?.label] }));\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = memo(OutputNode);\n\nconst GroupNode = () => null;\nGroupNode.displayName = 'GroupNode';\n\nconst selector$e = (s) => ({\n    selectedNodes: s.getNodes().filter((n) => n.selected),\n    selectedEdges: s.edges.filter((e) => e.selected),\n});\nconst selectId = (obj) => obj.id;\nfunction areEqual(a, b) {\n    return (shallow(a.selectedNodes.map(selectId), b.selectedNodes.map(selectId)) &&\n        shallow(a.selectedEdges.map(selectId), b.selectedEdges.map(selectId)));\n}\n// This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\nconst SelectionListener = memo(({ onSelectionChange }) => {\n    const store = useStoreApi();\n    const { selectedNodes, selectedEdges } = useStore(selector$e, areEqual);\n    useEffect(() => {\n        const params = { nodes: selectedNodes, edges: selectedEdges };\n        onSelectionChange?.(params);\n        store.getState().onSelectionChange?.(params);\n    }, [selectedNodes, selectedEdges, onSelectionChange]);\n    return null;\n});\nSelectionListener.displayName = 'SelectionListener';\nconst changeSelector = (s) => !!s.onSelectionChange;\nfunction Wrapper$1({ onSelectionChange }) {\n    const storeHasSelectionChange = useStore(changeSelector);\n    if (onSelectionChange || storeHasSelectionChange) {\n        return jsx(SelectionListener, { onSelectionChange: onSelectionChange });\n    }\n    return null;\n}\n\nconst selector$d = (s) => ({\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset,\n});\nfunction useStoreUpdater(value, setStoreState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setStoreState(value);\n        }\n    }, [value]);\n}\n// updates with values in store that don't have a dedicated setter function\nfunction useDirectStoreUpdater(key, value, setState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setState({ [key]: value });\n        }\n    }, [value]);\n}\nconst StoreUpdater = ({ nodes, edges, defaultNodes, defaultEdges, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, nodesDraggable, nodesConnectable, nodesFocusable, edgesFocusable, edgesUpdatable, elevateNodesOnSelect, minZoom, maxZoom, nodeExtent, onNodesChange, onEdgesChange, elementsSelectable, connectionMode, snapGrid, snapToGrid, translateExtent, connectOnClick, defaultEdgeOptions, fitView, fitViewOptions, onNodesDelete, onEdgesDelete, onNodeDrag, onNodeDragStart, onNodeDragStop, onSelectionDrag, onSelectionDragStart, onSelectionDragStop, noPanClassName, nodeOrigin, rfId, autoPanOnConnect, autoPanOnNodeDrag, onError, connectionRadius, isValidConnection, }) => {\n    const { setNodes, setEdges, setDefaultNodesAndEdges, setMinZoom, setMaxZoom, setTranslateExtent, setNodeExtent, reset, } = useStore(selector$d, shallow);\n    const store = useStoreApi();\n    useEffect(() => {\n        const edgesWithDefaults = defaultEdges?.map((e) => ({ ...e, ...defaultEdgeOptions }));\n        setDefaultNodesAndEdges(defaultNodes, edgesWithDefaults);\n        return () => {\n            reset();\n        };\n    }, []);\n    useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n    useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n    useDirectStoreUpdater('onConnect', onConnect, store.setState);\n    useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n    useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n    useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n    useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n    useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n    useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n    useDirectStoreUpdater('nodesFocusable', nodesFocusable, store.setState);\n    useDirectStoreUpdater('edgesFocusable', edgesFocusable, store.setState);\n    useDirectStoreUpdater('edgesUpdatable', edgesUpdatable, store.setState);\n    useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n    useDirectStoreUpdater('elevateNodesOnSelect', elevateNodesOnSelect, store.setState);\n    useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n    useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n    useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n    useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n    useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n    useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n    useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n    useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n    useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n    useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n    useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n    useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n    useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n    useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n    useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n    useDirectStoreUpdater('noPanClassName', noPanClassName, store.setState);\n    useDirectStoreUpdater('nodeOrigin', nodeOrigin, store.setState);\n    useDirectStoreUpdater('rfId', rfId, store.setState);\n    useDirectStoreUpdater('autoPanOnConnect', autoPanOnConnect, store.setState);\n    useDirectStoreUpdater('autoPanOnNodeDrag', autoPanOnNodeDrag, store.setState);\n    useDirectStoreUpdater('onError', onError, store.setState);\n    useDirectStoreUpdater('connectionRadius', connectionRadius, store.setState);\n    useDirectStoreUpdater('isValidConnection', isValidConnection, store.setState);\n    useStoreUpdater(nodes, setNodes);\n    useStoreUpdater(edges, setEdges);\n    useStoreUpdater(minZoom, setMinZoom);\n    useStoreUpdater(maxZoom, setMaxZoom);\n    useStoreUpdater(translateExtent, setTranslateExtent);\n    useStoreUpdater(nodeExtent, setNodeExtent);\n    return null;\n};\n\nconst style = { display: 'none' };\nconst ariaLiveStyle = {\n    position: 'absolute',\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0px, 0px, 0px, 0px)',\n    clipPath: 'inset(100%)',\n};\nconst ARIA_NODE_DESC_KEY = 'react-flow__node-desc';\nconst ARIA_EDGE_DESC_KEY = 'react-flow__edge-desc';\nconst ARIA_LIVE_MESSAGE = 'react-flow__aria-live';\nconst selector$c = (s) => s.ariaLiveMessage;\nfunction AriaLiveMessage({ rfId }) {\n    const ariaLiveMessage = useStore(selector$c);\n    return (jsx(\"div\", { id: `${ARIA_LIVE_MESSAGE}-${rfId}`, \"aria-live\": \"assertive\", \"aria-atomic\": \"true\", style: ariaLiveStyle, children: ariaLiveMessage }));\n}\nfunction A11yDescriptions({ rfId, disableKeyboardA11y }) {\n    return (jsxs(Fragment, { children: [jsxs(\"div\", { id: `${ARIA_NODE_DESC_KEY}-${rfId}`, style: style, children: [\"Press enter or space to select a node.\", !disableKeyboardA11y && 'You can then use the arrow keys to move the node around.', \" Press delete to remove it and escape to cancel.\", ' '] }), jsx(\"div\", { id: `${ARIA_EDGE_DESC_KEY}-${rfId}`, style: style, children: \"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.\" }), !disableKeyboardA11y && jsx(AriaLiveMessage, { rfId: rfId })] }));\n}\n\nconst doc = typeof document !== 'undefined' ? document : null;\n// the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilities. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\nvar useKeyPress = (keyCode = null, options = { target: doc }) => {\n    const [keyPressed, setKeyPressed] = useState(false);\n    // we need to remember if a modifier key is pressed in order to track it\n    const modifierPressed = useRef(false);\n    // we need to remember the pressed keys in order to support combinations\n    const pressedKeys = useRef(new Set([]));\n    // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n    // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n    // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n    // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n    // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n    // we can't find it in the list of keysToWatch.\n    const [keyCodes, keysToWatch] = useMemo(() => {\n        if (keyCode !== null) {\n            const keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n            const keys = keyCodeArr.filter((kc) => typeof kc === 'string').map((kc) => kc.split('+'));\n            const keysFlat = keys.reduce((res, item) => res.concat(...item), []);\n            return [keys, keysFlat];\n        }\n        return [[], []];\n    }, [keyCode]);\n    useEffect(() => {\n        if (keyCode !== null) {\n            const downHandler = (event) => {\n                modifierPressed.current = event.ctrlKey || event.metaKey || event.shiftKey;\n                if (!modifierPressed.current && isInputDOMNode(event)) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                pressedKeys.current.add(event[keyOrCode]);\n                if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n                    event.preventDefault();\n                    setKeyPressed(true);\n                }\n            };\n            const upHandler = (event) => {\n                if (!modifierPressed.current && isInputDOMNode(event)) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n                    setKeyPressed(false);\n                    pressedKeys.current.clear();\n                }\n                else {\n                    pressedKeys.current.delete(event[keyOrCode]);\n                }\n                // fix for Mac: when cmd key is pressed, keyup is not triggered for any other key, see: https://stackoverflow.com/questions/27380018/when-cmd-key-is-kept-pressed-keyup-is-not-triggered-for-any-other-key\n                if (event.key === 'Meta') {\n                    pressedKeys.current.clear();\n                }\n                modifierPressed.current = false;\n            };\n            const resetHandler = () => {\n                pressedKeys.current.clear();\n                setKeyPressed(false);\n            };\n            options?.target?.addEventListener('keydown', downHandler);\n            options?.target?.addEventListener('keyup', upHandler);\n            window.addEventListener('blur', resetHandler);\n            return () => {\n                options?.target?.removeEventListener('keydown', downHandler);\n                options?.target?.removeEventListener('keyup', upHandler);\n                window.removeEventListener('blur', resetHandler);\n            };\n        }\n    }, [keyCode, setKeyPressed]);\n    return keyPressed;\n};\n// utils\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n    return (keyCodes\n        // we only want to compare same sizes of keyCode definitions\n        // and pressed keys. When the user specified 'Meta' as a key somewhere\n        // this would also be truthy without this filter when user presses 'Meta' + 'r'\n        .filter((keys) => isUp || keys.length === pressedKeys.size)\n        // since we want to support multiple possibilities only one of the\n        // combinations need to be part of the pressed keys\n        .some((keys) => keys.every((k) => pressedKeys.has(k))));\n}\nfunction useKeyOrCode(eventCode, keysToWatch) {\n    return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\n\nfunction calculateXYZPosition(node, nodeInternals, result, nodeOrigin) {\n    if (!node.parentNode) {\n        return result;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    const parentNodePosition = getNodePositionWithOrigin(parentNode, nodeOrigin);\n    return calculateXYZPosition(parentNode, nodeInternals, {\n        x: (result.x ?? 0) + parentNodePosition.x,\n        y: (result.y ?? 0) + parentNodePosition.y,\n        z: (parentNode[internalsSymbol]?.z ?? 0) > (result.z ?? 0) ? parentNode[internalsSymbol]?.z ?? 0 : result.z ?? 0,\n    }, nodeOrigin);\n}\nfunction updateAbsoluteNodePositions(nodeInternals, nodeOrigin, parentNodes) {\n    nodeInternals.forEach((node) => {\n        if (node.parentNode && !nodeInternals.has(node.parentNode)) {\n            throw new Error(`Parent node ${node.parentNode} not found`);\n        }\n        if (node.parentNode || parentNodes?.[node.id]) {\n            const { x, y, z } = calculateXYZPosition(node, nodeInternals, {\n                ...node.position,\n                z: node[internalsSymbol]?.z ?? 0,\n            }, nodeOrigin);\n            node.positionAbsolute = {\n                x,\n                y,\n            };\n            node[internalsSymbol].z = z;\n            if (parentNodes?.[node.id]) {\n                node[internalsSymbol].isParent = true;\n            }\n        }\n    });\n}\nfunction createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) {\n    const nextNodeInternals = new Map();\n    const parentNodes = {};\n    const selectedNodeZ = elevateNodesOnSelect ? 1000 : 0;\n    nodes.forEach((node) => {\n        const z = (isNumeric(node.zIndex) ? node.zIndex : 0) + (node.selected ? selectedNodeZ : 0);\n        const currInternals = nodeInternals.get(node.id);\n        const internals = {\n            width: currInternals?.width,\n            height: currInternals?.height,\n            ...node,\n            positionAbsolute: {\n                x: node.position.x,\n                y: node.position.y,\n            },\n        };\n        if (node.parentNode) {\n            internals.parentNode = node.parentNode;\n            parentNodes[node.parentNode] = true;\n        }\n        Object.defineProperty(internals, internalsSymbol, {\n            enumerable: false,\n            value: {\n                handleBounds: currInternals?.[internalsSymbol]?.handleBounds,\n                z,\n            },\n        });\n        nextNodeInternals.set(node.id, internals);\n    });\n    updateAbsoluteNodePositions(nextNodeInternals, nodeOrigin, parentNodes);\n    return nextNodeInternals;\n}\nfunction fitView(get, options = {}) {\n    const { getNodes, width, height, minZoom, maxZoom, d3Zoom, d3Selection, fitViewOnInitDone, fitViewOnInit, nodeOrigin, } = get();\n    const isInitialFitView = options.initial && !fitViewOnInitDone && fitViewOnInit;\n    const d3initialized = d3Zoom && d3Selection;\n    if (d3initialized && (isInitialFitView || !options.initial)) {\n        const nodes = getNodes().filter((n) => {\n            const isVisible = options.includeHiddenNodes ? n.width && n.height : !n.hidden;\n            if (options.nodes?.length) {\n                return isVisible && options.nodes.some((optionNode) => optionNode.id === n.id);\n            }\n            return isVisible;\n        });\n        const nodesInitialized = nodes.every((n) => n.width && n.height);\n        if (nodes.length > 0 && nodesInitialized) {\n            const bounds = getRectOfNodes(nodes, nodeOrigin);\n            const [x, y, zoom] = getTransformForBounds(bounds, width, height, options.minZoom ?? minZoom, options.maxZoom ?? maxZoom, options.padding ?? 0.1);\n            const nextTransform = zoomIdentity.translate(x, y).scale(zoom);\n            if (typeof options.duration === 'number' && options.duration > 0) {\n                d3Zoom.transform(getD3Transition(d3Selection, options.duration), nextTransform);\n            }\n            else {\n                d3Zoom.transform(d3Selection, nextTransform);\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {\n    nodeChanges.forEach((change) => {\n        const node = nodeInternals.get(change.id);\n        if (node) {\n            nodeInternals.set(node.id, {\n                ...node,\n                [internalsSymbol]: node[internalsSymbol],\n                selected: change.selected,\n            });\n        }\n    });\n    return new Map(nodeInternals);\n}\nfunction handleControlledEdgeSelectionChange(edgeChanges, edges) {\n    return edges.map((e) => {\n        const change = edgeChanges.find((change) => change.id === e.id);\n        if (change) {\n            e.selected = change.selected;\n        }\n        return e;\n    });\n}\nfunction updateNodesAndEdgesSelections({ changedNodes, changedEdges, get, set }) {\n    const { nodeInternals, edges, onNodesChange, onEdgesChange, hasDefaultNodes, hasDefaultEdges } = get();\n    if (changedNodes?.length) {\n        if (hasDefaultNodes) {\n            set({ nodeInternals: handleControlledNodeSelectionChange(changedNodes, nodeInternals) });\n        }\n        onNodesChange?.(changedNodes);\n    }\n    if (changedEdges?.length) {\n        if (hasDefaultEdges) {\n            set({ edges: handleControlledEdgeSelectionChange(changedEdges, edges) });\n        }\n        onEdgesChange?.(changedEdges);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => { };\nconst initialViewportHelper = {\n    zoomIn: noop,\n    zoomOut: noop,\n    zoomTo: noop,\n    getZoom: () => 1,\n    setViewport: noop,\n    getViewport: () => ({ x: 0, y: 0, zoom: 1 }),\n    fitView: () => false,\n    setCenter: noop,\n    fitBounds: noop,\n    project: (position) => position,\n    viewportInitialized: false,\n};\nconst selector$b = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n});\nconst useViewportHelper = () => {\n    const store = useStoreApi();\n    const { d3Zoom, d3Selection } = useStore(selector$b, shallow);\n    const viewportHelperFunctions = useMemo(() => {\n        if (d3Selection && d3Zoom) {\n            return {\n                zoomIn: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1.2),\n                zoomOut: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1 / 1.2),\n                zoomTo: (zoomLevel, options) => d3Zoom.scaleTo(getD3Transition(d3Selection, options?.duration), zoomLevel),\n                getZoom: () => store.getState().transform[2],\n                setViewport: (transform, options) => {\n                    const [x, y, zoom] = store.getState().transform;\n                    const nextTransform = zoomIdentity\n                        .translate(transform.x ?? x, transform.y ?? y)\n                        .scale(transform.zoom ?? zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), nextTransform);\n                },\n                getViewport: () => {\n                    const [x, y, zoom] = store.getState().transform;\n                    return { x, y, zoom };\n                },\n                fitView: (options) => fitView(store.getState, options),\n                setCenter: (x, y, options) => {\n                    const { width, height, maxZoom } = store.getState();\n                    const nextZoom = typeof options?.zoom !== 'undefined' ? options.zoom : maxZoom;\n                    const centerX = width / 2 - x * nextZoom;\n                    const centerY = height / 2 - y * nextZoom;\n                    const transform = zoomIdentity.translate(centerX, centerY).scale(nextZoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                fitBounds: (bounds, options) => {\n                    const { width, height, minZoom, maxZoom } = store.getState();\n                    const [x, y, zoom] = getTransformForBounds(bounds, width, height, minZoom, maxZoom, options?.padding ?? 0.1);\n                    const transform = zoomIdentity.translate(x, y).scale(zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                project: (position) => {\n                    const { transform, snapToGrid, snapGrid } = store.getState();\n                    return pointToRendererPoint(position, transform, snapToGrid, snapGrid);\n                },\n                viewportInitialized: true,\n            };\n        }\n        return initialViewportHelper;\n    }, [d3Zoom, d3Selection]);\n    return viewportHelperFunctions;\n};\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nfunction useReactFlow() {\n    const viewportHelper = useViewportHelper();\n    const store = useStoreApi();\n    const getNodes = useCallback(() => {\n        return store\n            .getState()\n            .getNodes()\n            .map((n) => ({ ...n }));\n    }, []);\n    const getNode = useCallback((id) => {\n        return store.getState().nodeInternals.get(id);\n    }, []);\n    const getEdges = useCallback(() => {\n        const { edges = [] } = store.getState();\n        return edges.map((e) => ({ ...e }));\n    }, []);\n    const getEdge = useCallback((id) => {\n        const { edges = [] } = store.getState();\n        return edges.find((e) => e.id === id);\n    }, []);\n    const setNodes = useCallback((payload) => {\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        const nodes = getNodes();\n        const nextNodes = typeof payload === 'function' ? payload(nodes) : payload;\n        if (hasDefaultNodes) {\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nextNodes.length === 0\n                ? nodes.map((node) => ({ type: 'remove', id: node.id }))\n                : nextNodes.map((node) => ({ item: node, type: 'reset' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const setEdges = useCallback((payload) => {\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        const nextEdges = typeof payload === 'function' ? payload(edges) : payload;\n        if (hasDefaultEdges) {\n            setEdges(nextEdges);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.length === 0\n                ? edges.map((edge) => ({ type: 'remove', id: edge.id }))\n                : nextEdges.map((edge) => ({ item: edge, type: 'reset' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const addNodes = useCallback((payload) => {\n        const nodes = Array.isArray(payload) ? payload : [payload];\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        if (hasDefaultNodes) {\n            const currentNodes = getNodes();\n            const nextNodes = [...currentNodes, ...nodes];\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nodes.map((node) => ({ item: node, type: 'add' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const addEdges = useCallback((payload) => {\n        const nextEdges = Array.isArray(payload) ? payload : [payload];\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        if (hasDefaultEdges) {\n            setEdges([...edges, ...nextEdges]);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.map((edge) => ({ item: edge, type: 'add' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const toObject = useCallback(() => {\n        const { getNodes, edges = [], transform } = store.getState();\n        const [x, y, zoom] = transform;\n        return {\n            nodes: getNodes().map((n) => ({ ...n })),\n            edges: edges.map((e) => ({ ...e })),\n            viewport: {\n                x,\n                y,\n                zoom,\n            },\n        };\n    }, []);\n    const deleteElements = useCallback(({ nodes: nodesDeleted, edges: edgesDeleted }) => {\n        const { nodeInternals, getNodes, edges, hasDefaultNodes, hasDefaultEdges, onNodesDelete, onEdgesDelete, onNodesChange, onEdgesChange, } = store.getState();\n        const nodeIds = (nodesDeleted || []).map((node) => node.id);\n        const edgeIds = (edgesDeleted || []).map((edge) => edge.id);\n        const nodesToRemove = getNodes().reduce((res, node) => {\n            const parentHit = !nodeIds.includes(node.id) && node.parentNode && res.find((n) => n.id === node.parentNode);\n            const deletable = typeof node.deletable === 'boolean' ? node.deletable : true;\n            if (deletable && (nodeIds.includes(node.id) || parentHit)) {\n                res.push(node);\n            }\n            return res;\n        }, []);\n        const deletableEdges = edges.filter((e) => (typeof e.deletable === 'boolean' ? e.deletable : true));\n        const initialHitEdges = deletableEdges.filter((e) => edgeIds.includes(e.id));\n        if (nodesToRemove || initialHitEdges) {\n            const connectedEdges = getConnectedEdges(nodesToRemove, deletableEdges);\n            const edgesToRemove = [...initialHitEdges, ...connectedEdges];\n            const edgeIdsToRemove = edgesToRemove.reduce((res, edge) => {\n                if (!res.includes(edge.id)) {\n                    res.push(edge.id);\n                }\n                return res;\n            }, []);\n            if (hasDefaultEdges || hasDefaultNodes) {\n                if (hasDefaultEdges) {\n                    store.setState({\n                        edges: edges.filter((e) => !edgeIdsToRemove.includes(e.id)),\n                    });\n                }\n                if (hasDefaultNodes) {\n                    nodesToRemove.forEach((node) => {\n                        nodeInternals.delete(node.id);\n                    });\n                    store.setState({\n                        nodeInternals: new Map(nodeInternals),\n                    });\n                }\n            }\n            if (edgeIdsToRemove.length > 0) {\n                onEdgesDelete?.(edgesToRemove);\n                if (onEdgesChange) {\n                    onEdgesChange(edgeIdsToRemove.map((id) => ({\n                        id,\n                        type: 'remove',\n                    })));\n                }\n            }\n            if (nodesToRemove.length > 0) {\n                onNodesDelete?.(nodesToRemove);\n                if (onNodesChange) {\n                    const nodeChanges = nodesToRemove.map((n) => ({ id: n.id, type: 'remove' }));\n                    onNodesChange(nodeChanges);\n                }\n            }\n        }\n    }, []);\n    const getNodeRect = useCallback((nodeOrRect) => {\n        const isRect = isRectObject(nodeOrRect);\n        const node = isRect ? null : store.getState().nodeInternals.get(nodeOrRect.id);\n        const nodeRect = isRect ? nodeOrRect : nodeToRect(node);\n        return [nodeRect, node, isRect];\n    }, []);\n    const getIntersectingNodes = useCallback((nodeOrRect, partially = true, nodes) => {\n        const [nodeRect, node, isRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return [];\n        }\n        return (nodes || store.getState().getNodes()).filter((n) => {\n            if (!isRect && (n.id === node.id || !n.positionAbsolute)) {\n                return false;\n            }\n            const currNodeRect = nodeToRect(n);\n            const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n            const partiallyVisible = partially && overlappingArea > 0;\n            return partiallyVisible || overlappingArea >= nodeOrRect.width * nodeOrRect.height;\n        });\n    }, []);\n    const isNodeIntersecting = useCallback((nodeOrRect, area, partially = true) => {\n        const [nodeRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return false;\n        }\n        const overlappingArea = getOverlappingArea(nodeRect, area);\n        const partiallyVisible = partially && overlappingArea > 0;\n        return partiallyVisible || overlappingArea >= nodeOrRect.width * nodeOrRect.height;\n    }, []);\n    return useMemo(() => {\n        return {\n            ...viewportHelper,\n            getNodes,\n            getNode,\n            getEdges,\n            getEdge,\n            setNodes,\n            setEdges,\n            addNodes,\n            addEdges,\n            toObject,\n            deleteElements,\n            getIntersectingNodes,\n            isNodeIntersecting,\n        };\n    }, [\n        viewportHelper,\n        getNodes,\n        getNode,\n        getEdges,\n        getEdge,\n        setNodes,\n        setEdges,\n        addNodes,\n        addEdges,\n        toObject,\n        deleteElements,\n        getIntersectingNodes,\n        isNodeIntersecting,\n    ]);\n}\n\nvar useGlobalKeyHandler = ({ deleteKeyCode, multiSelectionKeyCode }) => {\n    const store = useStoreApi();\n    const { deleteElements } = useReactFlow();\n    const deleteKeyPressed = useKeyPress(deleteKeyCode);\n    const multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n    useEffect(() => {\n        if (deleteKeyPressed) {\n            const { edges, getNodes } = store.getState();\n            const selectedNodes = getNodes().filter((node) => node.selected);\n            const selectedEdges = edges.filter((edge) => edge.selected);\n            deleteElements({ nodes: selectedNodes, edges: selectedEdges });\n            store.setState({ nodesSelectionActive: false });\n        }\n    }, [deleteKeyPressed]);\n    useEffect(() => {\n        store.setState({ multiSelectionActive: multiSelectionKeyPressed });\n    }, [multiSelectionKeyPressed]);\n};\n\nfunction useResizeHandler(rendererNode) {\n    const store = useStoreApi();\n    useEffect(() => {\n        let resizeObserver;\n        const updateDimensions = () => {\n            if (!rendererNode.current) {\n                return;\n            }\n            const size = getDimensions(rendererNode.current);\n            if (size.height === 0 || size.width === 0) {\n                store.getState().onError?.('004', errorMessages['error004']());\n            }\n            store.setState({ width: size.width || 500, height: size.height || 500 });\n        };\n        updateDimensions();\n        window.addEventListener('resize', updateDimensions);\n        if (rendererNode.current) {\n            resizeObserver = new ResizeObserver(() => updateDimensions());\n            resizeObserver.observe(rendererNode.current);\n        }\n        return () => {\n            window.removeEventListener('resize', updateDimensions);\n            if (resizeObserver && rendererNode.current) {\n                resizeObserver.unobserve(rendererNode.current);\n            }\n        };\n    }, []);\n}\n\nconst containerStyle = {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n};\n\nconst viewChanged = (prevViewport, eventTransform) => prevViewport.x !== eventTransform.x || prevViewport.y !== eventTransform.y || prevViewport.zoom !== eventTransform.k;\nconst eventToFlowTransform = (eventTransform) => ({\n    x: eventTransform.x,\n    y: eventTransform.y,\n    zoom: eventTransform.k,\n});\nconst isWrappedWithClass = (event, className) => event.target.closest(`.${className}`);\nconst isRightClickPan = (panOnDrag, usedButton) => usedButton === 2 && Array.isArray(panOnDrag) && panOnDrag.includes(2);\nconst wheelDelta = (event) => {\n    const factor = event.ctrlKey && isMacOs() ? 10 : 1;\n    return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * factor;\n};\nconst selector$a = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler,\n    userSelectionActive: s.userSelectionActive,\n});\nconst ZoomPane = ({ onMove, onMoveStart, onMoveEnd, onPaneContextMenu, zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, elementsSelectable, panOnDrag = true, defaultViewport, translateExtent, minZoom, maxZoom, zoomActivationKeyCode, preventScrolling = true, children, noWheelClassName, noPanClassName, }) => {\n    const timerId = useRef();\n    const store = useStoreApi();\n    const isZoomingOrPanning = useRef(false);\n    const zoomedWithRightMouseButton = useRef(false);\n    const zoomPane = useRef(null);\n    const prevTransform = useRef({ x: 0, y: 0, zoom: 0 });\n    const { d3Zoom, d3Selection, d3ZoomHandler, userSelectionActive } = useStore(selector$a, shallow);\n    const zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const mouseButton = useRef(0);\n    const isPanScrolling = useRef(false);\n    const panScrollTimeout = useRef();\n    useResizeHandler(zoomPane);\n    useEffect(() => {\n        if (zoomPane.current) {\n            const bbox = zoomPane.current.getBoundingClientRect();\n            const d3ZoomInstance = zoom().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n            const selection = select(zoomPane.current).call(d3ZoomInstance);\n            const updatedTransform = zoomIdentity\n                .translate(defaultViewport.x, defaultViewport.y)\n                .scale(clamp(defaultViewport.zoom, minZoom, maxZoom));\n            const extent = [\n                [0, 0],\n                [bbox.width, bbox.height],\n            ];\n            const constrainedTransform = d3ZoomInstance.constrain()(updatedTransform, extent, translateExtent);\n            d3ZoomInstance.transform(selection, constrainedTransform);\n            d3ZoomInstance.wheelDelta(wheelDelta);\n            store.setState({\n                d3Zoom: d3ZoomInstance,\n                d3Selection: selection,\n                d3ZoomHandler: selection.on('wheel.zoom'),\n                // we need to pass transform because zoom handler is not registered when we set the initial transform\n                transform: [constrainedTransform.x, constrainedTransform.y, constrainedTransform.k],\n                domNode: zoomPane.current.closest('.react-flow'),\n            });\n        }\n    }, []);\n    useEffect(() => {\n        if (d3Selection && d3Zoom) {\n            if (panOnScroll && !zoomActivationKeyPressed && !userSelectionActive) {\n                d3Selection.on('wheel.zoom', (event) => {\n                    if (isWrappedWithClass(event, noWheelClassName)) {\n                        return false;\n                    }\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    const currentZoom = d3Selection.property('__zoom').k || 1;\n                    const _isMacOs = isMacOs();\n                    // macos sets ctrlKey=true for pinch gesture on a trackpad\n                    if (event.ctrlKey && zoomOnPinch && _isMacOs) {\n                        const point = pointer(event);\n                        const pinchDelta = wheelDelta(event);\n                        const zoom = currentZoom * Math.pow(2, pinchDelta);\n                        // @ts-ignore\n                        d3Zoom.scaleTo(d3Selection, zoom, point, event);\n                        return;\n                    }\n                    // increase scroll speed in firefox\n                    // firefox: deltaMode === 1; chrome: deltaMode === 0\n                    const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n                    let deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n                    let deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n                    // this enables vertical scrolling with shift + scroll on windows\n                    if (!_isMacOs && event.shiftKey && panOnScrollMode !== PanOnScrollMode.Vertical) {\n                        deltaX = event.deltaY * deltaNormalize;\n                        deltaY = 0;\n                    }\n                    d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed, \n                    // @ts-ignore\n                    { internal: true });\n                    const nextViewport = eventToFlowTransform(d3Selection.property('__zoom'));\n                    const { onViewportChangeStart, onViewportChange, onViewportChangeEnd } = store.getState();\n                    clearTimeout(panScrollTimeout.current);\n                    // for pan on scroll we need to handle the event calls on our own\n                    // we can't use the start, zoom and end events from d3-zoom\n                    // because start and move gets called on every scroll event and not once at the beginning\n                    if (!isPanScrolling.current) {\n                        isPanScrolling.current = true;\n                        onMoveStart?.(event, nextViewport);\n                        onViewportChangeStart?.(nextViewport);\n                    }\n                    if (isPanScrolling.current) {\n                        onMove?.(event, nextViewport);\n                        onViewportChange?.(nextViewport);\n                        panScrollTimeout.current = setTimeout(() => {\n                            onMoveEnd?.(event, nextViewport);\n                            onViewportChangeEnd?.(nextViewport);\n                            isPanScrolling.current = false;\n                        }, 150);\n                    }\n                }, { passive: false });\n            }\n            else if (typeof d3ZoomHandler !== 'undefined') {\n                d3Selection.on('wheel.zoom', function (event, d) {\n                    if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n                        return null;\n                    }\n                    event.preventDefault();\n                    d3ZoomHandler.call(this, event, d);\n                }, { passive: false });\n            }\n        }\n    }, [\n        userSelectionActive,\n        panOnScroll,\n        panOnScrollMode,\n        d3Selection,\n        d3Zoom,\n        d3ZoomHandler,\n        zoomActivationKeyPressed,\n        zoomOnPinch,\n        preventScrolling,\n        noWheelClassName,\n        onMoveStart,\n        onMove,\n        onMoveEnd,\n    ]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('start', (event) => {\n                if (!event.sourceEvent || event.sourceEvent.internal) {\n                    return null;\n                }\n                // we need to remember it here, because it's always 0 in the \"zoom\" event\n                mouseButton.current = event.sourceEvent?.button;\n                const { onViewportChangeStart } = store.getState();\n                const flowTransform = eventToFlowTransform(event.transform);\n                isZoomingOrPanning.current = true;\n                prevTransform.current = flowTransform;\n                if (event.sourceEvent?.type === 'mousedown') {\n                    store.setState({ paneDragging: true });\n                }\n                onViewportChangeStart?.(flowTransform);\n                onMoveStart?.(event.sourceEvent, flowTransform);\n            });\n        }\n    }, [d3Zoom, onMoveStart]);\n    useEffect(() => {\n        if (d3Zoom) {\n            if (userSelectionActive && !isZoomingOrPanning.current) {\n                d3Zoom.on('zoom', null);\n            }\n            else if (!userSelectionActive) {\n                d3Zoom.on('zoom', (event) => {\n                    const { onViewportChange } = store.getState();\n                    store.setState({ transform: [event.transform.x, event.transform.y, event.transform.k] });\n                    zoomedWithRightMouseButton.current = !!(onPaneContextMenu && isRightClickPan(panOnDrag, mouseButton.current ?? 0));\n                    if ((onMove || onViewportChange) && !event.sourceEvent?.internal) {\n                        const flowTransform = eventToFlowTransform(event.transform);\n                        onViewportChange?.(flowTransform);\n                        onMove?.(event.sourceEvent, flowTransform);\n                    }\n                });\n            }\n        }\n    }, [userSelectionActive, d3Zoom, onMove, panOnDrag, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('end', (event) => {\n                if (!event.sourceEvent || event.sourceEvent.internal) {\n                    return null;\n                }\n                const { onViewportChangeEnd } = store.getState();\n                isZoomingOrPanning.current = false;\n                store.setState({ paneDragging: false });\n                if (onPaneContextMenu &&\n                    isRightClickPan(panOnDrag, mouseButton.current ?? 0) &&\n                    !zoomedWithRightMouseButton.current) {\n                    onPaneContextMenu(event.sourceEvent);\n                }\n                zoomedWithRightMouseButton.current = false;\n                if ((onMoveEnd || onViewportChangeEnd) && viewChanged(prevTransform.current, event.transform)) {\n                    const flowTransform = eventToFlowTransform(event.transform);\n                    prevTransform.current = flowTransform;\n                    clearTimeout(timerId.current);\n                    timerId.current = setTimeout(() => {\n                        onViewportChangeEnd?.(flowTransform);\n                        onMoveEnd?.(event.sourceEvent, flowTransform);\n                    }, panOnScroll ? 150 : 0);\n                }\n            });\n        }\n    }, [d3Zoom, panOnScroll, panOnDrag, onMoveEnd, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.filter((event) => {\n                const zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n                const pinchZoom = zoomOnPinch && event.ctrlKey;\n                if (event.button === 1 &&\n                    event.type === 'mousedown' &&\n                    (isWrappedWithClass(event, 'react-flow__node') || isWrappedWithClass(event, 'react-flow__edge'))) {\n                    return true;\n                }\n                // if all interactions are disabled, we prevent all zoom events\n                if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n                    return false;\n                }\n                // during a selection we prevent all other interactions\n                if (userSelectionActive) {\n                    return false;\n                }\n                // if zoom on double click is disabled, we prevent the double click event\n                if (!zoomOnDoubleClick && event.type === 'dblclick') {\n                    return false;\n                }\n                // if the target element is inside an element with the nowheel class, we prevent zooming\n                if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n                    return false;\n                }\n                // if the target element is inside an element with the nopan class, we prevent panning\n                if (isWrappedWithClass(event, noPanClassName) && event.type !== 'wheel') {\n                    return false;\n                }\n                if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n                    return false;\n                }\n                // when there is no scroll handling enabled, we prevent all wheel events\n                if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n                    return false;\n                }\n                // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n                if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // if the pane is only movable using allowed clicks\n                if (Array.isArray(panOnDrag) &&\n                    !panOnDrag.includes(event.button) &&\n                    (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // We only allow right clicks if pan on drag is set to right click\n                const buttonAllowed = (Array.isArray(panOnDrag) && panOnDrag.includes(event.button)) || !event.button || event.button <= 1;\n                // default filter for d3-zoom\n                return (!event.ctrlKey || event.type === 'wheel') && buttonAllowed;\n            });\n        }\n    }, [\n        userSelectionActive,\n        d3Zoom,\n        zoomOnScroll,\n        zoomOnPinch,\n        panOnScroll,\n        zoomOnDoubleClick,\n        panOnDrag,\n        elementsSelectable,\n        zoomActivationKeyPressed,\n    ]);\n    return (jsx(\"div\", { className: \"react-flow__renderer\", ref: zoomPane, style: containerStyle, children: children }));\n};\n\nconst selector$9 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    userSelectionRect: s.userSelectionRect,\n});\nfunction UserSelection() {\n    const { userSelectionActive, userSelectionRect } = useStore(selector$9, shallow);\n    const isActive = userSelectionActive && userSelectionRect;\n    if (!isActive) {\n        return null;\n    }\n    return (jsx(\"div\", { className: \"react-flow__selection react-flow__container\", style: {\n            width: userSelectionRect.width,\n            height: userSelectionRect.height,\n            transform: `translate(${userSelectionRect.x}px, ${userSelectionRect.y}px)`,\n        } }));\n}\n\nfunction handleParentExpand(res, updateItem) {\n    const parent = res.find((e) => e.id === updateItem.parentNode);\n    if (parent) {\n        const extendWidth = updateItem.position.x + updateItem.width - parent.width;\n        const extendHeight = updateItem.position.y + updateItem.height - parent.height;\n        if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n            parent.style = { ...parent.style } || {};\n            parent.style.width = parent.style.width ?? parent.width;\n            parent.style.height = parent.style.height ?? parent.height;\n            if (extendWidth > 0) {\n                parent.style.width += extendWidth;\n            }\n            if (extendHeight > 0) {\n                parent.style.height += extendHeight;\n            }\n            if (updateItem.position.x < 0) {\n                const xDiff = Math.abs(updateItem.position.x);\n                parent.position.x = parent.position.x - xDiff;\n                parent.style.width += xDiff;\n                updateItem.position.x = 0;\n            }\n            if (updateItem.position.y < 0) {\n                const yDiff = Math.abs(updateItem.position.y);\n                parent.position.y = parent.position.y - yDiff;\n                parent.style.height += yDiff;\n                updateItem.position.y = 0;\n            }\n            parent.width = parent.style.width;\n            parent.height = parent.style.height;\n        }\n    }\n}\nfunction applyChanges(changes, elements) {\n    // we need this hack to handle the setNodes and setEdges function of the useReactFlow hook for controlled flows\n    if (changes.some((c) => c.type === 'reset')) {\n        return changes.filter((c) => c.type === 'reset').map((c) => c.item);\n    }\n    const initElements = changes.filter((c) => c.type === 'add').map((c) => c.item);\n    return elements.reduce((res, item) => {\n        const currentChanges = changes.filter((c) => c.id === item.id);\n        if (currentChanges.length === 0) {\n            res.push(item);\n            return res;\n        }\n        const updateItem = { ...item };\n        for (const currentChange of currentChanges) {\n            if (currentChange) {\n                switch (currentChange.type) {\n                    case 'select': {\n                        updateItem.selected = currentChange.selected;\n                        break;\n                    }\n                    case 'position': {\n                        if (typeof currentChange.position !== 'undefined') {\n                            updateItem.position = currentChange.position;\n                        }\n                        if (typeof currentChange.positionAbsolute !== 'undefined') {\n                            updateItem.positionAbsolute = currentChange.positionAbsolute;\n                        }\n                        if (typeof currentChange.dragging !== 'undefined') {\n                            updateItem.dragging = currentChange.dragging;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'dimensions': {\n                        if (typeof currentChange.dimensions !== 'undefined') {\n                            updateItem.width = currentChange.dimensions.width;\n                            updateItem.height = currentChange.dimensions.height;\n                        }\n                        if (typeof currentChange.updateStyle !== 'undefined') {\n                            updateItem.style = { ...(updateItem.style || {}), ...currentChange.dimensions };\n                        }\n                        if (typeof currentChange.resizing === 'boolean') {\n                            updateItem.resizing = currentChange.resizing;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'remove': {\n                        return res;\n                    }\n                }\n            }\n        }\n        res.push(updateItem);\n        return res;\n    }, initElements);\n}\nfunction applyNodeChanges(changes, nodes) {\n    return applyChanges(changes, nodes);\n}\nfunction applyEdgeChanges(changes, edges) {\n    return applyChanges(changes, edges);\n}\nconst createSelectionChange = (id, selected) => ({\n    id,\n    type: 'select',\n    selected,\n});\nfunction getSelectionChanges(items, selectedIds) {\n    return items.reduce((res, item) => {\n        const willBeSelected = selectedIds.includes(item.id);\n        if (!item.selected && willBeSelected) {\n            item.selected = true;\n            res.push(createSelectionChange(item.id, true));\n        }\n        else if (item.selected && !willBeSelected) {\n            item.selected = false;\n            res.push(createSelectionChange(item.id, false));\n        }\n        return res;\n    }, []);\n}\n\nconst wrapHandler = (handler, containerRef) => {\n    return (event) => {\n        if (event.target !== containerRef.current) {\n            return;\n        }\n        handler?.(event);\n    };\n};\nconst selector$8 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable,\n    dragging: s.paneDragging,\n});\nconst Pane = memo(({ isSelecting, selectionMode = SelectionMode.Full, panOnDrag, onSelectionStart, onSelectionEnd, onPaneClick, onPaneContextMenu, onPaneScroll, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, children, }) => {\n    const container = useRef(null);\n    const store = useStoreApi();\n    const prevSelectedNodesCount = useRef(0);\n    const prevSelectedEdgesCount = useRef(0);\n    const containerBounds = useRef();\n    const { userSelectionActive, elementsSelectable, dragging } = useStore(selector$8, shallow);\n    const resetUserSelection = () => {\n        store.setState({ userSelectionActive: false, userSelectionRect: null });\n        prevSelectedNodesCount.current = 0;\n        prevSelectedEdgesCount.current = 0;\n    };\n    const onClick = (event) => {\n        onPaneClick?.(event);\n        store.getState().resetSelectedElements();\n        store.setState({ nodesSelectionActive: false });\n    };\n    const onContextMenu = (event) => {\n        if (Array.isArray(panOnDrag) && panOnDrag?.includes(2)) {\n            event.preventDefault();\n            return;\n        }\n        onPaneContextMenu?.(event);\n    };\n    const onWheel = onPaneScroll ? (event) => onPaneScroll(event) : undefined;\n    const onMouseDown = (event) => {\n        const { resetSelectedElements, domNode } = store.getState();\n        containerBounds.current = domNode?.getBoundingClientRect();\n        if (!elementsSelectable ||\n            !isSelecting ||\n            event.button !== 0 ||\n            event.target !== container.current ||\n            !containerBounds.current) {\n            return;\n        }\n        const { x, y } = getEventPosition(event, containerBounds.current);\n        resetSelectedElements();\n        store.setState({\n            userSelectionRect: {\n                width: 0,\n                height: 0,\n                startX: x,\n                startY: y,\n                x,\n                y,\n            },\n        });\n        onSelectionStart?.(event);\n    };\n    const onMouseMove = (event) => {\n        const { userSelectionRect, nodeInternals, edges, transform, onNodesChange, onEdgesChange, nodeOrigin, getNodes } = store.getState();\n        if (!isSelecting || !containerBounds.current || !userSelectionRect) {\n            return;\n        }\n        store.setState({ userSelectionActive: true, nodesSelectionActive: false });\n        const mousePos = getEventPosition(event, containerBounds.current);\n        const startX = userSelectionRect.startX ?? 0;\n        const startY = userSelectionRect.startY ?? 0;\n        const nextUserSelectRect = {\n            ...userSelectionRect,\n            x: mousePos.x < startX ? mousePos.x : startX,\n            y: mousePos.y < startY ? mousePos.y : startY,\n            width: Math.abs(mousePos.x - startX),\n            height: Math.abs(mousePos.y - startY),\n        };\n        const nodes = getNodes();\n        const selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform, selectionMode === SelectionMode.Partial, true, nodeOrigin);\n        const selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map((e) => e.id);\n        const selectedNodeIds = selectedNodes.map((n) => n.id);\n        if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n            prevSelectedNodesCount.current = selectedNodeIds.length;\n            const changes = getSelectionChanges(nodes, selectedNodeIds);\n            if (changes.length) {\n                onNodesChange?.(changes);\n            }\n        }\n        if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n            prevSelectedEdgesCount.current = selectedEdgeIds.length;\n            const changes = getSelectionChanges(edges, selectedEdgeIds);\n            if (changes.length) {\n                onEdgesChange?.(changes);\n            }\n        }\n        store.setState({\n            userSelectionRect: nextUserSelectRect,\n        });\n    };\n    const onMouseUp = (event) => {\n        if (event.button !== 0) {\n            return;\n        }\n        const { userSelectionRect } = store.getState();\n        // We only want to trigger click functions when in selection mode if\n        // the user did not move the mouse.\n        if (!userSelectionActive && userSelectionRect && event.target === container.current) {\n            onClick?.(event);\n        }\n        store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n        resetUserSelection();\n        onSelectionEnd?.(event);\n    };\n    const onMouseLeave = (event) => {\n        if (userSelectionActive) {\n            store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n            onSelectionEnd?.(event);\n        }\n        resetUserSelection();\n    };\n    const hasActiveSelection = elementsSelectable && (isSelecting || userSelectionActive);\n    return (jsxs(\"div\", { className: cc(['react-flow__pane', { dragging, selection: isSelecting }]), onClick: hasActiveSelection ? undefined : wrapHandler(onClick, container), onContextMenu: wrapHandler(onContextMenu, container), onWheel: wrapHandler(onWheel, container), onMouseEnter: hasActiveSelection ? undefined : onPaneMouseEnter, onMouseDown: hasActiveSelection ? onMouseDown : undefined, onMouseMove: hasActiveSelection ? onMouseMove : onPaneMouseMove, onMouseUp: hasActiveSelection ? onMouseUp : undefined, onMouseLeave: hasActiveSelection ? onMouseLeave : onPaneMouseLeave, ref: container, style: containerStyle, children: [children, jsx(UserSelection, {})] }));\n});\nPane.displayName = 'Pane';\n\nfunction isParentSelected(node, nodeInternals) {\n    if (!node.parentNode) {\n        return false;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    if (!parentNode) {\n        return false;\n    }\n    if (parentNode.selected) {\n        return true;\n    }\n    return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n    let current = target;\n    do {\n        if (current?.matches(selector))\n            return true;\n        if (current === nodeRef.current)\n            return false;\n        current = current.parentElement;\n    } while (current);\n    return false;\n}\n// looks for all selected nodes and created a NodeDragItem for each of them\nfunction getDragItems(nodeInternals, nodesDraggable, mousePos, nodeId) {\n    return Array.from(nodeInternals.values())\n        .filter((n) => (n.selected || n.id === nodeId) &&\n        (!n.parentNode || !isParentSelected(n, nodeInternals)) &&\n        (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')))\n        .map((n) => ({\n        id: n.id,\n        position: n.position || { x: 0, y: 0 },\n        positionAbsolute: n.positionAbsolute || { x: 0, y: 0 },\n        distance: {\n            x: mousePos.x - (n.positionAbsolute?.x ?? 0),\n            y: mousePos.y - (n.positionAbsolute?.y ?? 0),\n        },\n        delta: {\n            x: 0,\n            y: 0,\n        },\n        extent: n.extent,\n        parentNode: n.parentNode,\n        width: n.width,\n        height: n.height,\n    }));\n}\nfunction clampNodeExtent(node, extent) {\n    if (!extent || extent === 'parent') {\n        return extent;\n    }\n    return [extent[0], [extent[1][0] - (node.width || 0), extent[1][1] - (node.height || 0)]];\n}\nfunction calcNextPosition(node, nextPosition, nodeInternals, nodeExtent, nodeOrigin = [0, 0], onError) {\n    const clampedNodeExtent = clampNodeExtent(node, node.extent || nodeExtent);\n    let currentExtent = clampedNodeExtent;\n    if (node.extent === 'parent') {\n        if (node.parentNode && node.width && node.height) {\n            const parent = nodeInternals.get(node.parentNode);\n            const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n            currentExtent =\n                parent && isNumeric(parentX) && isNumeric(parentY) && isNumeric(parent.width) && isNumeric(parent.height)\n                    ? [\n                        [parentX + node.width * nodeOrigin[0], parentY + node.height * nodeOrigin[1]],\n                        [\n                            parentX + parent.width - node.width + node.width * nodeOrigin[0],\n                            parentY + parent.height - node.height + node.height * nodeOrigin[1],\n                        ],\n                    ]\n                    : currentExtent;\n        }\n        else {\n            onError?.('005', errorMessages['error005']());\n            currentExtent = clampedNodeExtent;\n        }\n    }\n    else if (node.extent && node.parentNode) {\n        const parent = nodeInternals.get(node.parentNode);\n        const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n        currentExtent = [\n            [node.extent[0][0] + parentX, node.extent[0][1] + parentY],\n            [node.extent[1][0] + parentX, node.extent[1][1] + parentY],\n        ];\n    }\n    let parentPosition = { x: 0, y: 0 };\n    if (node.parentNode) {\n        const parentNode = nodeInternals.get(node.parentNode);\n        parentPosition = getNodePositionWithOrigin(parentNode, nodeOrigin).positionAbsolute;\n    }\n    const positionAbsolute = currentExtent && currentExtent !== 'parent'\n        ? clampPosition(nextPosition, currentExtent)\n        : nextPosition;\n    return {\n        position: {\n            x: positionAbsolute.x - parentPosition.x,\n            y: positionAbsolute.y - parentPosition.y,\n        },\n        positionAbsolute,\n    };\n}\n// returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\nfunction getEventHandlerParams({ nodeId, dragItems, nodeInternals, }) {\n    const extentedDragItems = dragItems.map((n) => {\n        const node = nodeInternals.get(n.id);\n        return {\n            ...node,\n            position: n.position,\n            positionAbsolute: n.positionAbsolute,\n        };\n    });\n    return [nodeId ? extentedDragItems.find((n) => n.id === nodeId) : extentedDragItems[0], extentedDragItems];\n}\n\nconst getHandleBounds = (selector, nodeElement, zoom, nodeOrigin) => {\n    const handles = nodeElement.querySelectorAll(selector);\n    if (!handles || !handles.length) {\n        return null;\n    }\n    const handlesArray = Array.from(handles);\n    const nodeBounds = nodeElement.getBoundingClientRect();\n    const nodeOffset = {\n        x: nodeBounds.width * nodeOrigin[0],\n        y: nodeBounds.height * nodeOrigin[1],\n    };\n    return handlesArray.map((handle) => {\n        const handleBounds = handle.getBoundingClientRect();\n        return {\n            id: handle.getAttribute('data-handleid'),\n            position: handle.getAttribute('data-handlepos'),\n            x: (handleBounds.left - nodeBounds.left - nodeOffset.x) / zoom,\n            y: (handleBounds.top - nodeBounds.top - nodeOffset.y) / zoom,\n            ...getDimensions(handle),\n        };\n    });\n};\nfunction getMouseHandler(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const node = getState().nodeInternals.get(id);\n            if (node) {\n                handler(event, { ...node });\n            }\n        };\n}\n// this handler is called by\n// 1. the click handler when node is not draggable or selectNodesOnDrag = false\n// or\n// 2. the on drag start handler when node is draggable and selectNodesOnDrag = true\nfunction handleNodeClick({ id, store, unselect = false, nodeRef, }) {\n    const { addSelectedNodes, unselectNodesAndEdges, multiSelectionActive, nodeInternals, onError } = store.getState();\n    const node = nodeInternals.get(id);\n    if (!node) {\n        onError?.('012', errorMessages['error012'](id));\n        return;\n    }\n    store.setState({ nodesSelectionActive: false });\n    if (!node.selected) {\n        addSelectedNodes([id]);\n    }\n    else if (unselect || (node.selected && multiSelectionActive)) {\n        unselectNodesAndEdges({ nodes: [node] });\n        requestAnimationFrame(() => nodeRef?.current?.blur());\n    }\n}\n\nfunction useGetPointerPosition() {\n    const store = useStoreApi();\n    // returns the pointer position projected to the RF coordinate system\n    const getPointerPosition = useCallback(({ sourceEvent }) => {\n        const { transform, snapGrid, snapToGrid } = store.getState();\n        const x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n        const y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n        const pointerPos = {\n            x: (x - transform[0]) / transform[2],\n            y: (y - transform[1]) / transform[2],\n        };\n        // we need the snapped position in order to be able to skip unnecessary drag events\n        return {\n            xSnapped: snapToGrid ? snapGrid[0] * Math.round(pointerPos.x / snapGrid[0]) : pointerPos.x,\n            ySnapped: snapToGrid ? snapGrid[1] * Math.round(pointerPos.y / snapGrid[1]) : pointerPos.y,\n            ...pointerPos,\n        };\n    }, []);\n    return getPointerPosition;\n}\n\nfunction wrapSelectionDragFunc(selectionFunc) {\n    return (event, _, nodes) => selectionFunc?.(event, nodes);\n}\nfunction useDrag({ nodeRef, disabled = false, noDragClassName, handleSelector, nodeId, isSelectable, selectNodesOnDrag, }) {\n    const store = useStoreApi();\n    const [dragging, setDragging] = useState(false);\n    const dragItems = useRef([]);\n    const lastPos = useRef({ x: null, y: null });\n    const autoPanId = useRef(0);\n    const containerBounds = useRef(null);\n    const mousePosition = useRef({ x: 0, y: 0 });\n    const dragEvent = useRef(null);\n    const autoPanStarted = useRef(false);\n    const getPointerPosition = useGetPointerPosition();\n    useEffect(() => {\n        if (nodeRef?.current) {\n            const selection = select(nodeRef.current);\n            const updateNodes = ({ x, y }) => {\n                const { nodeInternals, onNodeDrag, onSelectionDrag, updateNodePositions, nodeExtent, snapGrid, snapToGrid, nodeOrigin, onError, } = store.getState();\n                lastPos.current = { x, y };\n                let hasChange = false;\n                let nodesBox = { x: 0, y: 0, x2: 0, y2: 0 };\n                if (dragItems.current.length > 1 && nodeExtent) {\n                    const rect = getRectOfNodes(dragItems.current, nodeOrigin);\n                    nodesBox = rectToBox(rect);\n                }\n                dragItems.current = dragItems.current.map((n) => {\n                    const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };\n                    if (snapToGrid) {\n                        nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                        nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                    }\n                    // if there is selection with multiple nodes and a node extent is set, we need to adjust the node extent for each node\n                    // based on its position so that the node stays at it's position relative to the selection.\n                    const adjustedNodeExtent = [\n                        [nodeExtent[0][0], nodeExtent[0][1]],\n                        [nodeExtent[1][0], nodeExtent[1][1]],\n                    ];\n                    if (dragItems.current.length > 1 && nodeExtent && !n.extent) {\n                        adjustedNodeExtent[0][0] = n.positionAbsolute.x - nodesBox.x + nodeExtent[0][0];\n                        adjustedNodeExtent[1][0] = n.positionAbsolute.x + (n.width ?? 0) - nodesBox.x2 + nodeExtent[1][0];\n                        adjustedNodeExtent[0][1] = n.positionAbsolute.y - nodesBox.y + nodeExtent[0][1];\n                        adjustedNodeExtent[1][1] = n.positionAbsolute.y + (n.height ?? 0) - nodesBox.y2 + nodeExtent[1][1];\n                    }\n                    const updatedPos = calcNextPosition(n, nextPosition, nodeInternals, adjustedNodeExtent, nodeOrigin, onError);\n                    // we want to make sure that we only fire a change event when there is a change\n                    hasChange = hasChange || n.position.x !== updatedPos.position.x || n.position.y !== updatedPos.position.y;\n                    n.position = updatedPos.position;\n                    n.positionAbsolute = updatedPos.positionAbsolute;\n                    return n;\n                });\n                if (!hasChange) {\n                    return;\n                }\n                updateNodePositions(dragItems.current, true, true);\n                setDragging(true);\n                const onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n                if (onDrag && dragEvent.current) {\n                    const [currentNode, nodes] = getEventHandlerParams({\n                        nodeId,\n                        dragItems: dragItems.current,\n                        nodeInternals,\n                    });\n                    onDrag(dragEvent.current, currentNode, nodes);\n                }\n            };\n            const autoPan = () => {\n                if (!containerBounds.current) {\n                    return;\n                }\n                const [xMovement, yMovement] = calcAutoPan(mousePosition.current, containerBounds.current);\n                if (xMovement !== 0 || yMovement !== 0) {\n                    const { transform, panBy } = store.getState();\n                    lastPos.current.x = (lastPos.current.x ?? 0) - xMovement / transform[2];\n                    lastPos.current.y = (lastPos.current.y ?? 0) - yMovement / transform[2];\n                    if (panBy({ x: xMovement, y: yMovement })) {\n                        updateNodes(lastPos.current);\n                    }\n                }\n                autoPanId.current = requestAnimationFrame(autoPan);\n            };\n            if (disabled) {\n                selection.on('.drag', null);\n            }\n            else {\n                const dragHandler = drag()\n                    .on('start', (event) => {\n                    const { nodeInternals, multiSelectionActive, domNode, nodesDraggable, unselectNodesAndEdges, onNodeDragStart, onSelectionDragStart, } = store.getState();\n                    const onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n                    if (!selectNodesOnDrag && !multiSelectionActive && nodeId) {\n                        if (!nodeInternals.get(nodeId)?.selected) {\n                            // we need to reset selected nodes when selectNodesOnDrag=false\n                            unselectNodesAndEdges();\n                        }\n                    }\n                    if (nodeId && isSelectable && selectNodesOnDrag) {\n                        handleNodeClick({\n                            id: nodeId,\n                            store,\n                            nodeRef: nodeRef,\n                        });\n                    }\n                    const pointerPos = getPointerPosition(event);\n                    lastPos.current = pointerPos;\n                    dragItems.current = getDragItems(nodeInternals, nodesDraggable, pointerPos, nodeId);\n                    if (onStart && dragItems.current) {\n                        const [currentNode, nodes] = getEventHandlerParams({\n                            nodeId,\n                            dragItems: dragItems.current,\n                            nodeInternals,\n                        });\n                        onStart(event.sourceEvent, currentNode, nodes);\n                    }\n                    containerBounds.current = domNode?.getBoundingClientRect() || null;\n                    mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                })\n                    .on('drag', (event) => {\n                    const pointerPos = getPointerPosition(event);\n                    const { autoPanOnNodeDrag } = store.getState();\n                    if (!autoPanStarted.current && autoPanOnNodeDrag) {\n                        autoPanStarted.current = true;\n                        autoPan();\n                    }\n                    // skip events without movement\n                    if ((lastPos.current.x !== pointerPos.xSnapped || lastPos.current.y !== pointerPos.ySnapped) &&\n                        dragItems.current) {\n                        dragEvent.current = event.sourceEvent;\n                        mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                        updateNodes(pointerPos);\n                    }\n                })\n                    .on('end', (event) => {\n                    setDragging(false);\n                    autoPanStarted.current = false;\n                    cancelAnimationFrame(autoPanId.current);\n                    if (dragItems.current) {\n                        const { updateNodePositions, nodeInternals, onNodeDragStop, onSelectionDragStop } = store.getState();\n                        const onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n                        updateNodePositions(dragItems.current, false, false);\n                        if (onStop) {\n                            const [currentNode, nodes] = getEventHandlerParams({\n                                nodeId,\n                                dragItems: dragItems.current,\n                                nodeInternals,\n                            });\n                            onStop(event.sourceEvent, currentNode, nodes);\n                        }\n                    }\n                })\n                    .filter((event) => {\n                    const target = event.target;\n                    const isDraggable = !event.button &&\n                        (!noDragClassName || !hasSelector(target, `.${noDragClassName}`, nodeRef)) &&\n                        (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n                    return isDraggable;\n                });\n                selection.call(dragHandler);\n                return () => {\n                    selection.on('.drag', null);\n                };\n            }\n        }\n    }, [\n        nodeRef,\n        disabled,\n        noDragClassName,\n        handleSelector,\n        isSelectable,\n        store,\n        nodeId,\n        selectNodesOnDrag,\n        getPointerPosition,\n    ]);\n    return dragging;\n}\n\nfunction useUpdateNodePositions() {\n    const store = useStoreApi();\n    const updatePositions = useCallback((params) => {\n        const { nodeInternals, nodeExtent, updateNodePositions, getNodes, snapToGrid, snapGrid, onError, nodesDraggable } = store.getState();\n        const selectedNodes = getNodes().filter((n) => n.selected && (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')));\n        // by default a node moves 5px on each key press, or 20px if shift is pressed\n        // if snap grid is enabled, we use that for the velocity.\n        const xVelo = snapToGrid ? snapGrid[0] : 5;\n        const yVelo = snapToGrid ? snapGrid[1] : 5;\n        const factor = params.isShiftPressed ? 4 : 1;\n        const positionDiffX = params.x * xVelo * factor;\n        const positionDiffY = params.y * yVelo * factor;\n        const nodeUpdates = selectedNodes.map((n) => {\n            if (n.positionAbsolute) {\n                const nextPosition = { x: n.positionAbsolute.x + positionDiffX, y: n.positionAbsolute.y + positionDiffY };\n                if (snapToGrid) {\n                    nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                    nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                }\n                const { positionAbsolute, position } = calcNextPosition(n, nextPosition, nodeInternals, nodeExtent, undefined, onError);\n                n.position = position;\n                n.positionAbsolute = positionAbsolute;\n            }\n            return n;\n        });\n        updateNodePositions(nodeUpdates, true, false);\n    }, []);\n    return updatePositions;\n}\n\nconst arrowKeyDiffs = {\n    ArrowUp: { x: 0, y: -1 },\n    ArrowDown: { x: 0, y: 1 },\n    ArrowLeft: { x: -1, y: 0 },\n    ArrowRight: { x: 1, y: 0 },\n};\nvar wrapNode = (NodeComponent) => {\n    const NodeWrapper = ({ id, type, data, xPos, yPos, xPosOrigin, yPosOrigin, selected, onClick, onMouseEnter, onMouseMove, onMouseLeave, onContextMenu, onDoubleClick, style, className, isDraggable, isSelectable, isConnectable, isFocusable, selectNodesOnDrag, sourcePosition, targetPosition, hidden, resizeObserver, dragHandle, zIndex, isParent, noDragClassName, noPanClassName, initialized, disableKeyboardA11y, ariaLabel, rfId, }) => {\n        const store = useStoreApi();\n        const nodeRef = useRef(null);\n        const prevSourcePosition = useRef(sourcePosition);\n        const prevTargetPosition = useRef(targetPosition);\n        const prevType = useRef(type);\n        const hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n        const updatePositions = useUpdateNodePositions();\n        const onMouseEnterHandler = getMouseHandler(id, store.getState, onMouseEnter);\n        const onMouseMoveHandler = getMouseHandler(id, store.getState, onMouseMove);\n        const onMouseLeaveHandler = getMouseHandler(id, store.getState, onMouseLeave);\n        const onContextMenuHandler = getMouseHandler(id, store.getState, onContextMenu);\n        const onDoubleClickHandler = getMouseHandler(id, store.getState, onDoubleClick);\n        const onSelectNodeHandler = (event) => {\n            if (isSelectable && (!selectNodesOnDrag || !isDraggable)) {\n                // this handler gets called within the drag start event when selectNodesOnDrag=true\n                handleNodeClick({\n                    id,\n                    store,\n                    nodeRef,\n                });\n            }\n            if (onClick) {\n                const node = store.getState().nodeInternals.get(id);\n                if (node) {\n                    onClick(event, { ...node });\n                }\n            }\n        };\n        const onKeyDown = (event) => {\n            if (isInputDOMNode(event)) {\n                return;\n            }\n            if (elementSelectionKeys.includes(event.key) && isSelectable) {\n                const unselect = event.key === 'Escape';\n                handleNodeClick({\n                    id,\n                    store,\n                    unselect,\n                    nodeRef,\n                });\n            }\n            else if (!disableKeyboardA11y &&\n                isDraggable &&\n                selected &&\n                Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n                store.setState({\n                    ariaLiveMessage: `Moved selected node ${event.key\n                        .replace('Arrow', '')\n                        .toLowerCase()}. New position, x: ${~~xPos}, y: ${~~yPos}`,\n                });\n                updatePositions({\n                    x: arrowKeyDiffs[event.key].x,\n                    y: arrowKeyDiffs[event.key].y,\n                    isShiftPressed: event.shiftKey,\n                });\n            }\n        };\n        useEffect(() => {\n            if (nodeRef.current && !hidden) {\n                const currNode = nodeRef.current;\n                resizeObserver?.observe(currNode);\n                return () => resizeObserver?.unobserve(currNode);\n            }\n        }, [hidden]);\n        useEffect(() => {\n            // when the user programmatically changes the source or handle position, we re-initialize the node\n            const typeChanged = prevType.current !== type;\n            const sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n            const targetPosChanged = prevTargetPosition.current !== targetPosition;\n            if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n                if (typeChanged) {\n                    prevType.current = type;\n                }\n                if (sourcePosChanged) {\n                    prevSourcePosition.current = sourcePosition;\n                }\n                if (targetPosChanged) {\n                    prevTargetPosition.current = targetPosition;\n                }\n                store.getState().updateNodeDimensions([{ id, nodeElement: nodeRef.current, forceUpdate: true }]);\n            }\n        }, [id, type, sourcePosition, targetPosition]);\n        const dragging = useDrag({\n            nodeRef,\n            disabled: hidden || !isDraggable,\n            noDragClassName,\n            handleSelector: dragHandle,\n            nodeId: id,\n            isSelectable,\n            selectNodesOnDrag,\n        });\n        if (hidden) {\n            return null;\n        }\n        return (jsx(\"div\", { className: cc([\n                'react-flow__node',\n                `react-flow__node-${type}`,\n                {\n                    // this is overwritable by passing `nopan` as a class name\n                    [noPanClassName]: isDraggable,\n                },\n                className,\n                {\n                    selected,\n                    selectable: isSelectable,\n                    parent: isParent,\n                    dragging,\n                },\n            ]), ref: nodeRef, style: {\n                zIndex,\n                transform: `translate(${xPosOrigin}px,${yPosOrigin}px)`,\n                pointerEvents: hasPointerEvents ? 'all' : 'none',\n                visibility: initialized ? 'visible' : 'hidden',\n                ...style,\n            }, \"data-id\": id, \"data-testid\": `rf__node-${id}`, onMouseEnter: onMouseEnterHandler, onMouseMove: onMouseMoveHandler, onMouseLeave: onMouseLeaveHandler, onContextMenu: onContextMenuHandler, onClick: onSelectNodeHandler, onDoubleClick: onDoubleClickHandler, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : undefined, \"aria-describedby\": disableKeyboardA11y ? undefined : `${ARIA_NODE_DESC_KEY}-${rfId}`, \"aria-label\": ariaLabel, children: jsx(Provider, { value: id, children: jsx(NodeComponent, { id: id, data: data, type: type, xPos: xPos, yPos: yPos, selected: selected, isConnectable: isConnectable, sourcePosition: sourcePosition, targetPosition: targetPosition, dragging: dragging, dragHandle: dragHandle, zIndex: zIndex }) }) }));\n    };\n    NodeWrapper.displayName = 'NodeWrapper';\n    return memo(NodeWrapper);\n};\n\nconst selector$7 = (s) => {\n    const selectedNodes = s.getNodes().filter((n) => n.selected);\n    return {\n        ...getRectOfNodes(selectedNodes, s.nodeOrigin),\n        transformString: `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`,\n        userSelectionActive: s.userSelectionActive,\n    };\n};\nfunction NodesSelection({ onSelectionContextMenu, noPanClassName, disableKeyboardA11y }) {\n    const store = useStoreApi();\n    const { width, height, x: left, y: top, transformString, userSelectionActive } = useStore(selector$7, shallow);\n    const updatePositions = useUpdateNodePositions();\n    const nodeRef = useRef(null);\n    useEffect(() => {\n        if (!disableKeyboardA11y) {\n            nodeRef.current?.focus({\n                preventScroll: true,\n            });\n        }\n    }, [disableKeyboardA11y]);\n    useDrag({\n        nodeRef,\n    });\n    if (userSelectionActive || !width || !height) {\n        return null;\n    }\n    const onContextMenu = onSelectionContextMenu\n        ? (event) => {\n            const selectedNodes = store\n                .getState()\n                .getNodes()\n                .filter((n) => n.selected);\n            onSelectionContextMenu(event, selectedNodes);\n        }\n        : undefined;\n    const onKeyDown = (event) => {\n        if (Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n            updatePositions({\n                x: arrowKeyDiffs[event.key].x,\n                y: arrowKeyDiffs[event.key].y,\n                isShiftPressed: event.shiftKey,\n            });\n        }\n    };\n    return (jsx(\"div\", { className: cc(['react-flow__nodesselection', 'react-flow__container', noPanClassName]), style: {\n            transform: transformString,\n        }, children: jsx(\"div\", { ref: nodeRef, className: \"react-flow__nodesselection-rect\", onContextMenu: onContextMenu, tabIndex: disableKeyboardA11y ? undefined : -1, onKeyDown: disableKeyboardA11y ? undefined : onKeyDown, style: {\n                width,\n                height,\n                top,\n                left,\n            } }) }));\n}\nvar NodesSelection$1 = memo(NodesSelection);\n\nconst selector$6 = (s) => s.nodesSelectionActive;\nconst FlowRenderer = ({ children, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneContextMenu, onPaneScroll, deleteKeyCode, onMove, onMoveStart, onMoveEnd, selectionKeyCode, selectionOnDrag, selectionMode, onSelectionStart, onSelectionEnd, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, elementsSelectable, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag: _panOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, onSelectionContextMenu, noWheelClassName, noPanClassName, disableKeyboardA11y, }) => {\n    const nodesSelectionActive = useStore(selector$6);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const panActivationKeyPressed = useKeyPress(panActivationKeyCode);\n    const panOnDrag = panActivationKeyPressed || _panOnDrag;\n    const isSelecting = selectionKeyPressed || (selectionOnDrag && panOnDrag !== true);\n    useGlobalKeyHandler({ deleteKeyCode, multiSelectionKeyCode });\n    return (jsx(ZoomPane, { onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onPaneContextMenu: onPaneContextMenu, elementsSelectable: elementsSelectable, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, zoomOnDoubleClick: zoomOnDoubleClick, panOnDrag: !selectionKeyPressed && panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, zoomActivationKeyCode: zoomActivationKeyCode, preventScrolling: preventScrolling, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, children: jsxs(Pane, { onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, panOnDrag: panOnDrag, isSelecting: !!isSelecting, selectionMode: selectionMode, children: [children, nodesSelectionActive && (jsx(NodesSelection$1, { onSelectionContextMenu: onSelectionContextMenu, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y }))] }) }));\n};\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = memo(FlowRenderer);\n\nfunction useVisibleNodes(onlyRenderVisible) {\n    const nodes = useStore(useCallback((s) => onlyRenderVisible\n        ? getNodesInside(s.nodeInternals, { x: 0, y: 0, width: s.width, height: s.height }, s.transform, true)\n        : s.getNodes(), [onlyRenderVisible]));\n    return nodes;\n}\n\nfunction createNodeTypes(nodeTypes) {\n    const standardTypes = {\n        input: wrapNode((nodeTypes.input || InputNode$1)),\n        default: wrapNode((nodeTypes.default || DefaultNode$1)),\n        output: wrapNode((nodeTypes.output || OutputNode$1)),\n        group: wrapNode((nodeTypes.group || GroupNode)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(nodeTypes)\n        .filter((k) => !['input', 'default', 'output', 'group'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapNode((nodeTypes[key] || DefaultNode$1));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nconst getPositionWithOrigin = ({ x, y, width, height, origin, }) => {\n    if (!width || !height) {\n        return { x, y };\n    }\n    if (origin[0] < 0 || origin[1] < 0 || origin[0] > 1 || origin[1] > 1) {\n        return { x, y };\n    }\n    return {\n        x: x - width * origin[0],\n        y: y - height * origin[1],\n    };\n};\n\nconst selector$5 = (s) => ({\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    nodesFocusable: s.nodesFocusable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions,\n    onError: s.onError,\n});\nconst NodeRenderer = (props) => {\n    const { nodesDraggable, nodesConnectable, nodesFocusable, elementsSelectable, updateNodeDimensions, onError } = useStore(selector$5, shallow);\n    const nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n    const resizeObserverRef = useRef();\n    const resizeObserver = useMemo(() => {\n        if (typeof ResizeObserver === 'undefined') {\n            return null;\n        }\n        const observer = new ResizeObserver((entries) => {\n            const updates = entries.map((entry) => ({\n                id: entry.target.getAttribute('data-id'),\n                nodeElement: entry.target,\n                forceUpdate: true,\n            }));\n            updateNodeDimensions(updates);\n        });\n        resizeObserverRef.current = observer;\n        return observer;\n    }, []);\n    useEffect(() => {\n        return () => {\n            resizeObserverRef?.current?.disconnect();\n        };\n    }, []);\n    return (jsx(\"div\", { className: \"react-flow__nodes\", style: containerStyle, children: nodes.map((node) => {\n            let nodeType = node.type || 'default';\n            if (!props.nodeTypes[nodeType]) {\n                onError?.('003', errorMessages['error003'](nodeType));\n                nodeType = 'default';\n            }\n            const NodeComponent = (props.nodeTypes[nodeType] || props.nodeTypes.default);\n            const isDraggable = !!(node.draggable || (nodesDraggable && typeof node.draggable === 'undefined'));\n            const isSelectable = !!(node.selectable || (elementsSelectable && typeof node.selectable === 'undefined'));\n            const isConnectable = !!(node.connectable || (nodesConnectable && typeof node.connectable === 'undefined'));\n            const isFocusable = !!(node.focusable || (nodesFocusable && typeof node.focusable === 'undefined'));\n            const clampedPosition = props.nodeExtent\n                ? clampPosition(node.positionAbsolute, props.nodeExtent)\n                : node.positionAbsolute;\n            const posX = clampedPosition?.x ?? 0;\n            const posY = clampedPosition?.y ?? 0;\n            const posOrigin = getPositionWithOrigin({\n                x: posX,\n                y: posY,\n                width: node.width ?? 0,\n                height: node.height ?? 0,\n                origin: props.nodeOrigin,\n            });\n            return (jsx(NodeComponent, { id: node.id, className: node.className, style: node.style, type: nodeType, data: node.data, sourcePosition: node.sourcePosition || Position.Bottom, targetPosition: node.targetPosition || Position.Top, hidden: node.hidden, xPos: posX, yPos: posY, xPosOrigin: posOrigin.x, yPosOrigin: posOrigin.y, selectNodesOnDrag: props.selectNodesOnDrag, onClick: props.onNodeClick, onMouseEnter: props.onNodeMouseEnter, onMouseMove: props.onNodeMouseMove, onMouseLeave: props.onNodeMouseLeave, onContextMenu: props.onNodeContextMenu, onDoubleClick: props.onNodeDoubleClick, selected: !!node.selected, isDraggable: isDraggable, isSelectable: isSelectable, isConnectable: isConnectable, isFocusable: isFocusable, resizeObserver: resizeObserver, dragHandle: node.dragHandle, zIndex: node[internalsSymbol]?.z ?? 0, isParent: !!node[internalsSymbol]?.isParent, noDragClassName: props.noDragClassName, noPanClassName: props.noPanClassName, initialized: !!node.width && !!node.height, rfId: props.rfId, disableKeyboardA11y: props.disableKeyboardA11y, ariaLabel: node.ariaLabel }, node.id));\n        }) }));\n};\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = memo(NodeRenderer);\n\nconst shiftX = (x, shift, position) => {\n    if (position === Position.Left)\n        return x - shift;\n    if (position === Position.Right)\n        return x + shift;\n    return x;\n};\nconst shiftY = (y, shift, position) => {\n    if (position === Position.Top)\n        return y - shift;\n    if (position === Position.Bottom)\n        return y + shift;\n    return y;\n};\nconst EdgeUpdaterClassName = 'react-flow__edgeupdater';\nconst EdgeAnchor = ({ position, centerX, centerY, radius = 10, onMouseDown, onMouseEnter, onMouseOut, type, }) => (jsx(\"circle\", { onMouseDown: onMouseDown, onMouseEnter: onMouseEnter, onMouseOut: onMouseOut, className: cc([EdgeUpdaterClassName, `${EdgeUpdaterClassName}-${type}`]), cx: shiftX(centerX, radius, position), cy: shiftY(centerY, radius, position), r: radius, stroke: \"transparent\", fill: \"transparent\" }));\n\nconst alwaysValidConnection = () => true;\nvar wrapEdge = (EdgeComponent) => {\n    const EdgeWrapper = ({ id, className, type, data, onClick, onEdgeDoubleClick, selected, animated, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, source, target, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, elementsSelectable, hidden, sourceHandleId, targetHandleId, onContextMenu, onMouseEnter, onMouseMove, onMouseLeave, edgeUpdaterRadius, onEdgeUpdate, onEdgeUpdateStart, onEdgeUpdateEnd, markerEnd, markerStart, rfId, ariaLabel, isFocusable, isUpdatable, pathOptions, interactionWidth, }) => {\n        const edgeRef = useRef(null);\n        const [updateHover, setUpdateHover] = useState(false);\n        const [updating, setUpdating] = useState(false);\n        const store = useStoreApi();\n        const markerStartUrl = useMemo(() => `url(#${getMarkerId(markerStart, rfId)})`, [markerStart, rfId]);\n        const markerEndUrl = useMemo(() => `url(#${getMarkerId(markerEnd, rfId)})`, [markerEnd, rfId]);\n        if (hidden) {\n            return null;\n        }\n        const onEdgeClick = (event) => {\n            const { edges, addSelectedEdges } = store.getState();\n            if (elementsSelectable) {\n                store.setState({ nodesSelectionActive: false });\n                addSelectedEdges([id]);\n            }\n            if (onClick) {\n                const edge = edges.find((e) => e.id === id);\n                onClick(event, edge);\n            }\n        };\n        const onEdgeDoubleClickHandler = getMouseHandler$1(id, store.getState, onEdgeDoubleClick);\n        const onEdgeContextMenu = getMouseHandler$1(id, store.getState, onContextMenu);\n        const onEdgeMouseEnter = getMouseHandler$1(id, store.getState, onMouseEnter);\n        const onEdgeMouseMove = getMouseHandler$1(id, store.getState, onMouseMove);\n        const onEdgeMouseLeave = getMouseHandler$1(id, store.getState, onMouseLeave);\n        const handleEdgeUpdater = (event, isSourceHandle) => {\n            // avoid triggering edge updater if mouse btn is not left\n            if (event.button !== 0) {\n                return;\n            }\n            const { edges, isValidConnection: isValidConnectionStore } = store.getState();\n            const nodeId = isSourceHandle ? target : source;\n            const handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n            const handleType = isSourceHandle ? 'target' : 'source';\n            const isValidConnection = isValidConnectionStore || alwaysValidConnection;\n            const isTarget = isSourceHandle;\n            const edge = edges.find((e) => e.id === id);\n            setUpdating(true);\n            onEdgeUpdateStart?.(event, edge, handleType);\n            const _onEdgeUpdateEnd = (evt) => {\n                setUpdating(false);\n                onEdgeUpdateEnd?.(evt, edge, handleType);\n            };\n            const onConnectEdge = (connection) => onEdgeUpdate?.(edge, connection);\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectEdge,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection,\n                edgeUpdaterType: handleType,\n                onEdgeUpdateEnd: _onEdgeUpdateEnd,\n            });\n        };\n        const onEdgeUpdaterSourceMouseDown = (event) => handleEdgeUpdater(event, true);\n        const onEdgeUpdaterTargetMouseDown = (event) => handleEdgeUpdater(event, false);\n        const onEdgeUpdaterMouseEnter = () => setUpdateHover(true);\n        const onEdgeUpdaterMouseOut = () => setUpdateHover(false);\n        const inactive = !elementsSelectable && !onClick;\n        const onKeyDown = (event) => {\n            if (elementSelectionKeys.includes(event.key) && elementsSelectable) {\n                const { unselectNodesAndEdges, addSelectedEdges, edges } = store.getState();\n                const unselect = event.key === 'Escape';\n                if (unselect) {\n                    edgeRef.current?.blur();\n                    unselectNodesAndEdges({ edges: [edges.find((e) => e.id === id)] });\n                }\n                else {\n                    addSelectedEdges([id]);\n                }\n            }\n        };\n        return (jsxs(\"g\", { className: cc([\n                'react-flow__edge',\n                `react-flow__edge-${type}`,\n                className,\n                { selected, animated, inactive, updating: updateHover },\n            ]), onClick: onEdgeClick, onDoubleClick: onEdgeDoubleClickHandler, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : 'img', \"data-testid\": `rf__edge-${id}`, \"aria-label\": ariaLabel === null ? undefined : ariaLabel ? ariaLabel : `Edge from ${source} to ${target}`, \"aria-describedby\": isFocusable ? `${ARIA_EDGE_DESC_KEY}-${rfId}` : undefined, ref: edgeRef, children: [!updating && (jsx(EdgeComponent, { id: id, source: source, target: target, selected: selected, animated: animated, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, data: data, style: style, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, sourceHandleId: sourceHandleId, targetHandleId: targetHandleId, markerStart: markerStartUrl, markerEnd: markerEndUrl, pathOptions: pathOptions, interactionWidth: interactionWidth })), isUpdatable && (jsxs(Fragment, { children: [(isUpdatable === 'source' || isUpdatable === true) && (jsx(EdgeAnchor, { position: sourcePosition, centerX: sourceX, centerY: sourceY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterSourceMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"source\" })), (isUpdatable === 'target' || isUpdatable === true) && (jsx(EdgeAnchor, { position: targetPosition, centerX: targetX, centerY: targetY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterTargetMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"target\" }))] }))] }));\n    };\n    EdgeWrapper.displayName = 'EdgeWrapper';\n    return memo(EdgeWrapper);\n};\n\nfunction createEdgeTypes(edgeTypes) {\n    const standardTypes = {\n        default: wrapEdge((edgeTypes.default || BezierEdge)),\n        straight: wrapEdge((edgeTypes.bezier || StraightEdge)),\n        step: wrapEdge((edgeTypes.step || StepEdge)),\n        smoothstep: wrapEdge((edgeTypes.step || SmoothStepEdge)),\n        simplebezier: wrapEdge((edgeTypes.simplebezier || SimpleBezierEdge)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(edgeTypes)\n        .filter((k) => !['default', 'bezier'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapEdge((edgeTypes[key] || BezierEdge));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nfunction getHandlePosition(position, nodeRect, handle = null) {\n    const x = (handle?.x || 0) + nodeRect.x;\n    const y = (handle?.y || 0) + nodeRect.y;\n    const width = handle?.width || nodeRect.width;\n    const height = handle?.height || nodeRect.height;\n    switch (position) {\n        case Position.Top:\n            return {\n                x: x + width / 2,\n                y,\n            };\n        case Position.Right:\n            return {\n                x: x + width,\n                y: y + height / 2,\n            };\n        case Position.Bottom:\n            return {\n                x: x + width / 2,\n                y: y + height,\n            };\n        case Position.Left:\n            return {\n                x,\n                y: y + height / 2,\n            };\n    }\n}\nfunction getHandle(bounds, handleId) {\n    if (!bounds) {\n        return null;\n    }\n    if (bounds.length === 1 || !handleId) {\n        return bounds[0];\n    }\n    else if (handleId) {\n        return bounds.find((d) => d.id === handleId) || null;\n    }\n    return null;\n}\nconst getEdgePositions = (sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) => {\n    const sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n    const targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n    return {\n        sourceX: sourceHandlePos.x,\n        sourceY: sourceHandlePos.y,\n        targetX: targetHandlePos.x,\n        targetY: targetHandlePos.y,\n    };\n};\nfunction isEdgeVisible({ sourcePos, targetPos, sourceWidth, sourceHeight, targetWidth, targetHeight, width, height, transform, }) {\n    const edgeBox = {\n        x: Math.min(sourcePos.x, targetPos.x),\n        y: Math.min(sourcePos.y, targetPos.y),\n        x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n        y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight),\n    };\n    if (edgeBox.x === edgeBox.x2) {\n        edgeBox.x2 += 1;\n    }\n    if (edgeBox.y === edgeBox.y2) {\n        edgeBox.y2 += 1;\n    }\n    const viewBox = rectToBox({\n        x: (0 - transform[0]) / transform[2],\n        y: (0 - transform[1]) / transform[2],\n        width: width / transform[2],\n        height: height / transform[2],\n    });\n    const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n    const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n    const overlappingArea = Math.ceil(xOverlap * yOverlap);\n    return overlappingArea > 0;\n}\nfunction getNodeData(node) {\n    const handleBounds = node?.[internalsSymbol]?.handleBounds || null;\n    const isValid = handleBounds &&\n        node?.width &&\n        node?.height &&\n        typeof node?.positionAbsolute?.x !== 'undefined' &&\n        typeof node?.positionAbsolute?.y !== 'undefined';\n    return [\n        {\n            x: node?.positionAbsolute?.x || 0,\n            y: node?.positionAbsolute?.y || 0,\n            width: node?.width || 0,\n            height: node?.height || 0,\n        },\n        handleBounds,\n        !!isValid,\n    ];\n}\n\nconst defaultEdgeTree = [{ level: 0, isMaxLevel: true, edges: [] }];\nfunction groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect = false) {\n    let maxLevel = -1;\n    const levelLookup = edges.reduce((tree, edge) => {\n        const hasZIndex = isNumeric(edge.zIndex);\n        let z = hasZIndex ? edge.zIndex : 0;\n        if (elevateEdgesOnSelect) {\n            const targetNode = nodeInternals.get(edge.target);\n            const sourceNode = nodeInternals.get(edge.source);\n            const edgeOrConnectedNodeSelected = edge.selected || targetNode?.selected || sourceNode?.selected;\n            const selectedZIndex = Math.max(sourceNode?.[internalsSymbol]?.z || 0, targetNode?.[internalsSymbol]?.z || 0, 1000);\n            z = (hasZIndex ? edge.zIndex : 0) + (edgeOrConnectedNodeSelected ? selectedZIndex : 0);\n        }\n        if (tree[z]) {\n            tree[z].push(edge);\n        }\n        else {\n            tree[z] = [edge];\n        }\n        maxLevel = z > maxLevel ? z : maxLevel;\n        return tree;\n    }, {});\n    const edgeTree = Object.entries(levelLookup).map(([key, edges]) => {\n        const level = +key;\n        return {\n            edges,\n            level,\n            isMaxLevel: level === maxLevel,\n        };\n    });\n    if (edgeTree.length === 0) {\n        return defaultEdgeTree;\n    }\n    return edgeTree;\n}\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n    const edges = useStore(useCallback((s) => {\n        if (!onlyRenderVisible) {\n            return s.edges;\n        }\n        return s.edges.filter((e) => {\n            const sourceNode = nodeInternals.get(e.source);\n            const targetNode = nodeInternals.get(e.target);\n            return (sourceNode?.width &&\n                sourceNode?.height &&\n                targetNode?.width &&\n                targetNode?.height &&\n                isEdgeVisible({\n                    sourcePos: sourceNode.positionAbsolute || { x: 0, y: 0 },\n                    targetPos: targetNode.positionAbsolute || { x: 0, y: 0 },\n                    sourceWidth: sourceNode.width,\n                    sourceHeight: sourceNode.height,\n                    targetWidth: targetNode.width,\n                    targetHeight: targetNode.height,\n                    width: s.width,\n                    height: s.height,\n                    transform: s.transform,\n                }));\n        });\n    }, [onlyRenderVisible, nodeInternals]));\n    return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\n\nconst ArrowSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (jsx(\"polyline\", { stroke: color, strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: strokeWidth, fill: \"none\", points: \"-5,-4 0,0 -5,4\" }));\n};\nconst ArrowClosedSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (jsx(\"polyline\", { stroke: color, strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: strokeWidth, fill: color, points: \"-5,-4 0,0 -5,4 -5,-4\" }));\n};\nconst MarkerSymbols = {\n    [MarkerType.Arrow]: ArrowSymbol,\n    [MarkerType.ArrowClosed]: ArrowClosedSymbol,\n};\nfunction useMarkerSymbol(type) {\n    const store = useStoreApi();\n    const symbol = useMemo(() => {\n        const symbolExists = Object.prototype.hasOwnProperty.call(MarkerSymbols, type);\n        if (!symbolExists) {\n            store.getState().onError?.('009', errorMessages['error009'](type));\n            return null;\n        }\n        return MarkerSymbols[type];\n    }, [type]);\n    return symbol;\n}\n\nconst Marker = ({ id, type, color, width = 12.5, height = 12.5, markerUnits = 'strokeWidth', strokeWidth, orient = 'auto-start-reverse', }) => {\n    const Symbol = useMarkerSymbol(type);\n    if (!Symbol) {\n        return null;\n    }\n    return (jsx(\"marker\", { className: \"react-flow__arrowhead\", id: id, markerWidth: `${width}`, markerHeight: `${height}`, viewBox: \"-10 -10 20 20\", markerUnits: markerUnits, orient: orient, refX: \"0\", refY: \"0\", children: jsx(Symbol, { color: color, strokeWidth: strokeWidth }) }));\n};\nconst markerSelector = ({ defaultColor, rfId }) => (s) => {\n    const ids = [];\n    return s.edges\n        .reduce((markers, edge) => {\n        [edge.markerStart, edge.markerEnd].forEach((marker) => {\n            if (marker && typeof marker === 'object') {\n                const markerId = getMarkerId(marker, rfId);\n                if (!ids.includes(markerId)) {\n                    markers.push({ id: markerId, color: marker.color || defaultColor, ...marker });\n                    ids.push(markerId);\n                }\n            }\n        });\n        return markers;\n    }, [])\n        .sort((a, b) => a.id.localeCompare(b.id));\n};\n// when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\nconst MarkerDefinitions = ({ defaultColor, rfId }) => {\n    const markers = useStore(useCallback(markerSelector({ defaultColor, rfId }), [defaultColor, rfId]), \n    // the id includes all marker options, so we just need to look at that part of the marker\n    (a, b) => !(a.length !== b.length || a.some((m, i) => m.id !== b[i].id)));\n    return (jsx(\"defs\", { children: markers.map((marker) => (jsx(Marker, { id: marker.id, type: marker.type, color: marker.color, width: marker.width, height: marker.height, markerUnits: marker.markerUnits, strokeWidth: marker.strokeWidth, orient: marker.orient }, marker.id))) }));\n};\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = memo(MarkerDefinitions);\n\nconst selector$4 = (s) => ({\n    nodesConnectable: s.nodesConnectable,\n    edgesFocusable: s.edgesFocusable,\n    edgesUpdatable: s.edgesUpdatable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals,\n    onError: s.onError,\n});\nconst EdgeRenderer = ({ defaultMarkerColor, onlyRenderVisibleElements, elevateEdgesOnSelect, rfId, edgeTypes, noPanClassName, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeClick, edgeUpdaterRadius, onEdgeDoubleClick, onEdgeUpdateStart, onEdgeUpdateEnd, children, }) => {\n    const { edgesFocusable, edgesUpdatable, elementsSelectable, width, height, connectionMode, nodeInternals, onError } = useStore(selector$4, shallow);\n    const edgeTree = useVisibleEdges(onlyRenderVisibleElements, nodeInternals, elevateEdgesOnSelect);\n    if (!width) {\n        return null;\n    }\n    return (jsxs(Fragment, { children: [edgeTree.map(({ level, edges, isMaxLevel }) => (jsxs(\"svg\", { style: { zIndex: level }, width: width, height: height, className: \"react-flow__edges react-flow__container\", children: [isMaxLevel && jsx(MarkerDefinitions$1, { defaultColor: defaultMarkerColor, rfId: rfId }), jsx(\"g\", { children: edges.map((edge) => {\n                            const [sourceNodeRect, sourceHandleBounds, sourceIsValid] = getNodeData(nodeInternals.get(edge.source));\n                            const [targetNodeRect, targetHandleBounds, targetIsValid] = getNodeData(nodeInternals.get(edge.target));\n                            if (!sourceIsValid || !targetIsValid) {\n                                return null;\n                            }\n                            let edgeType = edge.type || 'default';\n                            if (!edgeTypes[edgeType]) {\n                                onError?.('011', errorMessages['error011'](edgeType));\n                                edgeType = 'default';\n                            }\n                            const EdgeComponent = edgeTypes[edgeType] || edgeTypes.default;\n                            // when connection type is loose we can define all handles as sources and connect source -> source\n                            const targetNodeHandles = connectionMode === ConnectionMode.Strict\n                                ? targetHandleBounds.target\n                                : (targetHandleBounds.target ?? []).concat(targetHandleBounds.source ?? []);\n                            const sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle);\n                            const targetHandle = getHandle(targetNodeHandles, edge.targetHandle);\n                            const sourcePosition = sourceHandle?.position || Position.Bottom;\n                            const targetPosition = targetHandle?.position || Position.Top;\n                            const isFocusable = !!(edge.focusable || (edgesFocusable && typeof edge.focusable === 'undefined'));\n                            const isUpdatable = typeof onEdgeUpdate !== 'undefined' &&\n                                (edge.updatable || (edgesUpdatable && typeof edge.updatable === 'undefined'));\n                            if (!sourceHandle || !targetHandle) {\n                                onError?.('008', errorMessages['error008'](sourceHandle, edge));\n                                return null;\n                            }\n                            const { sourceX, sourceY, targetX, targetY } = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition);\n                            return (jsx(EdgeComponent, { id: edge.id, className: cc([edge.className, noPanClassName]), type: edgeType, data: edge.data, selected: !!edge.selected, animated: !!edge.animated, hidden: !!edge.hidden, label: edge.label, labelStyle: edge.labelStyle, labelShowBg: edge.labelShowBg, labelBgStyle: edge.labelBgStyle, labelBgPadding: edge.labelBgPadding, labelBgBorderRadius: edge.labelBgBorderRadius, style: edge.style, source: edge.source, target: edge.target, sourceHandleId: edge.sourceHandle, targetHandleId: edge.targetHandle, markerEnd: edge.markerEnd, markerStart: edge.markerStart, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, elementsSelectable: elementsSelectable, onEdgeUpdate: onEdgeUpdate, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onClick: onEdgeClick, edgeUpdaterRadius: edgeUpdaterRadius, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, rfId: rfId, ariaLabel: edge.ariaLabel, isFocusable: isFocusable, isUpdatable: isUpdatable, pathOptions: 'pathOptions' in edge ? edge.pathOptions : undefined, interactionWidth: edge.interactionWidth }, edge.id));\n                        }) })] }, level))), children] }));\n};\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = memo(EdgeRenderer);\n\nconst selector$3 = (s) => `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`;\nfunction Viewport({ children }) {\n    const transform = useStore(selector$3);\n    return (jsx(\"div\", { className: \"react-flow__viewport react-flow__container\", style: { transform }, children: children }));\n}\n\nfunction useOnInitHandler(onInit) {\n    const rfInstance = useReactFlow();\n    const isInitialized = useRef(false);\n    useEffect(() => {\n        if (!isInitialized.current && rfInstance.viewportInitialized && onInit) {\n            setTimeout(() => onInit(rfInstance), 1);\n            isInitialized.current = true;\n        }\n    }, [onInit, rfInstance.viewportInitialized]);\n}\n\nconst oppositePosition = {\n    [Position.Left]: Position.Right,\n    [Position.Right]: Position.Left,\n    [Position.Top]: Position.Bottom,\n    [Position.Bottom]: Position.Top,\n};\nconst ConnectionLine = ({ nodeId, handleType, style, type = ConnectionLineType.Bezier, CustomComponent, connectionStatus, }) => {\n    const { fromNode, handleId, toX, toY, connectionMode } = useStore(useCallback((s) => ({\n        fromNode: s.nodeInternals.get(nodeId),\n        handleId: s.connectionHandleId,\n        toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n        toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2],\n        connectionMode: s.connectionMode,\n    }), [nodeId]), shallow);\n    const fromHandleBounds = fromNode?.[internalsSymbol]?.handleBounds;\n    let handleBounds = fromHandleBounds?.[handleType];\n    if (connectionMode === ConnectionMode.Loose) {\n        handleBounds = handleBounds ? handleBounds : fromHandleBounds?.[handleType === 'source' ? 'target' : 'source'];\n    }\n    if (!fromNode || !handleBounds) {\n        return null;\n    }\n    const fromHandle = handleId ? handleBounds.find((d) => d.id === handleId) : handleBounds[0];\n    const fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : (fromNode.width ?? 0) / 2;\n    const fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : fromNode.height ?? 0;\n    const fromX = (fromNode.positionAbsolute?.x ?? 0) + fromHandleX;\n    const fromY = (fromNode.positionAbsolute?.y ?? 0) + fromHandleY;\n    const fromPosition = fromHandle?.position;\n    const toPosition = fromPosition ? oppositePosition[fromPosition] : null;\n    if (!fromPosition || !toPosition) {\n        return null;\n    }\n    if (CustomComponent) {\n        return (jsx(CustomComponent, { connectionLineType: type, connectionLineStyle: style, fromNode: fromNode, fromHandle: fromHandle, fromX: fromX, fromY: fromY, toX: toX, toY: toY, fromPosition: fromPosition, toPosition: toPosition, connectionStatus: connectionStatus }));\n    }\n    let dAttr = '';\n    const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toX,\n        targetY: toY,\n        targetPosition: toPosition,\n    };\n    if (type === ConnectionLineType.Bezier) {\n        // we assume the destination position is opposite to the source position\n        [dAttr] = getBezierPath(pathParams);\n    }\n    else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n            ...pathParams,\n            borderRadius: 0,\n        });\n    }\n    else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n    }\n    else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n    }\n    else {\n        dAttr = `M${fromX},${fromY} ${toX},${toY}`;\n    }\n    return jsx(\"path\", { d: dAttr, fill: \"none\", className: \"react-flow__connection-path\", style: style });\n};\nConnectionLine.displayName = 'ConnectionLine';\nconst selector$2 = (s) => ({\n    nodeId: s.connectionNodeId,\n    handleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    connectionStatus: s.connectionStatus,\n    width: s.width,\n    height: s.height,\n});\nfunction ConnectionLineWrapper({ containerStyle, style, type, component }) {\n    const { nodeId, handleType, nodesConnectable, width, height, connectionStatus } = useStore(selector$2, shallow);\n    const isValid = !!(nodeId && handleType && width && nodesConnectable);\n    if (!isValid) {\n        return null;\n    }\n    return (jsx(\"svg\", { style: containerStyle, width: width, height: height, className: \"react-flow__edges react-flow__connectionline react-flow__container\", children: jsx(\"g\", { className: cc(['react-flow__connection', connectionStatus]), children: jsx(ConnectionLine, { nodeId: nodeId, handleType: handleType, style: style, type: type, CustomComponent: component, connectionStatus: connectionStatus }) }) }));\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n    const typesKeysRef = useRef(null);\n    const store = useStoreApi();\n    const typesParsed = useMemo(() => {\n        if (process.env.NODE_ENV === 'development') {\n            const typeKeys = Object.keys(nodeOrEdgeTypes);\n            if (shallow(typesKeysRef.current, typeKeys)) {\n                store.getState().onError?.('002', errorMessages['error002']());\n            }\n            typesKeysRef.current = typeKeys;\n        }\n        return createTypes(nodeOrEdgeTypes);\n    }, [nodeOrEdgeTypes]);\n    return typesParsed;\n}\n\nconst GraphView = ({ nodeTypes, edgeTypes, onMove, onMoveStart, onMoveEnd, onInit, onNodeClick, onEdgeClick, onNodeDoubleClick, onEdgeDoubleClick, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionLineType, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, selectionKeyCode, selectionOnDrag, selectionMode, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, deleteKeyCode, onlyRenderVisibleElements, elementsSelectable, selectNodesOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, defaultMarkerColor, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, edgeUpdaterRadius, onEdgeUpdateStart, onEdgeUpdateEnd, noDragClassName, noWheelClassName, noPanClassName, elevateEdgesOnSelect, disableKeyboardA11y, nodeOrigin, nodeExtent, rfId, }) => {\n    const nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n    const edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n    useOnInitHandler(onInit);\n    return (jsx(FlowRenderer$1, { onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, deleteKeyCode: deleteKeyCode, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, elementsSelectable: elementsSelectable, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, onSelectionContextMenu: onSelectionContextMenu, preventScrolling: preventScrolling, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y, children: jsxs(Viewport, { children: [jsx(EdgeRenderer$1, { edgeTypes: edgeTypesWrapped, onEdgeClick: onEdgeClick, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdate: onEdgeUpdate, onlyRenderVisibleElements: onlyRenderVisibleElements, onEdgeContextMenu: onEdgeContextMenu, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noPanClassName: noPanClassName, elevateEdgesOnSelect: !!elevateEdgesOnSelect, disableKeyboardA11y: disableKeyboardA11y, rfId: rfId, children: jsx(ConnectionLineWrapper, { style: connectionLineStyle, type: connectionLineType, component: connectionLineComponent, containerStyle: connectionLineContainerStyle }) }), jsx(\"div\", { className: \"react-flow__edgelabel-renderer\" }), jsx(NodeRenderer$1, { nodeTypes: nodeTypesWrapped, onNodeClick: onNodeClick, onNodeDoubleClick: onNodeDoubleClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, selectNodesOnDrag: selectNodesOnDrag, onlyRenderVisibleElements: onlyRenderVisibleElements, noPanClassName: noPanClassName, noDragClassName: noDragClassName, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent, rfId: rfId })] }) }));\n};\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = memo(GraphView);\n\nconst infiniteExtent = [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],\n];\nconst initialState = {\n    rfId: '1',\n    width: 0,\n    height: 0,\n    transform: [0, 0, 1],\n    nodeInternals: new Map(),\n    edges: [],\n    onNodesChange: null,\n    onEdgesChange: null,\n    hasDefaultNodes: false,\n    hasDefaultEdges: false,\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: undefined,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: infiniteExtent,\n    nodeExtent: infiniteExtent,\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    connectionNodeId: null,\n    connectionHandleId: null,\n    connectionHandleType: 'source',\n    connectionPosition: { x: 0, y: 0 },\n    connectionStatus: null,\n    connectionMode: ConnectionMode.Strict,\n    domNode: null,\n    paneDragging: false,\n    noPanClassName: 'nopan',\n    nodeOrigin: [0, 0],\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    nodesDraggable: true,\n    nodesConnectable: true,\n    nodesFocusable: true,\n    edgesFocusable: true,\n    edgesUpdatable: true,\n    elementsSelectable: true,\n    elevateNodesOnSelect: true,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    fitViewOnInitOptions: undefined,\n    multiSelectionActive: false,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectOnClick: true,\n    ariaLiveMessage: '',\n    autoPanOnConnect: true,\n    autoPanOnNodeDrag: true,\n    connectionRadius: 20,\n    onError: devWarn,\n    isValidConnection: undefined,\n};\n\nconst createRFStore = () => createWithEqualityFn((set, get) => ({\n    ...initialState,\n    setNodes: (nodes) => {\n        const { nodeInternals, nodeOrigin, elevateNodesOnSelect } = get();\n        set({ nodeInternals: createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) });\n    },\n    getNodes: () => {\n        return Array.from(get().nodeInternals.values());\n    },\n    setEdges: (edges) => {\n        const { defaultEdgeOptions = {} } = get();\n        set({ edges: edges.map((e) => ({ ...defaultEdgeOptions, ...e })) });\n    },\n    setDefaultNodesAndEdges: (nodes, edges) => {\n        const hasDefaultNodes = typeof nodes !== 'undefined';\n        const hasDefaultEdges = typeof edges !== 'undefined';\n        const nodeInternals = hasDefaultNodes\n            ? createNodeInternals(nodes, new Map(), get().nodeOrigin, get().elevateNodesOnSelect)\n            : new Map();\n        const nextEdges = hasDefaultEdges ? edges : [];\n        set({ nodeInternals, edges: nextEdges, hasDefaultNodes, hasDefaultEdges });\n    },\n    updateNodeDimensions: (updates) => {\n        const { onNodesChange, nodeInternals, fitViewOnInit, fitViewOnInitDone, fitViewOnInitOptions, domNode, nodeOrigin, } = get();\n        const viewportNode = domNode?.querySelector('.react-flow__viewport');\n        if (!viewportNode) {\n            return;\n        }\n        const style = window.getComputedStyle(viewportNode);\n        const { m22: zoom } = new window.DOMMatrixReadOnly(style.transform);\n        const changes = updates.reduce((res, update) => {\n            const node = nodeInternals.get(update.id);\n            if (node) {\n                const dimensions = getDimensions(update.nodeElement);\n                const doUpdate = !!(dimensions.width &&\n                    dimensions.height &&\n                    (node.width !== dimensions.width || node.height !== dimensions.height || update.forceUpdate));\n                if (doUpdate) {\n                    nodeInternals.set(node.id, {\n                        ...node,\n                        [internalsSymbol]: {\n                            ...node[internalsSymbol],\n                            handleBounds: {\n                                source: getHandleBounds('.source', update.nodeElement, zoom, nodeOrigin),\n                                target: getHandleBounds('.target', update.nodeElement, zoom, nodeOrigin),\n                            },\n                        },\n                        ...dimensions,\n                    });\n                    res.push({\n                        id: node.id,\n                        type: 'dimensions',\n                        dimensions,\n                    });\n                }\n            }\n            return res;\n        }, []);\n        updateAbsoluteNodePositions(nodeInternals, nodeOrigin);\n        const nextFitViewOnInitDone = fitViewOnInitDone ||\n            (fitViewOnInit && !fitViewOnInitDone && fitView(get, { initial: true, ...fitViewOnInitOptions }));\n        set({ nodeInternals: new Map(nodeInternals), fitViewOnInitDone: nextFitViewOnInitDone });\n        if (changes?.length > 0) {\n            onNodesChange?.(changes);\n        }\n    },\n    updateNodePositions: (nodeDragItems, positionChanged = true, dragging = false) => {\n        const { triggerNodeChanges } = get();\n        const changes = nodeDragItems.map((node) => {\n            const change = {\n                id: node.id,\n                type: 'position',\n                dragging,\n            };\n            if (positionChanged) {\n                change.positionAbsolute = node.positionAbsolute;\n                change.position = node.position;\n            }\n            return change;\n        });\n        triggerNodeChanges(changes);\n    },\n    triggerNodeChanges: (changes) => {\n        const { onNodesChange, nodeInternals, hasDefaultNodes, nodeOrigin, getNodes, elevateNodesOnSelect } = get();\n        if (changes?.length) {\n            if (hasDefaultNodes) {\n                const nodes = applyNodeChanges(changes, getNodes());\n                const nextNodeInternals = createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect);\n                set({ nodeInternals: nextNodeInternals });\n            }\n            onNodesChange?.(changes);\n        }\n    },\n    addSelectedNodes: (selectedNodeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedNodes;\n        let changedEdges = null;\n        if (multiSelectionActive) {\n            changedNodes = selectedNodeIds.map((nodeId) => createSelectionChange(nodeId, true));\n        }\n        else {\n            changedNodes = getSelectionChanges(getNodes(), selectedNodeIds);\n            changedEdges = getSelectionChanges(edges, []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    addSelectedEdges: (selectedEdgeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedEdges;\n        let changedNodes = null;\n        if (multiSelectionActive) {\n            changedEdges = selectedEdgeIds.map((edgeId) => createSelectionChange(edgeId, true));\n        }\n        else {\n            changedEdges = getSelectionChanges(edges, selectedEdgeIds);\n            changedNodes = getSelectionChanges(getNodes(), []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    unselectNodesAndEdges: ({ nodes, edges } = {}) => {\n        const { edges: storeEdges, getNodes } = get();\n        const nodesToUnselect = nodes ? nodes : getNodes();\n        const edgesToUnselect = edges ? edges : storeEdges;\n        const changedNodes = nodesToUnselect.map((n) => {\n            n.selected = false;\n            return createSelectionChange(n.id, false);\n        });\n        const changedEdges = edgesToUnselect.map((edge) => createSelectionChange(edge.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    setMinZoom: (minZoom) => {\n        const { d3Zoom, maxZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ minZoom });\n    },\n    setMaxZoom: (maxZoom) => {\n        const { d3Zoom, minZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ maxZoom });\n    },\n    setTranslateExtent: (translateExtent) => {\n        get().d3Zoom?.translateExtent(translateExtent);\n        set({ translateExtent });\n    },\n    resetSelectedElements: () => {\n        const { edges, getNodes } = get();\n        const nodes = getNodes();\n        const nodesToUnselect = nodes\n            .filter((e) => e.selected)\n            .map((n) => createSelectionChange(n.id, false));\n        const edgesToUnselect = edges\n            .filter((e) => e.selected)\n            .map((e) => createSelectionChange(e.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes: nodesToUnselect,\n            changedEdges: edgesToUnselect,\n            get,\n            set,\n        });\n    },\n    setNodeExtent: (nodeExtent) => {\n        const { nodeInternals } = get();\n        nodeInternals.forEach((node) => {\n            node.positionAbsolute = clampPosition(node.position, nodeExtent);\n        });\n        set({\n            nodeExtent,\n            nodeInternals: new Map(nodeInternals),\n        });\n    },\n    panBy: (delta) => {\n        const { transform, width, height, d3Zoom, d3Selection, translateExtent } = get();\n        if (!d3Zoom || !d3Selection || (!delta.x && !delta.y)) {\n            return false;\n        }\n        const nextTransform = zoomIdentity\n            .translate(transform[0] + delta.x, transform[1] + delta.y)\n            .scale(transform[2]);\n        const extent = [\n            [0, 0],\n            [width, height],\n        ];\n        const constrainedTransform = d3Zoom?.constrain()(nextTransform, extent, translateExtent);\n        d3Zoom.transform(d3Selection, constrainedTransform);\n        const transformChanged = transform[0] !== constrainedTransform.x ||\n            transform[1] !== constrainedTransform.y ||\n            transform[2] !== constrainedTransform.k;\n        return transformChanged;\n    },\n    cancelConnection: () => set({\n        connectionNodeId: initialState.connectionNodeId,\n        connectionHandleId: initialState.connectionHandleId,\n        connectionHandleType: initialState.connectionHandleType,\n        connectionStatus: initialState.connectionStatus,\n        connectionStartHandle: initialState.connectionStartHandle,\n        connectionEndHandle: initialState.connectionEndHandle,\n    }),\n    reset: () => set({ ...initialState }),\n}), Object.is);\n\nconst ReactFlowProvider = ({ children }) => {\n    const storeRef = useRef(null);\n    if (!storeRef.current) {\n        storeRef.current = createRFStore();\n    }\n    return jsx(Provider$1, { value: storeRef.current, children: children });\n};\nReactFlowProvider.displayName = 'ReactFlowProvider';\n\nconst Wrapper = ({ children }) => {\n    const isWrapped = useContext(StoreContext);\n    if (isWrapped) {\n        // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n        return jsx(Fragment, { children: children });\n    }\n    return jsx(ReactFlowProvider, { children: children });\n};\nWrapper.displayName = 'ReactFlowWrapper';\n\nconst defaultNodeTypes = {\n    input: InputNode$1,\n    default: DefaultNode$1,\n    output: OutputNode$1,\n    group: GroupNode,\n};\nconst defaultEdgeTypes = {\n    default: BezierEdge,\n    straight: StraightEdge,\n    step: StepEdge,\n    smoothstep: SmoothStepEdge,\n    simplebezier: SimpleBezierEdge,\n};\nconst initNodeOrigin = [0, 0];\nconst initSnapGrid = [15, 15];\nconst initDefaultViewport = { x: 0, y: 0, zoom: 1 };\nconst wrapperStyle = {\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n    position: 'relative',\n    zIndex: 0,\n};\nconst ReactFlow = forwardRef(({ nodes, edges, defaultNodes, defaultEdges, className, nodeTypes = defaultNodeTypes, edgeTypes = defaultEdgeTypes, onNodeClick, onEdgeClick, onInit, onMove, onMoveStart, onMoveEnd, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onNodeDoubleClick, onNodeDragStart, onNodeDrag, onNodeDragStop, onNodesDelete, onEdgesDelete, onSelectionChange, onSelectionDragStart, onSelectionDrag, onSelectionDragStop, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionMode = ConnectionMode.Strict, connectionLineType = ConnectionLineType.Bezier, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, deleteKeyCode = 'Backspace', selectionKeyCode = 'Shift', selectionOnDrag = false, selectionMode = SelectionMode.Full, panActivationKeyCode = 'Space', multiSelectionKeyCode = isMacOs() ? 'Meta' : 'Control', zoomActivationKeyCode = isMacOs() ? 'Meta' : 'Control', snapToGrid = false, snapGrid = initSnapGrid, onlyRenderVisibleElements = false, selectNodesOnDrag = true, nodesDraggable, nodesConnectable, nodesFocusable, nodeOrigin = initNodeOrigin, edgesFocusable, edgesUpdatable, elementsSelectable, defaultViewport = initDefaultViewport, minZoom = 0.5, maxZoom = 2, translateExtent = infiniteExtent, preventScrolling = true, nodeExtent, defaultMarkerColor = '#b1b1b7', zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, panOnDrag = true, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, children, onEdgeUpdate, onEdgeContextMenu, onEdgeDoubleClick, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeUpdateStart, onEdgeUpdateEnd, edgeUpdaterRadius = 10, onNodesChange, onEdgesChange, noDragClassName = 'nodrag', noWheelClassName = 'nowheel', noPanClassName = 'nopan', fitView = false, fitViewOptions, connectOnClick = true, attributionPosition, proOptions, defaultEdgeOptions, elevateNodesOnSelect = true, elevateEdgesOnSelect = false, disableKeyboardA11y = false, autoPanOnConnect = true, autoPanOnNodeDrag = true, connectionRadius = 20, isValidConnection, onError, style, id, ...rest }, ref) => {\n    const rfId = id || '1';\n    return (jsx(\"div\", { ...rest, style: { ...style, ...wrapperStyle }, ref: ref, className: cc(['react-flow', className]), \"data-testid\": \"rf__wrapper\", id: id, children: jsxs(Wrapper, { children: [jsx(GraphView$1, { onInit: onInit, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onNodeClick: onNodeClick, onEdgeClick: onEdgeClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, onNodeDoubleClick: onNodeDoubleClick, nodeTypes: nodeTypes, edgeTypes: edgeTypes, connectionLineType: connectionLineType, connectionLineStyle: connectionLineStyle, connectionLineComponent: connectionLineComponent, connectionLineContainerStyle: connectionLineContainerStyle, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, deleteKeyCode: deleteKeyCode, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, onlyRenderVisibleElements: onlyRenderVisibleElements, selectNodesOnDrag: selectNodesOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, preventScrolling: preventScrolling, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneScroll: onPaneScroll, onPaneContextMenu: onPaneContextMenu, onSelectionContextMenu: onSelectionContextMenu, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onEdgeUpdate: onEdgeUpdate, onEdgeContextMenu: onEdgeContextMenu, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, elevateEdgesOnSelect: elevateEdgesOnSelect, rfId: rfId, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent }), jsx(StoreUpdater, { nodes: nodes, edges: edges, defaultNodes: defaultNodes, defaultEdges: defaultEdges, onConnect: onConnect, onConnectStart: onConnectStart, onConnectEnd: onConnectEnd, onClickConnectStart: onClickConnectStart, onClickConnectEnd: onClickConnectEnd, nodesDraggable: nodesDraggable, nodesConnectable: nodesConnectable, nodesFocusable: nodesFocusable, edgesFocusable: edgesFocusable, edgesUpdatable: edgesUpdatable, elementsSelectable: elementsSelectable, elevateNodesOnSelect: elevateNodesOnSelect, minZoom: minZoom, maxZoom: maxZoom, nodeExtent: nodeExtent, onNodesChange: onNodesChange, onEdgesChange: onEdgesChange, snapToGrid: snapToGrid, snapGrid: snapGrid, connectionMode: connectionMode, translateExtent: translateExtent, connectOnClick: connectOnClick, defaultEdgeOptions: defaultEdgeOptions, fitView: fitView, fitViewOptions: fitViewOptions, onNodesDelete: onNodesDelete, onEdgesDelete: onEdgesDelete, onNodeDragStart: onNodeDragStart, onNodeDrag: onNodeDrag, onNodeDragStop: onNodeDragStop, onSelectionDrag: onSelectionDrag, onSelectionDragStart: onSelectionDragStart, onSelectionDragStop: onSelectionDragStop, noPanClassName: noPanClassName, nodeOrigin: nodeOrigin, rfId: rfId, autoPanOnConnect: autoPanOnConnect, autoPanOnNodeDrag: autoPanOnNodeDrag, onError: onError, connectionRadius: connectionRadius, isValidConnection: isValidConnection }), jsx(Wrapper$1, { onSelectionChange: onSelectionChange }), children, jsx(Attribution, { proOptions: proOptions, position: attributionPosition }), jsx(A11yDescriptions, { rfId: rfId, disableKeyboardA11y: disableKeyboardA11y })] }) }));\n});\nReactFlow.displayName = 'ReactFlow';\n\nconst selector$1 = (s) => s.domNode?.querySelector('.react-flow__edgelabel-renderer');\nfunction EdgeLabelRenderer({ children }) {\n    const edgeLabelRenderer = useStore(selector$1);\n    if (!edgeLabelRenderer) {\n        return null;\n    }\n    return createPortal(children, edgeLabelRenderer);\n}\n\nfunction useUpdateNodeInternals() {\n    const store = useStoreApi();\n    return useCallback((id) => {\n        const { domNode, updateNodeDimensions } = store.getState();\n        const updateIds = Array.isArray(id) ? id : [id];\n        const updates = updateIds.reduce((res, updateId) => {\n            const nodeElement = domNode?.querySelector(`.react-flow__node[data-id=\"${updateId}\"]`);\n            if (nodeElement) {\n                res.push({ id: updateId, nodeElement, forceUpdate: true });\n            }\n            return res;\n        }, []);\n        requestAnimationFrame(() => updateNodeDimensions(updates));\n    }, []);\n}\n\nconst nodesSelector = (state) => state.getNodes();\nfunction useNodes() {\n    const nodes = useStore(nodesSelector, shallow);\n    return nodes;\n}\n\nconst edgesSelector = (state) => state.edges;\nfunction useEdges() {\n    const edges = useStore(edgesSelector, shallow);\n    return edges;\n}\n\nconst viewportSelector = (state) => ({\n    x: state.transform[0],\n    y: state.transform[1],\n    zoom: state.transform[2],\n});\nfunction useViewport() {\n    const viewport = useStore(viewportSelector, shallow);\n    return viewport;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction createUseItemsState(applyChanges) {\n    return (initialItems) => {\n        const [items, setItems] = useState(initialItems);\n        const onItemsChange = useCallback((changes) => setItems((items) => applyChanges(changes, items)), []);\n        return [items, setItems, onItemsChange];\n    };\n}\nconst useNodesState = createUseItemsState(applyNodeChanges);\nconst useEdgesState = createUseItemsState(applyEdgeChanges);\n\nfunction useOnViewportChange({ onStart, onChange, onEnd }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        store.setState({ onViewportChangeStart: onStart });\n    }, [onStart]);\n    useEffect(() => {\n        store.setState({ onViewportChange: onChange });\n    }, [onChange]);\n    useEffect(() => {\n        store.setState({ onViewportChangeEnd: onEnd });\n    }, [onEnd]);\n}\n\nfunction useOnSelectionChange({ onChange }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        store.setState({ onSelectionChange: onChange });\n    }, [onChange]);\n}\n\nconst selector = (options) => (s) => {\n    if (s.nodeInternals.size === 0) {\n        return false;\n    }\n    return s\n        .getNodes()\n        .filter((n) => (options.includeHiddenNodes ? true : !n.hidden))\n        .every((n) => n[internalsSymbol]?.handleBounds !== undefined);\n};\nconst defaultOptions = {\n    includeHiddenNodes: false,\n};\nfunction useNodesInitialized(options = defaultOptions) {\n    const initialized = useStore(selector(options));\n    return initialized;\n}\n\nexport { BaseEdge, BezierEdge, ConnectionLineType, ConnectionMode, EdgeLabelRenderer, EdgeText$1 as EdgeText, Handle$1 as Handle, MarkerType, PanOnScrollMode, Panel, Position, ReactFlow, ReactFlowProvider, SelectionMode, SimpleBezierEdge, SmoothStepEdge, StepEdge, StraightEdge, addEdge, applyEdgeChanges, applyNodeChanges, boxToRect, clamp, getBezierPath, getBoundsOfRects, getConnectedEdges, getIncomers, getMarkerEnd, getNodePositionWithOrigin, getOutgoers, getRectOfNodes, getSimpleBezierPath, getSmoothStepPath, getStraightPath, getTransformForBounds, internalsSymbol, isEdge, isNode, rectToBox, updateEdge, useEdges, useEdgesState, useGetPointerPosition, useKeyPress, useNodeId, useNodes, useNodesInitialized, useNodesState, useOnSelectionChange, useOnViewportChange, useReactFlow, useStore, useStoreApi, useUpdateNodeInternals, useViewport };\n","import * as React from \"react\";\n\nfunction isShallowEqual(object1, object2) {\n  const keys1 = Object.keys(object1);\n  const keys2 = Object.keys(object2);\n\n  if (keys1.length !== keys2.length) {\n    return false;\n  }\n\n  for (let key of keys1) {\n    if (object1[key] !== object2[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isTouchEvent({ nativeEvent }) {\n  return window.TouchEvent\n    ? nativeEvent instanceof TouchEvent\n    : \"touches\" in nativeEvent;\n}\n\nfunction isMouseEvent(event) {\n  return event.nativeEvent instanceof MouseEvent;\n}\n\nfunction throttle(cb, ms) {\n  let lastTime = 0;\n  return () => {\n    const now = Date.now();\n    if (now - lastTime >= ms) {\n      cb();\n      lastTime = now;\n    }\n  };\n}\n\nconst dispatchStorageEvent = (key, newValue) => {\n  window.dispatchEvent(new StorageEvent(\"storage\", { key, newValue }));\n};\n\nexport function useBattery() {\n  const [state, setState] = React.useState({\n    supported: true,\n    loading: true,\n    level: null,\n    charging: null,\n    chargingTime: null,\n    dischargingTime: null,\n  });\n\n  React.useEffect(() => {\n    if (!navigator.getBattery) {\n      setState((s) => ({\n        ...s,\n        supported: false,\n        loading: false,\n      }));\n      return;\n    }\n\n    let battery = null;\n\n    const handleChange = () => {\n      setState({\n        supported: true,\n        loading: false,\n        level: battery.level,\n        charging: battery.charging,\n        chargingTime: battery.chargingTime,\n        dischargingTime: battery.dischargingTime,\n      });\n    };\n\n    navigator.getBattery().then((b) => {\n      battery = b;\n      handleChange();\n\n      b.addEventListener(\"levelchange\", handleChange);\n      b.addEventListener(\"chargingchange\", handleChange);\n      b.addEventListener(\"chargingtimechange\", handleChange);\n      b.addEventListener(\"dischargingtimechange\", handleChange);\n    });\n\n    return () => {\n      if (battery) {\n        battery.removeEventListener(\"levelchange\", handleChange);\n        battery.removeEventListener(\"chargingchange\", handleChange);\n        battery.removeEventListener(\"chargingtimechange\", handleChange);\n        battery.removeEventListener(\"dischargingtimechange\", handleChange);\n      }\n    };\n  }, []);\n\n  return state;\n}\n\nexport function useClickAway(cb) {\n  const ref = React.useRef(null);\n  const refCb = React.useRef(cb);\n\n  React.useLayoutEffect(() => {\n    refCb.current = cb;\n  });\n\n  React.useEffect(() => {\n    const handler = (e) => {\n      const element = ref.current;\n      if (element && !element.contains(e.target)) {\n        refCb.current(e);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handler);\n    document.addEventListener(\"touchstart\", handler);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handler);\n      document.removeEventListener(\"touchstart\", handler);\n    };\n  }, []);\n\n  return ref;\n}\n\nfunction oldSchoolCopy(text) {\n  const tempTextArea = document.createElement(\"textarea\");\n  tempTextArea.value = text;\n  document.body.appendChild(tempTextArea);\n  tempTextArea.select();\n  document.execCommand(\"copy\");\n  document.body.removeChild(tempTextArea);\n}\n\nexport function useCopyToClipboard() {\n  const [state, setState] = React.useState(null);\n\n  const copyToClipboard = React.useCallback((value) => {\n    const handleCopy = async () => {\n      try {\n        if (navigator?.clipboard?.writeText) {\n          await navigator.clipboard.writeText(value);\n          setState(value);\n        } else {\n          throw new Error(\"writeText not supported\");\n        }\n      } catch (e) {\n        oldSchoolCopy(value);\n        setState(value);\n      }\n    };\n\n    handleCopy();\n  }, []);\n\n  return [state, copyToClipboard];\n}\n\nexport function useCounter(startingValue = 0, options = {}) {\n  const { min, max } = options;\n\n  if (min && startingValue < min) {\n    throw new Error(\n      `Your starting value of ${startingValue} is less than your min of ${min}.`\n    );\n  }\n\n  if (max && startingValue > max) {\n    throw new Error(\n      `Your starting value of ${startingValue} is greater than your max of ${max}.`\n    );\n  }\n\n  const [count, setCount] = React.useState(startingValue);\n\n  const increment = () => {\n    const nextCount = count + 1;\n    if (max && nextCount > max) {\n      return;\n    }\n\n    setCount(nextCount);\n  };\n\n  const decrement = () => {\n    const nextCount = count - 1;\n    if (min && nextCount < min) {\n      return;\n    }\n\n    setCount(nextCount);\n  };\n\n  const set = (nextCount) => {\n    if (max && nextCount > max) {\n      return;\n    }\n\n    if (min && nextCount < min) {\n      return;\n    }\n\n    if (nextCount === count) {\n      return;\n    }\n\n    setCount(nextCount);\n  };\n\n  const reset = () => {\n    if (count === startingValue) {\n      return;\n    }\n\n    setCount(startingValue);\n  };\n\n  return [\n    count,\n    {\n      increment,\n      decrement,\n      set,\n      reset,\n    },\n  ];\n}\n\nexport function useDebounce(value, delay) {\n  const [debouncedValue, setDebouncedValue] = React.useState(value);\n\n  React.useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nexport function useDefault(initialValue, defaultValue) {\n  const [state, setState] = React.useState(initialValue);\n\n  if (typeof state === \"undefined\" || state === null) {\n    return [defaultValue, setState];\n  }\n\n  return [state, setState];\n}\n\nexport function useDocumentTitle(title) {\n  React.useEffect(() => {\n    document.title = title;\n  }, [title]);\n}\n\nexport function useFavicon(url) {\n  React.useEffect(() => {\n    const link =\n      document.querySelector(\"link[rel*='icon']\") ||\n      document.createElement(\"link\");\n    link.type = \"image/x-icon\";\n    link.rel = \"shortcut icon\";\n    link.href = url;\n    document.getElementsByTagName(\"head\")[0].appendChild(link);\n  }, [url]);\n}\n\nexport function useGeolocation(options = {}) {\n  const [state, setState] = React.useState({\n    loading: true,\n    accuracy: null,\n    altitude: null,\n    altitudeAccuracy: null,\n    heading: null,\n    latitude: null,\n    longitude: null,\n    speed: null,\n    timestamp: null,\n    error: null,\n  });\n\n  const optionsRef = React.useRef(options);\n\n  React.useEffect(() => {\n    const onEvent = ({ coords, timestamp }) => {\n      setState({\n        loading: false,\n        timestamp,\n        latitude: coords.latitude,\n        longitude: coords.longitude,\n        altitude: coords.altitude,\n        accuracy: coords.accuracy,\n        altitudeAccuracy: coords.altitudeAccuracy,\n        heading: coords.heading,\n        speed: coords.speed,\n      });\n    };\n\n    const onEventError = (error) => {\n      setState((s) => ({\n        ...s,\n        loading: false,\n        error,\n      }));\n    };\n\n    navigator.geolocation.getCurrentPosition(\n      onEvent,\n      onEventError,\n      optionsRef.current\n    );\n\n    const watchId = navigator.geolocation.watchPosition(\n      onEvent,\n      onEventError,\n      optionsRef.current\n    );\n\n    return () => {\n      navigator.geolocation.clearWatch(watchId);\n    };\n  }, []);\n\n  return state;\n}\n\nconst initialUseHistoryStateState = {\n  past: [],\n  present: null,\n  future: [],\n};\n\nconst useHistoryStateReducer = (state, action) => {\n  const { past, present, future } = state;\n\n  if (action.type === \"UNDO\") {\n    return {\n      past: past.slice(0, past.length - 1),\n      present: past[past.length - 1],\n      future: [present, ...future],\n    };\n  } else if (action.type === \"REDO\") {\n    return {\n      past: [...past, present],\n      present: future[0],\n      future: future.slice(1),\n    };\n  } else if (action.type === \"SET\") {\n    const { newPresent } = action;\n\n    if (action.newPresent === present) {\n      return state;\n    }\n\n    return {\n      past: [...past, present],\n      present: newPresent,\n      future: [],\n    };\n  } else if (action.type === \"CLEAR\") {\n    return {\n      ...initialState,\n      present: action.initialPresent,\n    };\n  } else {\n    throw new Error(\"Unsupported action type\");\n  }\n};\n\nexport function useHistoryState(initialPresent = {}) {\n  const initialPresentRef = React.useRef(initialPresent);\n\n  const [state, dispatch] = React.useReducer(useHistoryStateReducer, {\n    ...initialUseHistoryStateState,\n    present: initialPresentRef.current,\n  });\n\n  const canUndo = state.past.length !== 0;\n  const canRedo = state.future.length !== 0;\n\n  const undo = React.useCallback(() => {\n    if (canUndo) {\n      dispatch({ type: \"UNDO\" });\n    }\n  }, [canUndo]);\n\n  const redo = React.useCallback(() => {\n    if (canRedo) {\n      dispatch({ type: \"REDO\" });\n    }\n  }, [canRedo]);\n\n  const set = React.useCallback(\n    (newPresent) => dispatch({ type: \"SET\", newPresent }),\n    []\n  );\n\n  const clear = React.useCallback(\n    () =>\n      dispatch({ type: \"CLEAR\", initialPresent: initialPresentRef.current }),\n    []\n  );\n\n  return { state: state.present, set, undo, redo, clear, canUndo, canRedo };\n}\n\nexport function useHover() {\n  const [hovering, setHovering] = React.useState(false);\n  const ref = React.useRef(null);\n\n  React.useEffect(() => {\n    const node = ref.current;\n\n    if (!node) return;\n\n    const handleMouseEnter = () => {\n      setHovering(true);\n    };\n\n    const handleMouseLeave = () => {\n      setHovering(false);\n    };\n\n    node.addEventListener(\"mouseenter\", handleMouseEnter);\n    node.addEventListener(\"mouseleave\", handleMouseLeave);\n\n    return () => {\n      node.removeEventListener(\"mouseenter\", handleMouseEnter);\n      node.removeEventListener(\"mouseleave\", handleMouseLeave);\n    };\n  }, []);\n\n  return [ref, hovering];\n}\n\nexport function useIdle(ms = 1000 * 60) {\n  const [idle, setIdle] = React.useState(false);\n\n  React.useEffect(() => {\n    let timeoutId;\n\n    const handleTimeout = () => {\n      setIdle(true);\n    };\n\n    const handleEvent = throttle((e) => {\n      setIdle(false);\n\n      window.clearTimeout(timeoutId);\n      timeoutId = window.setTimeout(handleTimeout, ms);\n    }, 500);\n\n    const handleVisibilityChange = () => {\n      if (!document.hidden) {\n        handleEvent();\n      }\n    };\n\n    timeoutId = window.setTimeout(handleTimeout, ms);\n\n    window.addEventListener(\"mousemove\", handleEvent);\n    window.addEventListener(\"mousedown\", handleEvent);\n    window.addEventListener(\"resize\", handleEvent);\n    window.addEventListener(\"keydown\", handleEvent);\n    window.addEventListener(\"touchstart\", handleEvent);\n    window.addEventListener(\"wheel\", handleEvent);\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n\n    return () => {\n      window.removeEventListener(\"mousemove\", handleEvent);\n      window.removeEventListener(\"mousedown\", handleEvent);\n      window.removeEventListener(\"resize\", handleEvent);\n      window.removeEventListener(\"keydown\", handleEvent);\n      window.removeEventListener(\"touchstart\", handleEvent);\n      window.removeEventListener(\"wheel\", handleEvent);\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n      window.clearTimeout(timeoutId);\n    };\n  }, [ms]);\n\n  return idle;\n}\n\nexport function useIntersectionObserver(options = {}) {\n  const { threshold = 1, root = null, rootMargin = \"0%\" } = options;\n  const ref = React.useRef(null);\n  const [entry, setEntry] = React.useState(null);\n\n  React.useEffect(() => {\n    const node = ref?.current;\n\n    if (!node || typeof IntersectionObserver !== \"function\") {\n      return;\n    }\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        setEntry(entry);\n      },\n      { threshold, root, rootMargin }\n    );\n\n    observer.observe(node);\n\n    return () => {\n      setEntry(null);\n      observer.disconnect();\n    };\n  }, [threshold, root, rootMargin]);\n\n  return [ref, entry];\n}\n\nexport function useIsClient() {\n  const [isClient, setIsClient] = React.useState(false);\n\n  React.useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  return isClient;\n}\n\nexport function useIsFirstRender() {\n  const renderRef = React.useRef(true);\n\n  if (renderRef.current === true) {\n    renderRef.current = false;\n    return true;\n  }\n\n  return renderRef.current;\n}\n\nexport function useList(defaultList = []) {\n  const [list, setList] = React.useState(defaultList);\n\n  const set = React.useCallback((l) => {\n    setList(l);\n  }, []);\n\n  const push = React.useCallback((element) => {\n    setList((l) => [...l, element]);\n  }, []);\n\n  const removeAt = React.useCallback((index) => {\n    setList((l) => [...l.slice(0, index), ...l.slice(index + 1)]);\n  }, []);\n\n  const insertAt = React.useCallback((index, element) => {\n    setList((l) => [...l.slice(0, index), element, ...l.slice(index)]);\n  }, []);\n\n  const updateAt = React.useCallback((index, element) => {\n    setList((l) => l.map((e, i) => (i === index ? element : e)));\n  }, []);\n\n  const clear = React.useCallback(() => setList([]), []);\n\n  return [list, { set, push, removeAt, insertAt, updateAt, clear }];\n}\n\nconst setLocalStorageItem = (key, value) => {\n  const stringifiedValue = JSON.stringify(value);\n  window.localStorage.setItem(key, stringifiedValue);\n  dispatchStorageEvent(key, stringifiedValue);\n};\n\nconst removeLocalStorageItem = (key) => {\n  window.localStorage.removeItem(key);\n  dispatchStorageEvent(key, null);\n};\n\nconst getLocalStorageItem = (key) => {\n  return window.localStorage.getItem(key);\n};\n\nconst useLocalStorageSubscribe = (callback) => {\n  window.addEventListener(\"storage\", callback);\n  return () => window.removeEventListener(\"storage\", callback);\n};\n\nconst getLocalStorageServerSnapshot = () => {\n  throw Error(\"useLocalStorage is a client-only hook\");\n};\n\nexport function useLocalStorage(key, initialValue) {\n  const getSnapshot = () => getLocalStorageItem(key);\n\n  const store = React.useSyncExternalStore(\n    useLocalStorageSubscribe,\n    getSnapshot,\n    getLocalStorageServerSnapshot\n  );\n\n  const setState = React.useCallback(\n    (v) => {\n      try {\n        const nextState = typeof v === \"function\" ? v(JSON.parse(store)) : v;\n\n        if (nextState === undefined || nextState === null) {\n          removeLocalStorageItem(key);\n        } else {\n          setLocalStorageItem(key, nextState);\n        }\n      } catch (e) {\n        console.warn(e);\n      }\n    },\n    [key, store]\n  );\n\n  React.useEffect(() => {\n    if (\n      getLocalStorageItem(key) === null &&\n      typeof initialValue !== \"undefined\"\n    ) {\n      setLocalStorageItem(key, initialValue);\n    }\n  }, [key, initialValue]);\n\n  return [store ? JSON.parse(store) : initialValue, setState];\n}\n\nexport function useLockBodyScroll() {\n  React.useEffect(() => {\n    const originalStyle = window.getComputedStyle(document.body).overflow;\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      document.body.style.overflow = originalStyle;\n    };\n  }, []);\n}\n\nexport function useLongPress(callback, options = {}) {\n  const { threshold = 400, onStart, onFinish, onCancel } = options;\n  const isLongPressActive = React.useRef(false);\n  const isPressed = React.useRef(false);\n  const timerId = React.useRef();\n\n  return React.useMemo(() => {\n    if (typeof callback !== \"function\") {\n      return {};\n    }\n\n    const start = (event) => {\n      if (!isMouseEvent(event) && !isTouchEvent(event)) return;\n\n      if (onStart) {\n        onStart(event);\n      }\n\n      isPressed.current = true;\n      timerId.current = setTimeout(() => {\n        callback(event);\n        isLongPressActive.current = true;\n      }, threshold);\n    };\n\n    const cancel = (event) => {\n      if (!isMouseEvent(event) && !isTouchEvent(event)) return;\n\n      if (isLongPressActive.current) {\n        if (onFinish) {\n          onFinish(event);\n        }\n      } else if (isPressed.current) {\n        if (onCancel) {\n          onCancel(event);\n        }\n      }\n\n      isLongPressActive.current = false;\n      isPressed.current = false;\n\n      if (timerId.current) {\n        window.clearTimeout(timerId.current);\n      }\n    };\n\n    const mouseHandlers = {\n      onMouseDown: start,\n      onMouseUp: cancel,\n      onMouseLeave: cancel,\n    };\n\n    const touchHandlers = {\n      onTouchStart: start,\n      onTouchEnd: cancel,\n    };\n\n    return {\n      ...mouseHandlers,\n      ...touchHandlers,\n    };\n  }, [callback, threshold, onCancel, onFinish, onStart]);\n}\n\nexport function useMap(initialState) {\n  const mapRef = React.useRef(new Map(initialState));\n  const [, reRender] = React.useReducer((x) => x + 1, 0);\n\n  mapRef.current.set = (...args) => {\n    Map.prototype.set.apply(mapRef.current, args);\n    reRender();\n    return mapRef.current;\n  };\n\n  mapRef.current.clear = (...args) => {\n    Map.prototype.clear.apply(mapRef.current, args);\n    reRender();\n  };\n\n  mapRef.current.delete = (...args) => {\n    const res = Map.prototype.delete.apply(mapRef.current, args);\n    reRender();\n\n    return res;\n  };\n\n  return mapRef.current;\n}\n\nexport function useMeasure() {\n  const ref = React.useRef(null);\n  const [rect, setRect] = React.useState({\n    width: null,\n    height: null,\n  });\n\n  React.useLayoutEffect(() => {\n    if (!ref.current) return;\n\n    const observer = new ResizeObserver(([entry]) => {\n      if (entry && entry.contentRect) {\n        setRect({\n          width: entry.contentRect.width,\n          height: entry.contentRect.height,\n        });\n      }\n    });\n\n    observer.observe(ref.current);\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  return [ref, rect];\n}\n\nexport function useMediaQuery(query) {\n  const subscribe = React.useCallback(\n    (callback) => {\n      const matchMedia = window.matchMedia(query);\n\n      matchMedia.addEventListener(\"change\", callback);\n      return () => {\n        matchMedia.removeEventListener(\"change\", callback);\n      };\n    },\n    [query]\n  );\n\n  const getSnapshot = () => {\n    return window.matchMedia(query).matches;\n  };\n\n  const getServerSnapshot = () => {\n    throw Error(\"useMediaQuery is a client-only hook\");\n  };\n\n  return React.useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);\n}\n\nexport function useMouse() {\n  const [state, setState] = React.useState({\n    x: 0,\n    y: 0,\n    elementX: 0,\n    elementY: 0,\n    elementPositionX: 0,\n    elementPositionY: 0,\n  });\n\n  const ref = React.useRef(null);\n\n  React.useLayoutEffect(() => {\n    const handleMouseMove = (event) => {\n      let newState = {\n        x: event.pageX,\n        y: event.pageY,\n      };\n\n      if (ref.current instanceof HTMLElement) {\n        const { left, top } = ref.current.getBoundingClientRect();\n        const elementPositionX = left + window.pageXOffset;\n        const elementPositionY = top + window.pageYOffset;\n        const elementX = event.pageX - elementPositionX;\n        const elementY = event.pageY - elementPositionY;\n\n        newState.elementX = elementX;\n        newState.elementY = elementY;\n        newState.elementPositionX = elementPositionX;\n        newState.elementPositionY = elementPositionY;\n      }\n\n      setState((s) => {\n        return {\n          ...s,\n          ...newState,\n        };\n      });\n    };\n\n    document.addEventListener(\"mousemove\", handleMouseMove);\n\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n    };\n  }, []);\n\n  return [state, ref];\n}\n\nconst getConnection = () => {\n  return (\n    navigator?.connection ||\n    navigator?.mozConnection ||\n    navigator?.webkitConnection\n  );\n};\n\nexport function useNetworkState() {\n  const cache = React.useRef({});\n\n  const subscribe = React.useCallback((callback) => {\n    window.addEventListener(\"online\", callback, { passive: true });\n    window.addEventListener(\"offline\", callback, { passive: true });\n\n    const connection = getConnection();\n\n    if (connection) {\n      connection.addEventListener(\"change\", callback, { passive: true });\n    }\n\n    return () => {\n      window.removeEventListener(\"online\", callback);\n      window.removeEventListener(\"offline\", callback);\n\n      if (connection) {\n        connection.removeEventListener(\"change\", callback);\n      }\n    };\n  }, []);\n\n  const getSnapshot = () => {\n    const online = navigator.onLine;\n    const connection = getConnection();\n\n    const nextState = {\n      online,\n      downlink: connection?.downlink,\n      downlinkMax: connection?.downlinkMax,\n      effectiveType: connection?.effectiveType,\n      rtt: connection?.rtt,\n      saveData: connection?.saveData,\n      type: connection?.type,\n    };\n\n    if (isShallowEqual(cache.current, nextState)) {\n      return cache.current;\n    } else {\n      cache.current = nextState;\n      return nextState;\n    }\n  };\n\n  const getServerSnapshot = () => {\n    throw Error(\"useNetworkState is a client-only hook\");\n  };\n\n  return React.useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);\n}\n\nexport function useObjectState(initialValue) {\n  const [state, setState] = React.useState(initialValue);\n\n  const handleUpdate = React.useCallback((arg) => {\n    if (typeof arg === \"function\") {\n      setState((s) => {\n        const newState = arg(s);\n\n        return {\n          ...s,\n          ...newState,\n        };\n      });\n    }\n\n    if (typeof arg === \"object\") {\n      setState((s) => ({\n        ...s,\n        ...arg,\n      }));\n    }\n  }, []);\n\n  return [state, handleUpdate];\n}\n\nexport function useOrientation() {\n  const [orientation, setOrientation] = React.useState({\n    angle: 0,\n    type: \"landscape-primary\",\n  });\n\n  React.useLayoutEffect(() => {\n    const handleChange = () => {\n      const { angle, type } = window.screen.orientation;\n      setOrientation({\n        angle,\n        type,\n      });\n    };\n\n    const handle_orientationchange = () => {\n      setOrientation({\n        type: \"UNKNOWN\",\n        angle: window.orientation,\n      });\n    };\n\n    if (window.screen?.orientation) {\n      handleChange();\n      window.screen.orientation.addEventListener(\"change\", handleChange);\n    } else {\n      handle_orientationchange();\n      window.addEventListener(\"orientationchange\", handle_orientationchange);\n    }\n\n    return () => {\n      if (window.screen?.orientation) {\n        window.screen.orientation.removeEventListener(\"change\", handleChange);\n      } else {\n        window.removeEventListener(\n          \"orientationchange\",\n          handle_orientationchange\n        );\n      }\n    };\n  }, []);\n\n  return orientation;\n}\n\nconst usePreferredLanguageSubscribe = (cb) => {\n  window.addEventListener(\"languagechange\", cb);\n  return () => window.removeEventListener(\"languagechange\", cb);\n};\n\nconst getPreferredLanguageSnapshot = () => {\n  return navigator.language;\n};\n\nconst getPreferredLanguageServerSnapshot = () => {\n  throw Error(\"usePreferredLanguage is a client-only hook\");\n};\n\nexport function usePreferredLanguage() {\n  return React.useSyncExternalStore(\n    usePreferredLanguageSubscribe,\n    getPreferredLanguageSnapshot,\n    getPreferredLanguageServerSnapshot\n  );\n}\n\nexport function usePrevious(value) {\n  const [current, setCurrent] = React.useState(value);\n  const [previous, setPrevious] = React.useState(null);\n\n  if (value !== current) {\n    setPrevious(current);\n    setCurrent(value);\n  }\n\n  return previous;\n}\n\nexport function useQueue(initialValue = []) {\n  const [queue, setQueue] = React.useState(initialValue);\n\n  const add = React.useCallback((element) => {\n    setQueue((q) => [...q, element]);\n  }, []);\n\n  const remove = React.useCallback(() => {\n    let removedElement;\n\n    setQueue(([first, ...q]) => {\n      removedElement = first;\n      return q;\n    });\n\n    return removedElement;\n  }, []);\n\n  const clear = React.useCallback(() => {\n    setQueue([]);\n  }, []);\n\n  return {\n    add,\n    remove,\n    clear,\n    first: queue[0],\n    last: queue[queue.length - 1],\n    size: queue.length,\n    queue,\n  };\n}\n\nexport function useRenderCount() {\n  const count = React.useRef(0);\n\n  count.current++;\n\n  return count.current;\n}\n\nexport function useRenderInfo(name = \"Unknown\") {\n  const count = React.useRef(0);\n  const lastRender = React.useRef();\n  const now = Date.now();\n\n  count.current++;\n\n  React.useEffect(() => {\n    lastRender.current = Date.now();\n  });\n\n  const sinceLastRender = lastRender.current ? now - lastRender.current : 0;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    const info = {\n      name,\n      renders: count.current,\n      sinceLastRender,\n      timestamp: now,\n    };\n\n    console.log(info);\n\n    return info;\n  }\n}\n\nexport function useScript(src, options = {}) {\n  const [status, setStatus] = React.useState(() => {\n    if (!src) {\n      return \"idle\";\n    }\n\n    return \"loading\";\n  });\n\n  const cachedScriptStatuses = React.useRef({});\n\n  React.useEffect(() => {\n    if (!src) return;\n\n    const cachedScriptStatus = cachedScriptStatuses.current[src];\n    if (cachedScriptStatus === \"ready\" || cachedScriptStatus === \"error\") {\n      setStatus(cachedScriptStatus);\n      return;\n    }\n\n    let script = document.querySelector(`script[src=\"${src}\"]`);\n\n    if (script) {\n      setStatus(cachedScriptStatus ?? \"loading\");\n    } else {\n      script = document.createElement(\"script\");\n      script.src = src;\n      script.async = true;\n      document.body.appendChild(script);\n    }\n\n    const setStateFromEvent = (event) => {\n      const newStatus = event.type === \"load\" ? \"ready\" : \"error\";\n      setStatus(newStatus);\n      cachedScriptStatuses.current[src] = newStatus;\n    };\n\n    script.addEventListener(\"load\", setStateFromEvent);\n    script.addEventListener(\"error\", setStateFromEvent);\n\n    return () => {\n      if (script) {\n        script.removeEventListener(\"load\", setStateFromEvent);\n        script.removeEventListener(\"error\", setStateFromEvent);\n      }\n\n      if (script && options.removeOnUnmount) {\n        script.remove();\n      }\n    };\n  }, [src, options.removeOnUnmount]);\n\n  return status;\n}\n\nconst setSessionStorageItem = (key, value) => {\n  const stringifiedValue = JSON.stringify(value);\n  window.sessionStorage.setItem(key, stringifiedValue);\n  dispatchStorageEvent(key, stringifiedValue);\n};\n\nconst removeSessionStorageItem = (key) => {\n  window.sessionStorage.removeItem(key);\n  dispatchStorageEvent(key, null);\n};\n\nconst getSessionStorageItem = (key) => {\n  return window.sessionStorage.getItem(key);\n};\n\nconst useSessionStorageSubscribe = (callback) => {\n  window.addEventListener(\"storage\", callback);\n  return () => window.removeEventListener(\"storage\", callback);\n};\n\nconst getSessionStorageServerSnapshot = () => {\n  throw Error(\"useSessionStorage is a client-only hook\");\n};\n\nexport function useSessionStorage(key, initialValue) {\n  const getSnapshot = () => getSessionStorageItem(key);\n\n  const store = React.useSyncExternalStore(\n    useSessionStorageSubscribe,\n    getSnapshot,\n    getSessionStorageServerSnapshot\n  );\n\n  const setState = React.useCallback(\n    (v) => {\n      try {\n        const nextState = typeof v === \"function\" ? v(JSON.parse(store)) : v;\n\n        if (nextState === undefined || nextState === null) {\n          removeSessionStorageItem(key);\n        } else {\n          setSessionStorageItem(key, nextState);\n        }\n      } catch (e) {\n        console.warn(e);\n      }\n    },\n    [key, store]\n  );\n\n  React.useEffect(() => {\n    if (\n      getSessionStorageItem(key) === null &&\n      typeof initialValue !== \"undefined\"\n    ) {\n      setSessionStorageItem(key, initialValue);\n    }\n  }, [key, initialValue]);\n\n  return [store ? JSON.parse(store) : initialValue, setState];\n}\n\nexport function useSet(values) {\n  const setRef = React.useRef(new Set(values));\n  const [, reRender] = React.useReducer((x) => x + 1, 0);\n\n  setRef.current.add = (...args) => {\n    const res = Set.prototype.add.apply(setRef.current, args);\n    reRender();\n\n    return res;\n  };\n\n  setRef.current.clear = (...args) => {\n    Set.prototype.clear.apply(setRef.current, args);\n    reRender();\n  };\n\n  setRef.current.delete = (...args) => {\n    const res = Set.prototype.delete.apply(setRef.current, args);\n    reRender();\n\n    return res;\n  };\n\n  return setRef.current;\n}\n\nexport function useThrottle(value, interval = 500) {\n  const [throttledValue, setThrottledValue] = React.useState(value);\n  const lastUpdated = React.useRef();\n\n  React.useEffect(() => {\n    const now = Date.now();\n\n    if (now >= lastUpdated.current + interval) {\n      lastUpdated.current = now;\n      setThrottledValue(value);\n    } else {\n      const id = window.setTimeout(() => {\n        lastUpdated.current = now;\n        setThrottledValue(value);\n      }, interval);\n\n      return () => window.clearTimeout(id);\n    }\n  }, [value, interval]);\n\n  return throttledValue;\n}\n\nexport function useToggle(initialValue) {\n  const [on, setOn] = React.useState(initialValue);\n\n  const handleToggle = React.useCallback((value) => {\n    if (typeof value === \"boolean\") {\n      return setOn(value);\n    }\n\n    return setOn((v) => !v);\n  }, []);\n\n  return [on, handleToggle];\n}\n\nconst useVisibilityChangeSubscribe = (callback) => {\n  document.addEventListener(\"visibilitychange\", callback);\n\n  return () => {\n    document.removeEventListener(\"visibilitychange\", callback);\n  };\n};\n\nconst getVisibilityChangeSnapshot = () => {\n  return document.visibilityState;\n};\n\nconst getVisibilityChangeServerSnapshot = () => {\n  throw Error(\"useVisibilityChange is a client-only hook\");\n};\n\nexport function useVisibilityChange() {\n  const visibilityState = React.useSyncExternalStore(\n    useVisibilityChangeSubscribe,\n    getVisibilityChangeSnapshot,\n    getVisibilityChangeServerSnapshot\n  );\n\n  return visibilityState === \"visible\";\n}\n\nexport function useWindowScroll() {\n  const [state, setState] = React.useState({\n    x: null,\n    y: null,\n  });\n\n  const scrollTo = React.useCallback((...args) => {\n    if (typeof args[0] === \"object\") {\n      window.scrollTo(args[0]);\n    } else if (typeof args[0] === \"number\" && typeof args[1] === \"number\") {\n      window.scrollTo(args[0], args[1]);\n    } else {\n      throw new Error(\n        `Invalid arguments passed to scrollTo. See here for more info. https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollTo`\n      );\n    }\n  }, []);\n\n  React.useLayoutEffect(() => {\n    const handleScroll = () => {\n      setState({ x: window.pageXOffset, y: window.pageYOffset });\n    };\n\n    handleScroll();\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  return [state, scrollTo];\n}\n\nexport function useWindowSize() {\n  const [size, setSize] = React.useState({\n    width: null,\n    height: null,\n  });\n\n  React.useLayoutEffect(() => {\n    const handleResize = () => {\n      setSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n  return size;\n}\n"],"names":["cc","names","out","Array","isArray","tmp","i","length","k","createStoreImpl","createState","state","listeners","Set","setState","partial","replace","nextState","Object","is","previousState","assign","forEach","listener","getState","api","subscribe","add","delete","destroy","console","warn","clear","createStore","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","useStoreWithEqualityFn","selector","arguments","undefined","equalityFn","slice","getServerState","useDebugValue","createWithEqualityFnImpl","defaultEqualityFn","useBoundStoreWithEqualityFn","shallow","objA","objB","Map","size","_step","_iterator","_createForOfIteratorHelper","s","n","done","_step$value","_slicedToArray","value","key","get","err","e","f","_step2","_iterator2","has","keysA","keys","prototype","hasOwnProperty","call","noop","dispatch","t","_","test","Error","Dispatch","this","type","name","c","set","callback","concat","push","constructor","on","typename","types","T","trim","split","map","indexOf","copy","that","args","apply","none","querySelector","empty","querySelectorAll","arrayAll","select","x","from","matches","childMatcher","node","find","childFirst","firstElementChild","filter","children","update","EnterNode","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","bindIndex","group","enter","exit","data","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","arraylike","ascending","a","b","NaN","appendChild","child","insertBefore","next","xhtml","svg","xlink","xml","xmlns","prefix","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","defaultView","document","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","getAttribute","classedAdd","list","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","onRemove","__on","o","j","m","removeEventListener","options","onAdd","event","contextListener","addEventListener","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","join","splice","contains","_callee","groups","_regeneratorRuntime","wrap","_context","prev","_groups","stop","_marked","root","Selection","parents","_parents","selection","_defineProperty","subgroups","subnode","subgroup","selectAll","selectorAll","selectChild","match","childFind","selectChildren","childrenFilter","matcher","bind","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","context","groups0","groups1","m0","m1","Math","min","merges","group0","group1","compareDocumentPosition","sort","compare","compareNode","sortgroups","sortgroup","nodes","each","attr","getAttributeNS","property","classed","text","html","create","creator","insert","before","deep","typenames","parseTypenames","Symbol","iterator","selection_iterator","nonpassive","passive","nonpassivecapture","capture","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","setTimeout","cosh","exp","zoomRho","rho","rho2","rho4","zoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","log","d1","sqrt","b0","b1","r0","r1","coshr0","u","sinh","duration","SQRT2","_1","max","_2","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","taskHead","taskTail","frame","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","TypeError","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","id","index","timing","schedules","__transition","self","tween","schedule","start","tick","ease","init","active","svgNode","degrees","PI","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","d","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","q","xa","ya","xb","yb","number","translate","scale","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","transform","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","factory","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","r","g","opacity","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","round","toString","h","Hsl","hslConvert","clamph","clampt","hsl2rgb","m2","basis","v0","v1","v2","v3","t3","define","channels","displayable","formatHex8","formatHsl","pow","clamp","linear","gamma","nogamma","exponential","constant","rgbGamma","end","colorRgb","rgbSpline","spline","colors","values","floor","reA","reB","source","am","bm","bs","bi","lastIndex","one","zero","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrTweenNS","attrInterpolateNS","_value","attrTween","attrInterpolate","delayFunction","delayConstant","durationFunction","durationConstant","Transition","_name","newId","selection_prototype","inherit","id0","id1","on0","on1","sit","every","onFunction","styleTween","styleNull","listener0","styleMaybeRemove","styleInterpolate","textTween","textInterpolate","removeFunction","easeConstant","easeVarying","Promise","resolve","reject","cancel","interrupt","defaultTiming","ZoomEvent","_ref","target","defineProperties","enumerable","configurable","Transform","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","range","rescaleY","defaultFilter","ctrlKey","button","defaultExtent","SVGElement","hasAttribute","viewBox","width","height","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","navigator","maxTouchPoints","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","DragEvent","subject","identifier","defaultContainer","defaultSubject","StoreContext","createContext","Provider$1","Provider","errorMessages","error001","error002","error003","nodeType","error004","error005","error006","error007","error009","error008","sourceHandle","edge","targetHandle","error010","error011","edgeType","error012","zustandErrorMessage","useStore","store","useContext","useStoreApi","useMemo","selector$g","userSelectionActive","Panel","position","className","rest","_objectWithoutProperties","_excluded","pointerEvents","positionClasses","jsx","_objectSpread","_toConsumableArray","Attribution","_ref2","proOptions","_ref2$position","hideAttribution","href","rel","EdgeText$1","memo","_ref3","label","_ref3$labelStyle","labelStyle","_ref3$labelShowBg","labelShowBg","_ref3$labelBgStyle","labelBgStyle","_ref3$labelBgPadding","labelBgPadding","_ref3$labelBgBorderRa","labelBgBorderRadius","_excluded2","edgeRef","useRef","_useState","useState","_useState2","edgeTextBbox","setEdgeTextBbox","edgeTextClasses","useEffect","current","textBbox","getBBox","jsxs","visibility","rx","ry","ref","getDimensions","offsetWidth","offsetHeight","val","clampPosition","calcAutoPanVelocity","abs","calcAutoPan","pos","bounds","getHostForElement","element","_element$getRootNode","_window","getRootNode","getBoundsOfBoxes","box1","box2","x2","y2","rectToBox","_ref4","boxToRect","_ref5","nodeToRect","positionAbsolute","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","ceil","isRectObject","obj","isNumeric","isFinite","internalsSymbol","for","elementSelectionKeys","devWarn","message","process","isInputDOMNode","_kbEvent$composedPath","_kbEvent$composedPath2","kbEvent","isReactKeyboardEvent","nativeEvent","composedPath","includes","nodeName","closest","isMouseEvent","getEventPosition","_event$touches","_event$touches2","_bounds$left","_bounds$top","isMouseTriggered","evtX","touches","evtY","isMacOs","_navigator","_navigator$userAgent","userAgent","BaseEdge","_ref6","path","labelX","labelY","markerEnd","markerStart","_ref6$interactionWidt","interactionWidth","Fragment","fill","strokeOpacity","strokeWidth","displayName","ConnectionMode","PanOnScrollMode","SelectionMode","ConnectionLineType","MarkerType","Position","getMouseHandler$1","handler","edges","getEdgeCenter","_ref7","sourceX","sourceY","targetX","targetY","xOffset","centerX","yOffset","getBezierEdgeCenter","_ref8","sourceControlX","sourceControlY","targetControlX","centerY","targetControlY","getControl","_ref9","x1","y1","Left","Right","getSimpleBezierPath","_ref10","_ref10$sourcePosition","sourcePosition","Bottom","_ref10$targetPosition","targetPosition","Top","_getControl","_getControl2","_getControl3","_getControl4","_getBezierEdgeCenter","_getBezierEdgeCenter2","offsetX","offsetY","SimpleBezierEdge","_ref11","_ref11$sourcePosition","_ref11$targetPosition","_getSimpleBezierPath","_getSimpleBezierPath2","handleDirections","_handleDirections","getDirection","_ref12","_ref12$sourcePosition","distance","getSmoothStepPath","_ref14","_ref14$sourcePosition","_ref14$targetPosition","_ref14$borderRadius","borderRadius","_ref14$offset","offset","_getPoints","_ref13","_ref13$sourcePosition","_ref13$targetPosition","center","sourceDir","targetDir","sourceGapped","targetGapped","dir","dirAccessor","currDir","points","sourceGapOffset","targetGapOffset","_getEdgeCenter","_getEdgeCenter2","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","diff","gapOffset","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","sourceGapPoint","targetGapPoint","getPoints","_getPoints2","reduce","res","p","segment","bendSize","xDir","yDir","getBend","SmoothStepEdge","_ref15","_ref15$sourcePosition","_ref15$targetPosition","pathOptions","_getSmoothStepPath","_getSmoothStepPath2","StepEdge","props","_props$pathOptions2","_props$pathOptions","StraightEdge","_ref17","_getStraightPath","_ref16","_getEdgeCenter3","_getEdgeCenter4","getStraightPath","_getStraightPath2","calculateControlOffset","curvature","getControlWithCurvature","_ref18","getBezierPath","_ref19","_ref19$sourcePosition","_ref19$targetPosition","_ref19$curvature","_getControlWithCurvat","_getControlWithCurvat2","_getControlWithCurvat3","_getControlWithCurvat4","_getBezierEdgeCenter3","_getBezierEdgeCenter4","BezierEdge","_ref20","_ref20$sourcePosition","_ref20$targetPosition","_getBezierPath","_getBezierPath2","NodeIdContext","Consumer","getEdgeId","_ref21","getMarkerId","marker","rfId","idPrefix","pointToRendererPoint","_ref22","_ref23","snapToGrid","_ref24","_ref25","tx","ty","tScale","_ref26","snapX","snapY","rendererPointToPoint","_ref27","_ref28","_ref29","getNodePositionWithOrigin","_node$width","_node$height","nodeOrigin","getRectOfNodes","box","currBox","_getNodePositionWithO","getNodesInside","nodeInternals","_ref30","_ref31","partially","excludeNonSelectableNodes","paneRect","visibleNodes","_node$selectable","selectable","_node$hidden","hidden","nodeRect","overlappingArea","dragging","getConnectedEdges","nodeIds","getTransformForBounds","minZoom","maxZoom","padding","xZoom","yZoom","clampedZoom","getD3Transition","getHandles","handleBounds","currentHandle","_node$positionAbsolut","_node$positionAbsolut2","_node$positionAbsolut3","_node$positionAbsolut4","nodeId","nullConnection","defaultResult","handleDomNode","isValid","connection","endHandle","isValidHandle","handle","connectionMode","fromNodeId","fromHandleId","fromType","isValidConnection","doc","isTarget","handleToCheck","result","handleType","getHandleType","handleNodeId","handleId","connectable","connectableEnd","Strict","edgeUpdaterType","resetRecentHandle","getConnectionStatus","isInsideConnectionRadius","isHandleValid","connectionStatus","handlePointerDown","_ref36","closestHandle","onConnect","onEdgeUpdateEnd","_getState","domNode","autoPanOnConnect","connectionRadius","onConnectStart","panBy","getNodes","cancelConnection","autoPanId","_getEventPosition2","clickedHandle","elementFromPoint","containerBounds","prevActiveHandle","connectionPosition","autoPanStarted","handleLookup","_ref35","sourceHandles","targetHandles","getHandleLookup","autoPan","_calcAutoPan","_calcAutoPan2","xMovement","yMovement","connectionNodeId","connectionHandleId","connectionHandleType","connectionStartHandle","connectionEndHandle","onPointerMove","onPointerUp","_getClosestHandle","handles","validator","_getEventPosition","handleBelow","elementsFromPoint","el","validHandleResult","closestHandles","minDistance","hasValidHandle","some","_ref32","hasTargetHandle","_ref33","_ref34","getClosestHandle","toggle","_getState$onConnectEn","_getState3","onConnectEnd","cancelAnimationFrame","alwaysValid","selector$f","connectOnClick","noPanClassName","Handle","forwardRef","_ref37","_store$getState$onErr","_store$getState","_ref37$type","_ref37$position","_ref37$isConnectable","isConnectable","_ref37$isConnectableS","isConnectableStart","_ref37$isConnectableE","isConnectableEnd","onMouseDown","onTouchStart","_excluded4","_useStore","_useStore2","startHandle","clickHandle","connectionClickStartHandle","connecting","clickConnecting","connectingSelector","onError","onConnectExtended","_store$getState2","defaultEdgeOptions","onConnectAction","hasDefaultEdges","edgeParams","_store$getState3","setEdges","connectionExists","addEdge","onPointerDown","connectablestart","connectableend","connectionindicator","onClick","_store$getState4","onClickConnectStart","onClickConnectEnd","isValidConnectionStore","isValidConnectionHandler","_isValidHandle","Handle$1","DefaultNode","_ref38","_ref38$targetPosition","_ref38$sourcePosition","DefaultNode$1","InputNode","_ref39","_ref39$sourcePosition","InputNode$1","OutputNode","_ref40","_ref40$targetPosition","OutputNode$1","GroupNode","selector$e","selectedNodes","selected","selectedEdges","selectId","areEqual","SelectionListener","_ref41","onSelectionChange","_useStore3","_store$getState$onSel","_store$getState5","changeSelector","Wrapper$1","_ref42","storeHasSelectionChange","selector$d","setNodes","setDefaultNodesAndEdges","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","reset","useStoreUpdater","setStoreState","useDirectStoreUpdater","StoreUpdater","_ref43","defaultNodes","defaultEdges","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesUpdatable","elevateNodesOnSelect","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","snapGrid","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","autoPanOnNodeDrag","_useStore4","edgesWithDefaults","display","ariaLiveStyle","margin","border","overflow","clip","clipPath","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","ARIA_LIVE_MESSAGE","selector$c","ariaLiveMessage","AriaLiveMessage","_ref44","A11yDescriptions","_ref45","disableKeyboardA11y","useKeyPress","keyCode","_useState3","_useState4","keyPressed","setKeyPressed","modifierPressed","pressedKeys","_useMemo","kc","keysFlat","item","_useMemo2","keyCodes","keysToWatch","_options$target","_options$target2","downHandler","metaKey","shiftKey","keyOrCode","useKeyOrCode","code","isMatchingKey","upHandler","resetHandler","_options$target3","_options$target4","isUp","eventCode","calculateXYZPosition","_result$x","_result$y","_parentNode$internals","_parentNode$internals2","_result$z","_parentNode$internals3","_parentNode$internals4","_result$z2","parentNodePosition","z","updateAbsoluteNodePositions","parentNodes","_node$internalsSymbol","_node$internalsSymbol2","_calculateXYZPosition","isParent","createNodeInternals","nextNodeInternals","selectedNodeZ","_currInternals$intern","zIndex","currInternals","internals","defineProperty","_get","d3Zoom","d3Selection","fitViewOnInitDone","fitViewOnInit","isInitialFitView","initial","_options$nodes","isVisible","includeHiddenNodes","optionNode","nodesInitialized","_options$minZoom","_options$maxZoom","_options$padding","_getTransformForBound","_getTransformForBound2","nextTransform","zoomIdentity","handleControlledNodeSelectionChange","nodeChanges","change","_objectSpread2","handleControlledEdgeSelectionChange","edgeChanges","updateNodesAndEdgesSelections","_ref46","changedNodes","changedEdges","_get2","hasDefaultNodes","initialViewportHelper","zoomIn","zoomOut","zoomTo","getZoom","setViewport","getViewport","setCenter","fitBounds","project","viewportInitialized","selector$b","useViewportHelper","_useStore5","viewportHelperFunctions","scaleBy","zoomLevel","scaleTo","_transform$x","_transform$y","_transform$zoom","_store$getState$trans","_store$getState$trans2","_store$getState6","nextZoom","_options$padding2","_store$getState7","_getTransformForBound3","_getTransformForBound4","_store$getState8","useReactFlow","viewportHelper","useCallback","getNode","getEdges","_store$getState9$edge","getEdge","_store$getState10$edg","payload","_store$getState11","nextNodes","changes","_store$getState12","_store$getState12$edg","nextEdges","addNodes","_store$getState13","currentNodes","addEdges","_store$getState14","_store$getState14$edg","toObject","_store$getState15","_store$getState15$edg","_transform","viewport","deleteElements","_ref47","nodesDeleted","edgesDeleted","_store$getState16","edgeIds","nodesToRemove","parentHit","deletable","deletableEdges","initialHitEdges","connectedEdges","edgesToRemove","edgeIdsToRemove","getNodeRect","nodeOrRect","isRect","getIntersectingNodes","_getNodeRect","_getNodeRect2","currNodeRect","isNodeIntersecting","area","_getNodeRect3","containerStyle","eventToFlowTransform","eventTransform","isWrappedWithClass","isRightClickPan","panOnDrag","usedButton","wheelDelta","factor","selector$a","d3ZoomHandler","ZoomPane","_ref49","onMove","onMoveStart","onMoveEnd","onPaneContextMenu","_ref49$zoomOnScroll","zoomOnScroll","_ref49$zoomOnPinch","zoomOnPinch","_ref49$panOnScroll","panOnScroll","_ref49$panOnScrollSpe","panOnScrollSpeed","_ref49$panOnScrollMod","panOnScrollMode","Free","_ref49$zoomOnDoubleCl","zoomOnDoubleClick","_ref49$panOnDrag","defaultViewport","zoomActivationKeyCode","_ref49$preventScrolli","preventScrolling","noWheelClassName","timerId","isZoomingOrPanning","zoomedWithRightMouseButton","zoomPane","prevTransform","_useStore6","zoomActivationKeyPressed","mouseButton","isPanScrolling","panScrollTimeout","rendererNode","resizeObserver","updateDimensions","_store$getState$onErr2","_store$getState18","ResizeObserver","observe","unobserve","useResizeHandler","bbox","d3ZoomInstance","touchstarting","touchfirst","touchending","constrain","touchable","scaleExtent","interpolateZoom","touchDelay","wheelDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","centroid","gesture","w","clean","__zooming","Gesture","taps","_len","_key","pointer","wheel","mouse","_len2","_key2","moved","x0","y0","dragEnable","dragDisable","_len3","_key3","changedTouches","k1","_len4","_key4","started","touch0","touch1","_len5","_key5","l0","l1","dp","dl","_len6","_key6","hypot","collection","translateBy","translateTo","emit","clickDistance","updatedTransform","constrainedTransform","currentZoom","_isMacOs","pinchDelta","deltaNormalize","deltaX","Vertical","Horizontal","internal","nextViewport","_store$getState19","onViewportChangeStart","onViewportChange","onViewportChangeEnd","_event$sourceEvent","_event$sourceEvent2","flowTransform","paneDragging","_mouseButton$current","_event$sourceEvent3","_mouseButton$current2","prevViewport","zoomScroll","pinchZoom","buttonAllowed","selector$9","userSelectionRect","UserSelection","_useStore7","handleParentExpand","updateItem","extendWidth","extendHeight","_parent$style$width","_parent$style$height","xDiff","yDiff","applyChanges","elements","initElements","currentChanges","currentChange","expandParent","dimensions","updateStyle","resizing","applyNodeChanges","createSelectionChange","getSelectionChanges","items","selectedIds","willBeSelected","wrapHandler","containerRef","selector$8","Pane","_ref50","isSelecting","_ref50$selectionMode","selectionMode","Full","onSelectionStart","onSelectionEnd","onPaneClick","onPaneScroll","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","container","prevSelectedNodesCount","prevSelectedEdgesCount","_useStore8","resetUserSelection","resetSelectedElements","nodesSelectionActive","onWheel","hasActiveSelection","onContextMenu","onMouseEnter","_store$getState23","_getEventPosition3","startX","startY","onMouseMove","_userSelectionRect$st","_userSelectionRect$st2","_store$getState24","mousePos","nextUserSelectRect","Partial","selectedEdgeIds","selectedNodeIds","onMouseUp","onMouseLeave","isParentSelected","hasSelector","nodeRef","_current","parentElement","getDragItems","draggable","_n$positionAbsolute$x","_n$positionAbsolute","_n$positionAbsolute$y","_n$positionAbsolute2","delta","calcNextPosition","nextPosition","clampedNodeExtent","clampNodeExtent","currentExtent","_getNodePositionWithO3","parentX","parentY","_getNodePositionWithO4","parentPosition","getEventHandlerParams","_ref51","dragItems","extentedDragItems","getHandleBounds","nodeElement","handlesArray","nodeBounds","nodeOffset","getMouseHandler","handleNodeClick","_ref52","_ref52$unselect","unselect","_store$getState26","addSelectedNodes","unselectNodesAndEdges","multiSelectionActive","_nodeRef$current","blur","wrapSelectionDragFunc","selectionFunc","useDrag","_ref54","_ref54$disabled","disabled","noDragClassName","handleSelector","isSelectable","selectNodesOnDrag","_useState5","_useState6","setDragging","lastPos","mousePosition","dragEvent","getPointerPosition","_ref53","_store$getState27","pointerPos","xSnapped","ySnapped","useGetPointerPosition","updateNodes","_ref55","_store$getState28","updateNodePositions","hasChange","nodesBox","_n$width","_n$height","adjustedNodeExtent","updatedPos","onDrag","_getEventHandlerParam","_getEventHandlerParam2","currentNode","_calcAutoPan3","_calcAutoPan4","_lastPos$current$x","_lastPos$current$y","_store$getState29","dragHandler","mousedownx","mousedowny","mousemoving","gestures","drag","beforestart","mousemoved","mouseupped","nodrag","touch","_nodeInternals$get","_store$getState30","onStart","_getEventHandlerParam3","_getEventHandlerParam4","_store$getState32","onStop","_getEventHandlerParam5","_getEventHandlerParam6","useUpdateNodePositions","_store$getState33","xVelo","yVelo","isShiftPressed","positionDiffX","positionDiffY","_calcNextPosition","arrowKeyDiffs","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","wrapNode","NodeComponent","NodeWrapper","_ref56","xPos","yPos","xPosOrigin","yPosOrigin","onDoubleClick","isDraggable","isFocusable","dragHandle","initialized","ariaLabel","prevSourcePosition","prevTargetPosition","prevType","hasPointerEvents","updatePositions","onMouseEnterHandler","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onDoubleClickHandler","currNode","typeChanged","sourcePosChanged","targetPosChanged","updateNodeDimensions","forceUpdate","onKeyDown","tabIndex","role","selector$7","transformString","NodesSelection$1","_ref58","onSelectionContextMenu","_useStore9","_nodeRef$current2","focus","preventScroll","selector$6","FlowRenderer","_ref59","deleteKeyCode","selectionKeyCode","selectionOnDrag","multiSelectionKeyCode","panActivationKeyCode","_panOnDrag","selectionKeyPressed","_ref48","deleteKeyPressed","multiSelectionKeyPressed","_store$getState17","useGlobalKeyHandler","FlowRenderer$1","createNodeTypes","nodeTypes","standardTypes","input","default","output","specialTypes","selector$5","NodeRenderer","onlyRenderVisible","_useStore10","onlyRenderVisibleElements","resizeObserverRef","observer","entries","updates","entry","_resizeObserverRef$cu","disconnect","_clampedPosition$x","_clampedPosition$y","_node$width2","_node$height2","_node$internalsSymbol3","_node$internalsSymbol4","_node$internalsSymbol5","focusable","clampedPosition","posX","posY","posOrigin","_ref60","origin","getPositionWithOrigin","onNodeClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","NodeRenderer$1","shiftX","shift","shiftY","EdgeUpdaterClassName","EdgeAnchor","_ref61","_ref61$radius","radius","onMouseOut","cx","cy","stroke","alwaysValidConnection","wrapEdge","EdgeComponent","EdgeWrapper","_ref62","onEdgeDoubleClick","animated","sourceHandleId","targetHandleId","edgeUpdaterRadius","onEdgeUpdate","onEdgeUpdateStart","isUpdatable","_useState7","_useState8","updateHover","setUpdateHover","_useState9","_useState10","updating","setUpdating","markerStartUrl","markerEndUrl","onEdgeDoubleClickHandler","onEdgeContextMenu","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","handleEdgeUpdater","isSourceHandle","_store$getState35","evt","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","inactive","_store$getState34","addSelectedEdges","_edgeRef$current","_store$getState36","createEdgeTypes","edgeTypes","straight","bezier","step","smoothstep","simplebezier","getHandlePosition","getHandle","getNodeData","_node$internalsSymbol6","_node$positionAbsolut5","_node$positionAbsolut6","_node$positionAbsolut7","_node$positionAbsolut8","defaultEdgeTree","level","isMaxLevel","useVisibleEdges","elevateEdgesOnSelect","sourceNode","targetNode","_ref63","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","isEdgeVisible","maxLevel","levelLookup","tree","hasZIndex","_sourceNode$internals","_targetNode$internals","edgeOrConnectedNodeSelected","selectedZIndex","edgeTree","_ref64","_ref65","groupEdgesByZLevel","MarkerSymbols","_MarkerSymbols","Arrow","_ref66","_ref66$color","_ref66$strokeWidth","strokeLinecap","strokeLinejoin","ArrowClosed","_ref67","_ref67$color","_ref67$strokeWidth","Marker","_ref68","_ref68$width","_ref68$height","_ref68$markerUnits","markerUnits","_ref68$orient","orient","_store$getState$onErr3","_store$getState37","useMarkerSymbol","markerWidth","markerHeight","refX","refY","MarkerDefinitions","_ref70","defaultColor","markers","_ref69","ids","markerId","localeCompare","markerSelector","MarkerDefinitions$1","selector$4","EdgeRenderer","_ref71","defaultMarkerColor","onEdgeClick","_useStore11","_ref72","_targetHandleBounds$t","_targetHandleBounds$s","_getNodeData","_getNodeData2","sourceNodeRect","sourceHandleBounds","sourceIsValid","_getNodeData3","_getNodeData4","targetNodeRect","targetHandleBounds","targetIsValid","targetNodeHandles","updatable","_getEdgePositions","sourceHandlePos","targetHandlePos","getEdgePositions","EdgeRenderer$1","selector$3","Viewport","_ref73","oppositePosition","_oppositePosition","ConnectionLine","_ref74","_fromNode$internalsSy","_fromNode$width","_fromNode$height","_fromNode$positionAbs","_fromNode$positionAbs2","_fromNode$positionAbs3","_fromNode$positionAbs4","_ref74$type","Bezier","CustomComponent","_useStore12","fromNode","toX","toY","fromHandleBounds","Loose","fromHandle","fromHandleX","fromHandleY","fromX","fromY","fromPosition","toPosition","connectionLineType","connectionLineStyle","dAttr","pathParams","_getBezierPath3","Step","_getSmoothStepPath3","SmoothStep","_getSmoothStepPath5","SimpleBezier","_getSimpleBezierPath3","selector$2","ConnectionLineWrapper","_ref75","component","_useStore13","useNodeOrEdgeTypes","nodeOrEdgeTypes","createTypes","GraphView","_ref76","onInit","connectionLineComponent","connectionLineContainerStyle","nodeTypesWrapped","edgeTypesWrapped","rfInstance","isInitialized","useOnInitHandler","GraphView$1","infiniteExtent","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","initialState","fitViewOnInitOptions","createRFStore","_get3","_get4$defaultEdgeOpti","_get5","viewportNode","DOMMatrixReadOnly","m22","nextFitViewOnInitDone","nodeDragItems","positionChanged","triggerNodeChanges","_get7","_get8","_get9","edgeId","_ref77","_get10","storeEdges","edgesToUnselect","_get11","_get12","_get$d3Zoom","_get13","_get15","ReactFlowProvider","_ref78","storeRef","Wrapper","_ref79","defaultNodeTypes","defaultEdgeTypes","initNodeOrigin","initSnapGrid","initDefaultViewport","wrapperStyle","ReactFlow","_ref80","_ref80$nodeTypes","_ref80$edgeTypes","_ref80$connectionMode","_ref80$connectionLine","_ref80$deleteKeyCode","_ref80$selectionKeyCo","_ref80$selectionOnDra","_ref80$selectionMode","_ref80$panActivationK","_ref80$multiSelection","_ref80$zoomActivation","_ref80$snapToGrid","_ref80$snapGrid","_ref80$onlyRenderVisi","_ref80$selectNodesOnD","_ref80$nodeOrigin","_ref80$defaultViewpor","_ref80$minZoom","_ref80$maxZoom","_ref80$translateExten","_ref80$preventScrolli","_ref80$defaultMarkerC","_ref80$zoomOnScroll","_ref80$zoomOnPinch","_ref80$panOnScroll","_ref80$panOnScrollSpe","_ref80$panOnScrollMod","_ref80$zoomOnDoubleCl","_ref80$panOnDrag","_ref80$edgeUpdaterRad","_ref80$noDragClassNam","_ref80$noWheelClassNa","_ref80$noPanClassName","_ref80$fitView","_ref80$connectOnClick","attributionPosition","_ref80$elevateNodesOn","_ref80$elevateEdgesOn","_ref80$disableKeyboar","_ref80$autoPanOnConne","_ref80$autoPanOnNodeD","_ref80$connectionRadi","_excluded5","createUseItemsState","initialItems","_useState11","_useState12","setItems","onItemsChange","useNodesState","useEdgesState","useWindowSize","_React$useState45","React","_React$useState46","setSize","handleResize","innerWidth","innerHeight"],"sourceRoot":""}