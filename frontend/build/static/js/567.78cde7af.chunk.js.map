{"version":3,"file":"static/js/567.78cde7af.chunk.js","mappings":"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","sources":["components/WeeklyUpdate/ButtonDatePicker.js","components/WeeklyUpdate/PDFReader.js","components/WeeklyUpdate/BulletinUploadModal.js","pages/WeeklyUpdate/WeeklyUpdate.js"],"sourcesContent":["import PropTypes from \"prop-types\";\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@mui/material\";\r\nimport { DatePicker, LocalizationProvider } from \"@mui/x-date-pickers\";\r\nimport { AdapterDateFns } from \"@mui/x-date-pickers/AdapterDateFns\";\r\nimport { format } from \"date-fns\";\r\n\r\nfunction ButtonField(props) {\r\n  const {\r\n    setIsDatePickerOpen,\r\n    id,\r\n    disabled,\r\n    value,\r\n    InputProps: { ref } = {},\r\n    inputProps: { \"aria-label\": ariaLabel } = {},\r\n  } = props;\r\n\r\n  return (\r\n    <Button\r\n      variant=\"outlined\"\r\n      size=\"large\"\r\n      id={id}\r\n      disabled={disabled}\r\n      ref={ref}\r\n      aria-label={ariaLabel}\r\n      onClick={() => setIsDatePickerOpen?.((prev) => !prev)}\r\n    >\r\n      {format(value, \"MM/dd/yyyy\")}\r\n    </Button>\r\n  );\r\n}\r\n\r\nButtonField.propTypes = {\r\n  disabled: PropTypes.bool,\r\n  id: PropTypes.string,\r\n  inputProps: PropTypes.shape({\r\n    \"aria-label\": PropTypes.string,\r\n  }),\r\n  InputProps: PropTypes.shape({\r\n    endAdornment: PropTypes.node,\r\n    startAdornment: PropTypes.node,\r\n  }),\r\n  setIsDatePickerOpen: PropTypes.func,\r\n  label: PropTypes.node,\r\n};\r\n\r\nfunction ButtonDatePicker(props) {\r\n  const [isDatePickerOpen, setIsDatePickerOpen] = useState(false);\r\n\r\n  const notSunday = (date) => {\r\n    const day = date.getDay();\r\n    return day !== 0;\r\n  };\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n      <DatePicker\r\n        slots={{ field: ButtonField, ...props.slots }}\r\n        slotProps={{\r\n          field: { setIsDatePickerOpen },\r\n          popper: { placement: \"bottom\" },\r\n        }}\r\n        {...props}\r\n        open={isDatePickerOpen}\r\n        onClose={() => setIsDatePickerOpen(false)}\r\n        shouldDisableDate={notSunday}\r\n        disableHighlightToday\r\n        // renderInput={(props) => (\r\n        //   <Button\r\n        //     ref={props.inputRef}\r\n        //     variant=\"outlined\"\r\n        //     size=\"large\"\r\n        //     onClick={() =>\r\n        //       setIsDatePickerOpen((isDatePickerOpen) => !isDatePickerOpen)\r\n        //     }\r\n        //   >\r\n        //     {props.inputProps.value}\r\n        //   </Button>\r\n        // )}\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n}\r\n\r\nexport default ButtonDatePicker;\r\n","import { Button, ButtonGroup, CircularProgress } from \"@mui/material\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { pdfjs, Page, Document } from \"react-pdf\";\r\nimport pdfjsWorker from \"pdfjs-dist/build/pdf.worker.entry\";\r\n\r\nimport \"react-pdf/dist/esm/Page/AnnotationLayer.css\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = pdfjsWorker;\r\n\r\nfunction PDFReader(props) {\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [scale, setScale] = useState(1);\r\n\r\n  const add = () => {\r\n    setScale(scale + 0.2);\r\n  };\r\n\r\n  const minus = () => {\r\n    if (scale !== 1) {\r\n      setScale(scale - 0.2);\r\n    }\r\n  };\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    setNumPages(numPages);\r\n  }\r\n\r\n  function changePage(offset) {\r\n    setPageNumber((prevPageNumber) => prevPageNumber + offset);\r\n  }\r\n\r\n  function previousPage() {\r\n    changePage(-1);\r\n  }\r\n\r\n  function nextPage() {\r\n    changePage(1);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setPageNumber(1);\r\n  }, [props.file]);\r\n\r\n  const width = isMobile\r\n    ? document.documentElement.clientWidth\r\n    : window.innerWidth;\r\n  const height = isMobile\r\n    ? document.documentElement.clientHeight\r\n    : window.innerHeight;\r\n\r\n  const [windowDimension, detectHW] = useState({\r\n    width: height * 10 > width * 16 ? width - 30 : null,\r\n    height: height * 10 < width * 16 ? height - 400 : null,\r\n  });\r\n\r\n  const detectSize = () => {\r\n    const width = isMobile\r\n      ? document.documentElement.clientWidth\r\n      : window.innerWidth;\r\n    const height = isMobile\r\n      ? document.documentElement.clientHeight\r\n      : window.innerHeight;\r\n\r\n    detectHW({\r\n      width: height * 10 >= width * 16 ? width - 30 : null,\r\n      height: height * 10 <= width * 16 ? height - 400 : null,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", detectSize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", detectSize);\r\n    };\r\n  }, [windowDimension]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: \"1em\", marginBottom: \"1em\" }}>\r\n        <ButtonGroup id=\"scaleButton\">\r\n          <Button onClick={add} variant={\"outlined\"}>\r\n            +\r\n          </Button>\r\n          <Button onClick={minus} variant={\"outlined\"} disabled={scale <= 1}>\r\n            -\r\n          </Button>\r\n        </ButtonGroup>\r\n      </div>\r\n\r\n      <Document\r\n        file={props.file}\r\n        onLoadSuccess={onDocumentLoadSuccess}\r\n        loading={<CircularProgress />}\r\n      >\r\n        <Page\r\n          renderTextLayer={false}\r\n          className=\"page\"\r\n          scale={scale}\r\n          height={windowDimension.height}\r\n          width={windowDimension.width}\r\n          pageNumber={pageNumber}\r\n        />\r\n      </Document>\r\n\r\n      <div>\r\n        <p style={{ color: \"black\" }}>\r\n          Page {pageNumber || (numPages ? 1 : \"--\")} of {numPages || \"--\"}\r\n        </p>\r\n        <ButtonGroup id=\"pageButton\">\r\n          <Button\r\n            type=\"button\"\r\n            variant={\"outlined\"}\r\n            disabled={pageNumber <= 1}\r\n            onClick={previousPage}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            type=\"button\"\r\n            variant={\"outlined\"}\r\n            disabled={pageNumber >= numPages}\r\n            onClick={nextPage}\r\n          >\r\n            Next\r\n          </Button>\r\n        </ButtonGroup>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PDFReader;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Box, Button, Modal } from \"@mui/material\";\r\nimport ButtonDatePicker from \"./ButtonDatePicker\";\r\n\r\nconst modalStyle = {\r\n  overlay: {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: \"rgba(255, 255, 255, 0.45)\",\r\n    zIndex: 10,\r\n  },\r\n  content: {\r\n    justifyContent: \"center\",\r\n    background: \"#ffffff\",\r\n    overflow: \"auto\",\r\n    top: \"30vh\",\r\n    left: \"35vw\",\r\n    right: \"35vw\",\r\n    bottom: \"30vh\",\r\n    WebkitOverflowScrolling: \"touch\",\r\n    borderRadius: \"14px\",\r\n    outline: \"none\",\r\n    zIndex: 10,\r\n  },\r\n};\r\n\r\nconst style = {\r\n  position: \"absolute\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  width: \"50vw\",\r\n  maxWidth: \"1500px\",\r\n  height: \"50vh\",\r\n  bgcolor: \"#ffffff\",\r\n  border: \"0.1px solid #f57c00\",\r\n  boxShadow: 24,\r\n  p: 2,\r\n};\r\n\r\nconst BulletinUploadModal = (props) => {\r\n  function nextSunday() {\r\n    var today = new Date();\r\n    today.setDate(today.getDate() + ((-1 - today.getDay() + 7) % 7) + 1);\r\n    return today;\r\n  }\r\n\r\n  const [selectedDate, setSelectedDate] = useState(nextSunday());\r\n\r\n  const inputRef = useRef(null);\r\n\r\n  const [fileToUpload, setFileToUpload] = useState(null);\r\n\r\n  const handleChangeFile = ({ target }) => {\r\n    setFileToUpload(target.files[0]);\r\n  };\r\n\r\n  return (\r\n    <Modal open={props.open} onClose={props.onClose}>\r\n      <Box sx={style} bgcolor=\"white\">\r\n        <h2>Choose Date</h2>\r\n\r\n        <ButtonDatePicker\r\n          value={selectedDate}\r\n          minDate={new Date(\"2022/04/03\")}\r\n          onChange={setSelectedDate}\r\n        />\r\n\r\n        <h2>Choose File</h2>\r\n        <input\r\n          type=\"file\"\r\n          ref={inputRef}\r\n          id=\"bulletin\"\r\n          name=\"theFile\"\r\n          onChange={handleChangeFile}\r\n          accept=\"application/pdf\"\r\n        />\r\n\r\n        <p>\r\n          <Button\r\n            onClick={() => props.onModalUpload(fileToUpload, selectedDate)}\r\n          >\r\n            Upload\r\n          </Button>\r\n          <Button onClick={props.onClose}>Close</Button>\r\n        </p>\r\n      </Box>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default BulletinUploadModal;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  Alert,\r\n  CircularProgress,\r\n  Fab,\r\n  IconButton,\r\n  Snackbar,\r\n} from \"@mui/material\";\r\nimport ArrowBackIosIcon from \"@mui/icons-material/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@mui/icons-material/ArrowForwardIos\";\r\nimport UploadIcon from \"@mui/icons-material/Upload\";\r\n\r\nimport ButtonDatePicker from \"../../components/WeeklyUpdate/ButtonDatePicker\";\r\nimport PDFReader from \"../../components/WeeklyUpdate/PDFReader\";\r\nimport BulletinUploadModal from \"../../components/WeeklyUpdate/BulletinUploadModal\";\r\n\r\nimport \"./WeeklyUpdate.css\";\r\n\r\nconst WeeklyUpdate = () => {\r\n  const [bulletin, setBulletin] = useState(null);\r\n  const [isSuccessSnackBarOpen, setIsSuccessSnackBarOpen] = useState(false);\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n  const [modalState, setModalState] = useState(false);\r\n  const [maxDate, setMaxDate] = useState(null);\r\n  const minDate = new Date(\"2022/04/03\");\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setIsSuccessSnackBarOpen(false);\r\n  };\r\n\r\n  const getMaxDate = async () => {\r\n    try {\r\n      const result = await axios.get(\r\n        \"http://oncce.ca:3001/api/WeeklyUpdate/RecentDate\"\r\n      );\r\n      console.log(result.data);\r\n\r\n      const recentDate = new Date(result.data.replace(/-/g, \"/\"));\r\n      setMaxDate(recentDate);\r\n\r\n      const params = new URLSearchParams(window.location.search);\r\n      const queryDate = params.get(\"date\");\r\n\r\n      if (queryDate === null) {\r\n        setSelectedDate(recentDate);\r\n      } else {\r\n        const year = +queryDate.substring(0, 4);\r\n        const month = +queryDate.substring(4, 6);\r\n        const day = +queryDate.substring(6, 8);\r\n\r\n        setSelectedDate(new Date(year, month - 1, day));\r\n      }\r\n    } catch (err) {}\r\n  };\r\n\r\n  // Get Bulletin from Firestore\r\n  const loadFile = useCallback(async () => {\r\n    try {\r\n      const result = await axios.get(\r\n        \"http://oncce.ca:3001/api/WeeklyUpdate/GetBulletin\",\r\n        {\r\n          params: { date: selectedDate.toLocaleDateString(\"sv\") },\r\n        }\r\n      );\r\n      setBulletin(result.data);\r\n    } catch (err) {}\r\n  }, [selectedDate]);\r\n\r\n  const closeModal = () => {\r\n    setModalState(false);\r\n  };\r\n\r\n  const uploadBulletin = async (file, date) => {\r\n    fileToBase64(file, (err, result) => {\r\n      axios\r\n        .put(\"http://oncce.ca:3001/api/WeeklyUpdate/PostBulletin/\", {\r\n          file: result,\r\n          date: date.toLocaleDateString(\"sv\"),\r\n        })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          setMaxDate(new Date(res.data.replace(/-/g, \"/\")));\r\n          setSelectedDate(date);\r\n          closeModal();\r\n          setIsSuccessSnackBarOpen(true);\r\n        });\r\n    });\r\n  };\r\n\r\n  const fileToBase64 = (file, cb) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = function () {\r\n      cb(null, reader.result);\r\n    };\r\n    reader.onerror = function (error) {\r\n      cb(error, null);\r\n    };\r\n  };\r\n\r\n  const previousBulletin = () => {\r\n    setSelectedDate(\r\n      new Date(\r\n        selectedDate.getFullYear(),\r\n        selectedDate.getMonth(),\r\n        selectedDate.getDate() - 7\r\n      )\r\n    );\r\n  };\r\n\r\n  const nextBulletin = () => {\r\n    setSelectedDate(\r\n      new Date(\r\n        selectedDate.getFullYear(),\r\n        selectedDate.getMonth(),\r\n        selectedDate.getDate() + 7\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMaxDate();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedDate != null) {\r\n      loadFile();\r\n      const newUrl =\r\n        window.location.protocol +\r\n        \"//\" +\r\n        window.location.host +\r\n        window.location.pathname +\r\n        \"?date=\" +\r\n        selectedDate.toLocaleDateString(\"sv\").replace(/-/g, \"\");\r\n\r\n      window.history.replaceState({}, null, newUrl);\r\n    }\r\n  }, [selectedDate, loadFile]);\r\n\r\n  function compareDate(date1, date2) {\r\n    return (\r\n      date1.getFullYear() === date2.getFullYear() &&\r\n      date1.getMonth() === date2.getMonth() &&\r\n      date1.getDate() === date2.getDate()\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"weeklyBulletinBoard\">\r\n      <h1>주보</h1>\r\n\r\n      {selectedDate && bulletin ? (\r\n        <>\r\n          <IconButton\r\n            id=\"previousBulletin\"\r\n            onClick={previousBulletin}\r\n            disabled={compareDate(selectedDate, minDate)}\r\n          >\r\n            <ArrowBackIosIcon />\r\n          </IconButton>\r\n\r\n          <ButtonDatePicker\r\n            value={selectedDate}\r\n            minDate={minDate}\r\n            maxDate={maxDate}\r\n            onChange={setSelectedDate}\r\n          />\r\n\r\n          <IconButton\r\n            id=\"nextBulletin\"\r\n            onClick={nextBulletin}\r\n            disabled={compareDate(selectedDate, maxDate)}\r\n          >\r\n            <ArrowForwardIosIcon />\r\n          </IconButton>\r\n\r\n          <PDFReader file={bulletin} />\r\n        </>\r\n      ) : (\r\n        <CircularProgress />\r\n      )}\r\n\r\n      <Fab\r\n        id=\"uploadBulletinButton\"\r\n        variant=\"extended\"\r\n        onClick={() => setModalState(true)}\r\n      >\r\n        <UploadIcon sx={{ mr: 1 }} />\r\n        Upload\r\n      </Fab>\r\n\r\n      <BulletinUploadModal\r\n        open={modalState}\r\n        onModalUpload={uploadBulletin}\r\n        onClose={closeModal}\r\n      />\r\n\r\n      <Snackbar\r\n        open={isSuccessSnackBarOpen}\r\n        autoHideDuration={8000}\r\n        onClose={handleClose}\r\n      >\r\n        <Alert severity=\"success\" onClose={handleClose}>\r\n          Uploaded Succesfully!\r\n        </Alert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeeklyUpdate;\r\n"],"names":["ButtonField","props","setIsDatePickerOpen","id","disabled","value","_props$InputProps","InputProps","ref","_props$inputProps","inputProps","ariaLabel","_jsx","Button","variant","size","onClick","prev","children","format","_useState","useState","_useState2","_slicedToArray","isDatePickerOpen","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","_objectSpread","slots","field","slotProps","popper","placement","open","onClose","shouldDisableDate","date","getDay","disableHighlightToday","pdfjs","pdfjsWorker","numPages","setNumPages","_useState3","_useState4","pageNumber","setPageNumber","_useState5","_useState6","scale","setScale","changePage","offset","prevPageNumber","useEffect","file","width","isMobile","document","documentElement","clientWidth","window","innerWidth","height","clientHeight","innerHeight","_useState7","_useState8","windowDimension","detectHW","detectSize","addEventListener","removeEventListener","_jsxs","_Fragment","style","marginTop","marginBottom","ButtonGroup","Document","onLoadSuccess","_ref","loading","CircularProgress","Page","renderTextLayer","className","color","type","position","top","left","transform","maxWidth","bgcolor","border","boxShadow","p","today","Date","setDate","getDate","nextSunday","selectedDate","setSelectedDate","inputRef","useRef","fileToUpload","setFileToUpload","Modal","Box","sx","ButtonDatePicker","minDate","onChange","name","target","files","accept","onModalUpload","bulletin","setBulletin","isSuccessSnackBarOpen","setIsSuccessSnackBarOpen","modalState","setModalState","_useState9","_useState10","maxDate","setMaxDate","handleClose","event","reason","getMaxDate","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","recentDate","params","queryDate","year","month","day","wrap","_context","next","axios","sent","console","log","data","replace","URLSearchParams","location","search","get","substring","t0","stop","apply","arguments","loadFile","useCallback","_callee2","_context2","toLocaleDateString","closeModal","uploadBulletin","_ref3","_callee3","_context3","fileToBase64","err","then","res","_x","_x2","cb","reader","FileReader","readAsDataURL","onload","onerror","error","compareDate","date1","date2","getFullYear","getMonth","newUrl","protocol","host","pathname","history","replaceState","IconButton","ArrowBackIosIcon","ArrowForwardIosIcon","PDFReader","Fab","UploadIcon","mr","BulletinUploadModal","Snackbar","autoHideDuration","Alert","severity"],"sourceRoot":""}