"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[580],{5580:function(n,t,e){e.r(t);var r=e(4165),o=e(5861),i=e(3433),a=e(9439),c=e(2791),s=e(2763),u=e(7888),f=e(3239),l=e(9877),p=e(3590),d=e(4554),h=e(4518),x=e(2419),m=e(6321),Z=e(7451),g=e(7984),b=e(1087),v=e(184);t.default=function(){var n=(0,c.useState)(!1),t=(0,a.Z)(n,2),e=t[0],w=t[1],j=(0,c.useState)([]),y=(0,a.Z)(j,2),k=y[0],S=y[1],C=(0,c.useState)([]),O=(0,a.Z)(C,2),U=O[0],E=O[1];function L(){return L=(0,o.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){for(var t=[],e=function(e){F(k[e],(function(r,o){t.push(o),e===k.length-1&&n(t)}))},r=0;r<k.length;r++)e(r)})));case 1:case"end":return n.stop()}}),n)}))),L.apply(this,arguments)}(0,c.useEffect)((function(){Array.from(k).forEach((function(n){E([].concat((0,i.Z)(U),[URL.createObjectURL(n)]))}))}),[k]);function N(){return N=(0,o.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.ET)((0,m.hJ)(Z.db,"MeditationON"),{images:t});case 2:case"end":return n.stop()}}),n)}))),N.apply(this,arguments)}var R=(0,c.useState)(null),M=(0,a.Z)(R,2),z=M[0],A=M[1];function D(){return(D=(0,o.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.PL)((0,m.hJ)(Z.db,"MeditationON"));case 2:t=n.sent,A(t),console.log(t.docs[0].data());case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}(0,c.useEffect)((function(){!function(){D.apply(this,arguments)}()}),[]);var F=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(t,e){var o,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.Z)(t,{maxSizeMB:.1});case 2:o=n.sent,(i=new FileReader).readAsDataURL(o),i.onload=function(){e(null,i.result)},i.onerror=function(n){e(n,null)};case 7:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)"},children:[(0,v.jsx)("h1",{children:"\ubb35\uc0c1 ON"}),z?(0,v.jsx)(s.Z,{sx:{width:"100%"},cols:3,children:z.docs.map((function(n){return(0,v.jsx)(u.Z,{component:b.rU,to:"/meditationON/post?docID="+n.id,children:(0,v.jsx)("img",{src:"".concat(n.data().images[0],"?w=300&h=300&fit=crop&auto=format"),srcSet:n.data().images[0],loading:"lazy"})})}))}):(0,v.jsx)(f.Z,{})]}),(0,v.jsx)(l.Z,{variant:"primary",style:{position:"fixed",right:"2vw",bottom:"3vh"},onClick:function(){w(!0)},children:(0,v.jsx)(x.Z,{})}),(0,v.jsx)(p.Z,{open:e,onClose:function(){S([]),E([]),w(!1)},children:(0,v.jsxs)(d.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"800px",height:"800px",bgcolor:"#ffffff",border:"0.1px solid #f57c00",boxShadow:24,p:2},bgcolor:"white",children:[(0,v.jsxs)(h.Z,{variant:"contained",component:"label",children:["Upload",(0,v.jsx)("input",{hidden:!0,accept:"image/*",multiple:!0,type:"file",onChange:function(n){return function(n){S(n.target.files)}(n)}})]}),(0,v.jsx)(h.Z,{onClick:function(){(function(){return L.apply(this,arguments)})().then((function(n){!function(n){N.apply(this,arguments)}(n)}))},variant:"contained",component:"label",children:"Submit"}),U.map((function(n){return(0,v.jsx)("img",{src:n})}))]})})]})}}}]);
//# sourceMappingURL=580.5806b598.chunk.js.map