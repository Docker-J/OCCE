{"version":3,"file":"static/js/472.b21364fa.chunk.js","mappings":"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","sources":["common/AdminComponent.js","common/ButtonDatePicker.js","components/News/WeeklyUpdate/PDFReader.js","api/weeklyupdate.js","components/News/WeeklyUpdate/WeeklyUpdatePostModal.js","pages/News/WeeklyUpdate/WeeklyUpdate.js"],"sourcesContent":["import { useSelector } from \"react-redux\";\r\n\r\nconst AdminComponent = (props) => {\r\n  const user = useSelector((state) => state.authToken.admin);\r\n\r\n  return user && props.children;\r\n};\r\n\r\nexport default AdminComponent;\r\n","import { useState } from \"react\";\r\nimport { Button } from \"@mui/material\";\r\nimport { DatePicker, LocalizationProvider } from \"@mui/x-date-pickers\";\r\nimport { AdapterDateFns } from \"@mui/x-date-pickers/AdapterDateFnsV3\";\r\nimport { format } from \"date-fns\";\r\n\r\nconst ButtonField = (props) => {\r\n  const {\r\n    setIsDatePickerOpen,\r\n    id,\r\n    disabled,\r\n    value,\r\n    InputProps: { ref } = {},\r\n    inputProps: { \"aria-label\": ariaLabel } = {},\r\n  } = props;\r\n\r\n  return (\r\n    <Button\r\n      variant=\"outlined\"\r\n      size=\"large\"\r\n      id={id}\r\n      disabled={disabled}\r\n      ref={ref}\r\n      aria-label={ariaLabel}\r\n      onClick={() => setIsDatePickerOpen?.((prev) => !prev)}\r\n    >\r\n      {format(value, \"yyyy/MM/dd\")}\r\n    </Button>\r\n  );\r\n};\r\n\r\nconst ButtonDatePicker = (props) => {\r\n  const [isDatePickerOpen, setIsDatePickerOpen] = useState(false);\r\n  const { disableDate, ...restProps } = props;\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n      <DatePicker\r\n        slots={{ field: ButtonField }}\r\n        slotProps={{\r\n          field: { setIsDatePickerOpen },\r\n          popper: { placement: \"bottom\" },\r\n        }}\r\n        {...restProps}\r\n        open={isDatePickerOpen}\r\n        onClose={() => setIsDatePickerOpen(false)}\r\n        shouldDisableDate={(date) => disableDate && disableDate(date)}\r\n        disableHighlightToday\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n};\r\n\r\nexport default ButtonDatePicker;\r\n","import { Button, ButtonGroup, CircularProgress } from \"@mui/material\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { pdfjs, Page, Document } from \"react-pdf\";\r\n\r\nimport \"react-pdf/dist/esm/Page/AnnotationLayer.css\";\r\nimport \"./PDFReader.css\";\r\n\r\n// pdfjs.GlobalWorkerOptions.workerSrc = new URL(\r\n//   \"pdfjs-dist/build/pdf.worker.min.js\",\r\n//   import.meta.url\r\n// ).toString();\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nfunction PDFReader({ file, documentDimension }) {\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [scale, setScale] = useState(1);\r\n\r\n  const add = () => {\r\n    setScale((prev) => prev + 0.2);\r\n  };\r\n\r\n  const minus = () => {\r\n    if (scale !== 1) {\r\n      setScale((prev) => prev - 0.2);\r\n    }\r\n  };\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    setNumPages(numPages);\r\n  }\r\n\r\n  function changePage(offset) {\r\n    setPageNumber((prevPageNumber) => prevPageNumber + offset);\r\n  }\r\n\r\n  function previousPage() {\r\n    changePage(-1);\r\n  }\r\n\r\n  function nextPage() {\r\n    changePage(1);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setPageNumber(1);\r\n  }, [file]);\r\n\r\n  return file ? (\r\n    <div>\r\n      <ButtonGroup id=\"scaleButton\" sx={{ my: \"1em\" }}>\r\n        <Button onClick={add} variant=\"outlined\">\r\n          +\r\n        </Button>\r\n        <Button onClick={minus} variant=\"outlined\" disabled={scale <= 1}>\r\n          -\r\n        </Button>\r\n      </ButtonGroup>\r\n\r\n      <Document\r\n        file={file}\r\n        onLoadSuccess={onDocumentLoadSuccess}\r\n        loading={\r\n          <div\r\n            style={{\r\n              height: documentDimension.height,\r\n              width: documentDimension.width,\r\n            }}\r\n          >\r\n            <CircularProgress />\r\n          </div>\r\n        }\r\n      >\r\n        <Page\r\n          renderTextLayer={false}\r\n          className=\"page\"\r\n          scale={scale}\r\n          height={documentDimension.height}\r\n          width={documentDimension.width}\r\n          pageNumber={pageNumber}\r\n          loading={\r\n            <div\r\n              style={{\r\n                height: documentDimension.height,\r\n                width: documentDimension.width,\r\n              }}\r\n            >\r\n              <CircularProgress />\r\n            </div>\r\n          }\r\n        />\r\n      </Document>\r\n\r\n      <p style={{ color: \"black\" }}>\r\n        Page {pageNumber || (numPages ? 1 : \"--\")} of {numPages || \"--\"}\r\n      </p>\r\n\r\n      <ButtonGroup id=\"pageButton\">\r\n        <Button\r\n          variant=\"outlined\"\r\n          disabled={pageNumber <= 1}\r\n          onClick={previousPage}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button\r\n          variant=\"outlined\"\r\n          disabled={pageNumber >= numPages}\r\n          onClick={nextPage}\r\n        >\r\n          Next\r\n        </Button>\r\n      </ButtonGroup>\r\n    </div>\r\n  ) : (\r\n    <p>해당 날짜의 주보가 존재하지 않습니다.</p>\r\n  );\r\n}\r\n\r\nexport default PDFReader;\r\n","import axios from \"axios\";\r\nimport { format } from \"date-fns\";\r\n\r\nexport const uploadWeeklyUpdate = async (form) => {\r\n  try {\r\n    await axios.put(\"/api/WeeklyUpdate/PostBulletin/\", form, {\r\n      headers: {\r\n        \"Content-Type\": `multipart/form-data`,\r\n      },\r\n    });\r\n  } catch {\r\n    throw new Error();\r\n  }\r\n};\r\n\r\nexport const getWeeklyUpdate = async (selectedDate) => {\r\n  try {\r\n    return await axios.get(\"/api/WeeklyUpdate/GetBulletin\", {\r\n      params: {\r\n        date: format(selectedDate, \"yyyyMMdd\"),\r\n      },\r\n      responseType: \"arraybuffer\",\r\n    });\r\n  } catch {\r\n    throw new Error();\r\n  }\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  CircularProgress,\r\n  Modal,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport ButtonDatePicker from \"../../../common/ButtonDatePicker\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport AddCircleOutlineIcon from \"@mui/icons-material/AddCircleOutline\";\r\nimport { Document, Page } from \"react-pdf\";\r\nimport { add, endOfWeek, format, isSunday } from \"date-fns\";\r\nimport useSnackbar from \"../../../util/useSnackbar\";\r\nimport { uploadWeeklyUpdate } from \"../../../api/weeklyupdate\";\r\n\r\nconst style = {\r\n  position: \"absolute\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  width: \"80vw\",\r\n  height: \"90vh\",\r\n  maxWidth: \"1300px\",\r\n  bgcolor: \"#ffffff\",\r\n  boxShadow: 24,\r\n  borderRadius: \"0.5em\",\r\n  p: 1,\r\n  py: 3,\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n};\r\n\r\nconst MIN_DATE = \"2022/04/03\";\r\n\r\nconst WeeklyUpdatePostModal = ({ isOpen, onClose, setParentDate }) => {\r\n  const { openSnackbar } = useSnackbar();\r\n\r\n  const [selectedDate, setSelectedDate] = useState(\r\n    add(endOfWeek(new Date()), { days: 1 })\r\n  );\r\n  const [fileToUpload, setFileToUpload] = useState(null);\r\n\r\n  const test = useRef(null);\r\n  const [height, setHeight] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (test.current) {\r\n      setHeight(test.current.clientHeight);\r\n    }\r\n  }, [fileToUpload]);\r\n\r\n  const handleClose = () => {\r\n    setFileToUpload(null);\r\n    onClose();\r\n  };\r\n\r\n  const handleChangeFile = (file) => {\r\n    setFileToUpload(file[0]);\r\n  };\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: {\r\n      \"application/pdf\": [],\r\n    },\r\n    onDrop: (acceptedFile) => {\r\n      handleChangeFile(acceptedFile);\r\n    },\r\n    multiple: false,\r\n  });\r\n\r\n  const uploadBulletin = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      const form = new FormData();\r\n      const date = format(selectedDate, \"yyyyMMdd\");\r\n      form.append(\"images\", fileToUpload);\r\n      form.append(\"date\", date);\r\n\r\n      await uploadWeeklyUpdate(form);\r\n\r\n      openSnackbar(\"success\", \"Uploaded Succesfully!\");\r\n      setParentDate(selectedDate);\r\n      handleClose();\r\n    } catch (error) {\r\n      console.log(error);\r\n      openSnackbar(\r\n        \"error\",\r\n        \"Error Occured. Please contact to the administrator.\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  return (\r\n    <Modal open={isOpen} onClose={onClose}>\r\n      <Box sx={style} bgcolor=\"white\">\r\n        {loading ? (\r\n          <CircularProgress />\r\n        ) : (\r\n          <>\r\n            <h2>Choose Date</h2>\r\n\r\n            <ButtonDatePicker\r\n              value={selectedDate}\r\n              minDate={new Date(MIN_DATE)}\r\n              onChange={setSelectedDate}\r\n              disableDate={(date) => !isSunday(date)}\r\n            />\r\n\r\n            <div ref={test} style={{ height: \"60%\" }}>\r\n              <p>{fileToUpload ? fileToUpload.name : null}</p>\r\n              <Document file={fileToUpload}>\r\n                <Page\r\n                  renderTextLayer={false}\r\n                  className=\"page\"\r\n                  height={height - 80}\r\n                  // width={100}\r\n                  pageNumber={1}\r\n                />\r\n              </Document>\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                width: \"95%\",\r\n                height: \"15%\",\r\n                border: \"1pt dotted #f57c00\",\r\n                borderRadius: \"1em\",\r\n                overflowY: \"auto\",\r\n                marginBottom: \"1em\",\r\n              }}\r\n              {...getRootProps()}\r\n            >\r\n              <input {...getInputProps()} />\r\n              <Box\r\n                sx={{\r\n                  position: \"relative\",\r\n                  height: \"100%\",\r\n                  widht: \"100%\",\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: \"50%\",\r\n                    left: \"50%\",\r\n                    transform: \"translate(-50%, -50%)\",\r\n                  }}\r\n                >\r\n                  <AddCircleOutlineIcon fontSize=\"large\" color=\"primary\" />\r\n                  <Typography>Click or Drag File to here</Typography>\r\n                </div>\r\n              </Box>\r\n            </div>\r\n\r\n            <div>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={uploadBulletin}\r\n                disabled={!fileToUpload}\r\n              >\r\n                Upload\r\n              </Button>\r\n              <Button variant=\"outlined\" onClick={handleClose}>\r\n                Close\r\n              </Button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </Box>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default WeeklyUpdatePostModal;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\n\r\nimport { CircularProgress, Fab, IconButton, Typography } from \"@mui/material\";\r\nimport ArrowBackIosIcon from \"@mui/icons-material/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@mui/icons-material/ArrowForwardIos\";\r\nimport UploadIcon from \"@mui/icons-material/Upload\";\r\n\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport ButtonDatePicker from \"../../../common/ButtonDatePicker\";\r\nimport PDFReader from \"../../../components/News/WeeklyUpdate/PDFReader\";\r\n\r\nimport { useLoaderData, useNavigate } from \"react-router-dom\";\r\nimport AdminComponent from \"../../../common/AdminComponent\";\r\nimport {\r\n  addDays,\r\n  endOfWeek,\r\n  format,\r\n  isAfter,\r\n  isBefore,\r\n  isSameDay,\r\n  isSunday,\r\n  startOfWeek,\r\n  subDays,\r\n} from \"date-fns\";\r\n\r\nimport \"./WeeklyUpdate.css\";\r\nimport \"../../NextGen/NextGen.css\";\r\nimport useModals from \"../../../util/useModal\";\r\nimport WeeklyUpdatePostModal from \"../../../components/News/WeeklyUpdate/WeeklyUpdatePostModal\";\r\nimport { getWeeklyUpdate } from \"../../../api/weeklyupdate\";\r\n\r\nconst titleBackground = {\r\n  backgroundImage:\r\n    'linear-gradient(rgba(0, 0, 0, 0.30), rgba(0, 0, 0, 0.30)), url(\"/img/News/WeeklyUpdate/WeeklyUpdate.webp\")',\r\n};\r\n\r\nconst WeeklyUpdate = () => {\r\n  const { openModal } = useModals();\r\n  const navigate = useNavigate();\r\n\r\n  const { maxDate, queryDate } = useLoaderData();\r\n  const minDate = new Date(\"2022/04/03\");\r\n\r\n  const [bulletin, setBulletin] = useState(null);\r\n  const [selectedDate, setSelectedDate] = useState(queryDate);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Get Bulletin from Firestore\r\n  const loadFile = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const result = await getWeeklyUpdate(selectedDate);\r\n\r\n      setBulletin(result.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setBulletin(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [selectedDate]);\r\n\r\n  const previousSunday = () => {\r\n    setSelectedDate((prev) =>\r\n      isSunday(prev) ? subDays(prev, 7) : startOfWeek(prev, { weekStartsOn: 0 })\r\n    );\r\n  };\r\n\r\n  const nextSunday = () => {\r\n    setSelectedDate((prev) =>\r\n      isSunday(prev) ? addDays(prev, 7) : endOfWeek(prev, { weekStartsOn: 1 })\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadFile();\r\n    navigate(\"/weeklyupdate/\" + format(selectedDate, \"yyyyMMdd\"));\r\n  }, [selectedDate, loadFile, navigate]);\r\n\r\n  const width = isMobile\r\n    ? document.documentElement.clientWidth\r\n    : window.innerWidth;\r\n  const height = isMobile\r\n    ? document.documentElement.clientHeight\r\n    : window.innerHeight;\r\n\r\n  const [documentDimension, detectHW] = useState({\r\n    width: height / width >= 16 / 10 ? width - 30 : null,\r\n    height: height / width < 16 / 10 ? height : null,\r\n  });\r\n\r\n  const detectSize = () => {\r\n    const width = isMobile\r\n      ? document.documentElement.clientWidth\r\n      : window.innerWidth;\r\n    const height = isMobile\r\n      ? document.documentElement.clientHeight\r\n      : window.innerHeight;\r\n\r\n    detectHW({\r\n      width: height / width >= 16 / 10 ? width - 30 : null,\r\n      height: height / width < 16 / 10 ? height : null,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", detectSize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", detectSize);\r\n    };\r\n  }, [documentDimension]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"title-wrapper\" style={titleBackground}>\r\n        <div className=\"title\">\r\n          <Typography\r\n            variant=\"h4\"\r\n            fontWeight={830}\r\n            sx={{ letterSpacing: \"0.4em\", pl: \"0.4em\", color: \"white\" }}\r\n          >\r\n            주보\r\n          </Typography>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-wrapper\">\r\n        <div\r\n          className=\"container\"\r\n          style={{ textAlign: \"center\", paddingLeft: 0, paddingRight: 0 }}\r\n        >\r\n          <>\r\n            <IconButton\r\n              id=\"previousBulletin\"\r\n              onClick={previousSunday}\r\n              disabled={\r\n                isSameDay(selectedDate, minDate) ||\r\n                isBefore(selectedDate, minDate) ||\r\n                loading\r\n              }\r\n            >\r\n              <ArrowBackIosIcon />\r\n            </IconButton>\r\n\r\n            <ButtonDatePicker\r\n              value={selectedDate}\r\n              minDate={minDate}\r\n              maxDate={maxDate}\r\n              onChange={setSelectedDate}\r\n              disableDate={(date) => !isSunday(date)}\r\n            />\r\n\r\n            <IconButton\r\n              id=\"nextBulletin\"\r\n              onClick={nextSunday}\r\n              disabled={\r\n                isSameDay(selectedDate, maxDate) ||\r\n                isAfter(selectedDate, maxDate) ||\r\n                loading\r\n              }\r\n            >\r\n              <ArrowForwardIosIcon />\r\n            </IconButton>\r\n          </>\r\n\r\n          {loading ? (\r\n            <div style={{ height: \"100vh\" }}>\r\n              <CircularProgress sx={{ mt: 2 }} />\r\n            </div>\r\n          ) : (\r\n            <PDFReader file={bulletin} documentDimension={documentDimension} />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <AdminComponent>\r\n        <Fab\r\n          id=\"uploadBulletinButton\"\r\n          onClick={() =>\r\n            openModal(WeeklyUpdatePostModal, {\r\n              setParentDate: setSelectedDate,\r\n            })\r\n          }\r\n        >\r\n          <UploadIcon />\r\n        </Fab>\r\n      </AdminComponent>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WeeklyUpdate;\r\n"],"names":["props","useSelector","state","authToken","admin","children","ButtonField","setIsDatePickerOpen","id","disabled","value","InputProps","ref","inputProps","ariaLabel","_jsx","Button","variant","size","onClick","prev","format","isDatePickerOpen","useState","disableDate","restProps","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","slots","field","slotProps","popper","placement","open","onClose","shouldDisableDate","date","disableHighlightToday","pdfjs","GlobalWorkerOptions","workerSrc","concat","version","_ref","file","documentDimension","numPages","setNumPages","pageNumber","setPageNumber","scale","setScale","changePage","offset","prevPageNumber","useEffect","_jsxs","ButtonGroup","sx","my","add","minus","Document","onLoadSuccess","_ref2","loading","style","height","width","CircularProgress","Page","renderTextLayer","className","color","position","top","left","transform","maxWidth","bgcolor","boxShadow","borderRadius","p","py","display","flexDirection","alignItems","justifyContent","isOpen","setParentDate","openSnackbar","useSnackbar","selectedDate","setSelectedDate","endOfWeek","Date","days","fileToUpload","setFileToUpload","test","useRef","setHeight","current","clientHeight","handleClose","getRootProps","getInputProps","useDropzone","accept","onDrop","acceptedFile","multiple","setLoading","Modal","Box","_Fragment","ButtonDatePicker","minDate","onChange","isSunday","name","border","overflowY","marginBottom","widht","AddCircleOutlineIcon","fontSize","Typography","async","form","FormData","append","axios","put","headers","Error","uploadWeeklyUpdate","error","console","log","titleBackground","backgroundImage","WeeklyUpdate","openModal","useModals","navigate","useNavigate","maxDate","queryDate","useLoaderData","bulletin","setBulletin","loadFile","useCallback","result","get","params","responseType","getWeeklyUpdate","data","err","isMobile","document","documentElement","clientWidth","window","innerWidth","innerHeight","detectHW","detectSize","addEventListener","removeEventListener","fontWeight","letterSpacing","pl","textAlign","paddingLeft","paddingRight","IconButton","previousSunday","subDays","startOfWeek","weekStartsOn","isSameDay","isBefore","ArrowBackIosIcon","nextSunday","addDays","isAfter","ArrowForwardIosIcon","mt","PDFReader","AdminComponent","Fab","WeeklyUpdatePostModal","UploadIcon"],"sourceRoot":""}